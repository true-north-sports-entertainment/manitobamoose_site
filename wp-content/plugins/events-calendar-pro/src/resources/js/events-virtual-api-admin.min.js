/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

window.tribe=window.tribe||{},tribe.events=tribe.events||{},tribe.events.views=tribe.events.views||{},tribe.events.virtualAdmin=tribe.events.virtualAdmin||{},tribe.events.virtualAdminAPI=tribe.events.virtualAdminAPI||{},function($,obj,virtualAdmin,tribe_dropdowns){const $document=$(document);obj.selectors={meetingContainer:".tec-events-virtual-meetings-api-container",meetingAccountDropdown:".tec-events-virtual-meetings-api__account-dropdown",meetingAccountSelect:".tec-events-virtual-meetings-api-action__account-select-link",meetingCreate:".tec-events-virtual-meetings-api-action__create-link",meetingCreateOptions:".tec-events-virtual-meetings-api-create__types",meetingCreateType:'input[name="tribe-events-virtual[%%APIID%%-meeting-type]"]:checked',meetingHostsDropdown:".tec-events-virtual-meetings-api__host-dropdown",meetingRemove:".tec-events-virtual-meetings-api-details__remove-link",meetingMessage:".tec-events-virtual-settings-message__wrap",meetingMessagesWrap:".tec-events-virtual-video-source-api-setup__messages-wrap",meetingDisplayLinkOption:"#tribe-events-virtual-meetings-api-display-details",googleMeetContainer:"#tribe-events-virtual-meetings-google",microsoftTeamsContainer:"#tribe-events-virtual-meetings-microsoft",webexMeetingContainer:"#tribe-events-virtual-meetings-webex",zoomMeetingContainer:"#tribe-events-virtual-meetings-zoom",virtualContainer:"#tribe-virtual-events",virtualEmbedVideoOption:"#tribe-events-virtual-embed-video",virtualHiddenElement:".tribe-events-virtual-hidden",virtualLinkedButtonOption:"#tribe-events-virtual-linked-button",virtualLoader:".tribe-common-c-loader",virtualLoaderHiddenElement:".tribe-common-a11y-hidden"},obj.originalState={linkedButtonOption:{checked:$(obj.selectors.virtualLinkedButtonOption).prop("checked")}},obj.handleAccountSelection=function(ev){ev.preventDefault();const $apiContainer=$(this).closest(obj.selectors.meetingContainer),url=$(ev.target).attr("href"),accountId=$apiContainer.find(obj.selectors.meetingAccountDropdown).find("option:selected").val();obj.show($apiContainer),$.ajax(url,{contentType:"application/json",context:$apiContainer,data:{account_id:accountId},success:obj.onMeetingHandlingSuccess})},obj.handleUserValidation=function(ev){ev.preventDefault();const $apiContainer=$(this).closest(obj.selectors.meetingContainer),url=$(obj.selectors.meetingHostsDropdown).data("validateUrl"),hostId=$(obj.selectors.meetingHostsDropdown).find("option:selected").val(),accountId=$apiContainer.data("accountId");obj.show($apiContainer),$.ajax(url,{contentType:"application/json",context:$apiContainer,data:{account_id:accountId,host_id:hostId},success:obj.onMeetingValidateUserSuccess})},obj.onMeetingValidateUserSuccess=function(html){const $apiContainer=$(this).closest(obj.selectors.meetingContainer);obj.hide($apiContainer);const $message=$(html).filter(obj.selectors.meetingMessage);$apiContainer.find(obj.selectors.meetingMessagesWrap).html($message);const $createOptions=$(html).filter(obj.selectors.meetingCreateOptions);0!==$createOptions.length&&$apiContainer.find(obj.selectors.meetingCreateOptions).replaceWith($createOptions)},obj.handleCreateRequest=function(ev){ev.preventDefault();const $apiContainer=$(this).closest(obj.selectors.meetingContainer),apiId=$apiContainer.data("apiId"),meetingApiCreateType=obj.selectors.meetingCreateType.replace("%%APIID%%",apiId),meetingType=$(meetingApiCreateType).data("type"),meetingApiPasswordRequirements=$(meetingApiCreateType).data("passwordRequirements"),url=$apiContainer.find(meetingApiCreateType).val(),accountId=$apiContainer.data("accountId");let hostId=$apiContainer.find(obj.selectors.meetingHostsDropdown).find("option:selected").val();hostId||(hostId=$apiContainer.find(obj.selectors.meetingHostsDropdown).data("hostId")),$document.trigger("tec.virtual.api.create.validation",{apiId:apiId,meetingApiCreateType:meetingApiCreateType,accountId:accountId,hostId:hostId}),obj.show($apiContainer),$.ajax(url,{contentType:"application/json",context:$apiContainer,data:{host_id:hostId,account_id:accountId,password_requirements:meetingApiPasswordRequirements,meeting_type:meetingType,EventStartDate:$("#EventStartDate").val(),EventStartTime:$("#EventStartTime").val(),EventEndDate:$("#EventEndDate").val(),EventEndTime:$("#EventEndTime").val(),EventTimezone:$("#event-timezone option:selected").val(),allDayCheckbox:!!$("#allDayCheckbox").prop("checked")||""},success:obj.onMeetingHandlingSuccess})},obj.handleRemoveRequest=function(ev){ev.preventDefault();if(!confirm($(this).data("confirmation")))return;const url=$(ev.target).attr("href"),$apiContainer=$(this).closest(obj.selectors.meetingContainer);url&&obj.removeRequestAjax(url,$apiContainer)},obj.removeRequestAjax=function(url,$apiContainer){$apiContainer&&obj.show($apiContainer),$.ajax(url,{contentType:"application/json",context:$apiContainer,success:obj.onMeetingHandlingSuccess})},obj.onMeetingHandlingSuccess=function(html){$(this).closest(obj.selectors.meetingContainer).replaceWith(html),obj.setupApiFields("")},obj.handleAutoDetectGoogle=function(event,data){if(!data.html)return;const $apiContainer=$document.find(obj.selectors.googleMeetContainer),$meetingDetails=$(data.html).filter(obj.selectors.googleMeetContainer);0!==$meetingDetails.length&&($apiContainer.html($meetingDetails),obj.setupApiFields("google"))},obj.handleAutoDetectMicrosoft=function(event,data){if(!data.html)return;const $apiContainer=$document.find(obj.selectors.microsoftTeamsContainer),$meetingDetails=$(data.html).filter(obj.selectors.microsoftTeamsContainer);0!==$meetingDetails.length&&($apiContainer.html($meetingDetails),obj.setupApiFields("microsoft"))},obj.handleAutoDetectWebex=function(event,data){if(!data.html)return;const $apiContainer=$document.find(obj.selectors.webexMeetingContainer),$meetingDetails=$(data.html).filter(obj.selectors.webexMeetingContainer);0!==$meetingDetails.length&&($apiContainer.html($meetingDetails),obj.setupApiFields("webex"))},obj.handleAutoDetectZoom=function(event,data){if(!data.html)return;const $apiContainer=$document.find(obj.selectors.zoomMeetingContainer),$meetingDetails=$(data.html).filter(obj.selectors.zoomMeetingContainer);0!==$meetingDetails.length&&($apiContainer.html($meetingDetails),obj.setupApiFields("zoom"))},obj.setupApiFields=function(api_id){api_id?$(virtualAdmin.selectors.videoSource).val(api_id).trigger("change").trigger("verify.dependency"):$(virtualAdmin.selectors.videoSource).trigger("verify.dependency"),obj.setupControls(),obj.checkButtons(),obj.initTribeDropdowns(),virtualAdmin.handleShowOptionInteractivity&&"function"==typeof virtualAdmin.handleShowOptionInteractivity&&virtualAdmin.handleShowOptionInteractivity()},obj.handleLinkedMetaRemove=function(){const url=$(obj.selectors.meetingRemove).attr("href");url&&obj.removeRequestAjax(url)},obj.checkButtons=function(){const $displayLinkOption=$(obj.selectors.meetingDisplayLinkOption);$(obj.selectors.virtualLinkedButtonOption).prop("checked",!0),$displayLinkOption.prop("checked",!0)},obj.setupControls=function(){const $embedVideoOptionItem=$(obj.selectors.virtualEmbedVideoOption).closest("li"),$displayLinkOptionItem=$(obj.selectors.meetingDisplayLinkOption).closest("li"),$linkedButtonOption=$(obj.selectors.virtualLinkedButtonOption),videoSourceVal=$(virtualAdmin.selectors.videoSource).val();"webex"===videoSourceVal||"zoom"===videoSourceVal?($embedVideoOptionItem.addClass(obj.selectors.virtualHiddenElement.className()),$displayLinkOptionItem.removeClass(obj.selectors.virtualHiddenElement.className())):($embedVideoOptionItem.removeClass(obj.selectors.virtualHiddenElement.className()),$displayLinkOptionItem.addClass(obj.selectors.virtualHiddenElement.className()),$linkedButtonOption.prop("checked",obj.originalState.linkedButtonOption.checked))},obj.initTribeDropdowns=function(){$(document).find(obj.selectors.meetingContainer).find(tribe_dropdowns.selector.dropdown).not(tribe_dropdowns.selector.created).tribe_dropdowns()},obj.show=function($container){const $loader=$container.find(obj.selectors.virtualLoader);$loader.length&&$loader.removeClass(obj.selectors.virtualLoaderHiddenElement.className())},obj.hide=function($container){const $loader=$container.find(obj.selectors.virtualLoader);$loader.length&&$loader.addClass(obj.selectors.virtualLoaderHiddenElement.className())},obj.bindEvents=function(){$(obj.selectors.virtualContainer).on("click",obj.selectors.meetingAccountSelect,obj.handleAccountSelection).on("click",obj.selectors.meetingCreate,obj.handleCreateRequest).on("click",obj.selectors.meetingRemove,obj.handleRemoveRequest),$document.on("virtual.delete",obj.handleLinkedMetaRemove),$document.on("change",obj.selectors.meetingHostsDropdown,obj.handleUserValidation),$document.on("autodetect.complete",obj.handleAutoDetectGoogle).on("autodetect.complete",obj.handleAutoDetectMicrosoft).on("autodetect.complete",obj.handleAutoDetectWebex).on("autodetect.complete",obj.handleAutoDetectZoom)},obj.ready=function(){obj.bindEvents()},$(obj.ready)}(jQuery,tribe.events.virtualAdminAPI,tribe.events.virtualAdmin,tribe_dropdowns);