/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

window.tribe=window.tribe||{},tribe.events=tribe.events||{},tribe.events.views=tribe.events.views||{},tribe.events.virtualAdmin=tribe.events.virtualAdmin||{},tribe.events.virtualAdminZoom=tribe.events.virtualAdminZoom||{},function($,obj,virtualAdmin,tribe_dropdowns){var $document=$(document);obj.selectors={configureZoom:".tribe-events-virtual-meetings-zoom-details__generate-zoom-button",displayLinkOption:"#tribe-events-virtual-meetings-zoom-display-details",embedVideoOption:"#tribe-events-virtual-embed-video",hidden:".tribe-events-virtual-hidden",linkedButtonOption:"#tribe-events-virtual-linked-button",accountSelect:".tribe-events-virtual-meetings-zoom-details__account-select-link",hostsDropdown:"#tribe-events-virtual-zoom-host",createOptions:".tribe-events-virtual-meetings-zoom-details__types",meetingHostsDropdown:"#tribe-events-virtual-zoom-host",meetingCreate:".tribe-events-virtual-meetings-zoom-details__create-link",meetingDetails:".tribe-events-virtual-meetings-zoom-details",meetingDetailsFloat:".tribe-events-virtual-meetings-zoom-details--float",meetingRemove:".tribe-events-virtual-meetings-zoom-details__remove-link",remove:".tribe-remove-virtual-event",setupZoomCheckbox:"#tribe-events-virtual-zoom-link-generate",urlField:".tribe-events-virtual-video-source__virtual-url-input",videoSource:"#tribe-events-virtual-video-source",virtualContainer:"#tribe-virtual-events",zoomMeetingsContainer:"#tribe-events-virtual-meetings-zoom",zoomType:'input[name="tribe-events-virtual[zoom-meeting-type]"]:checked',zoomLoader:".tribe-common-c-loader",zoomHiddenElement:".tribe-common-a11y-hidden",zoomMessagesWrap:".tec-events-virtual-video-source-zoom-setup__messages-wrap",zoomMessage:".tec-events-virtual-settings-message__wrap"},obj.originalState={linkedButtonOption:{checked:$(obj.selectors.linkedButtonOption).prop("checked")}},obj.state={urlField:{value:""}},obj.handleAccountSelection=function(ev){ev.preventDefault();var url=$(ev.target).attr("href"),accountId=$("#tribe-events-virtual-zoom-account option:selected").val();obj.show($(obj.selectors.zoomMeetingsContainer)),$.ajax(url,{contentType:"application/json",context:$(obj.selectors.zoomMeetingsContainer),data:{zoom_account_id:accountId},success:obj.onMeetingHandlingSuccess})},obj.handleUserValidation=function(ev){ev.preventDefault();var url=$(obj.selectors.hostsDropdown).data("validateUrl"),hostId=$(obj.selectors.hostsDropdown).find("option:selected").val(),accountId=$(obj.selectors.zoomMeetingsContainer).data("accountId");url&&hostId&&accountId&&(obj.show($(obj.selectors.zoomMeetingsContainer)),$.ajax(url,{contentType:"application/json",context:$(obj.selectors.createOptions),data:{zoom_account_id:accountId,zoom_host_id:hostId},success:obj.onMeetingValidateUserSuccess}))},obj.onMeetingValidateUserSuccess=function(html){obj.hide($(obj.selectors.zoomMeetingsContainer));const $message=$(html).filter(obj.selectors.zoomMessage),$createOptions=$(html).filter(obj.selectors.createOptions);$(obj.selectors.zoomMessagesWrap).html($message),0!==$createOptions.length&&$(obj.selectors.createOptions).replaceWith($createOptions)},obj.handleMeetingRequest=function(ev){ev.preventDefault();var url=$(obj.selectors.zoomType).val(),hostId=$(obj.selectors.hostsDropdown).find("option:selected").val(),accountId=$(obj.selectors.zoomMeetingsContainer).data("accountId");obj.show($(obj.selectors.zoomMeetingsContainer)),$.ajax(url,{contentType:"application/json",context:$(obj.selectors.zoomMeetingsContainer),data:{zoom_host_id:hostId,zoom_account_id:accountId},success:obj.onMeetingHandlingSuccess})},obj.handleRemoveRequest=function(ev){if(ev.preventDefault(),confirm(tribe_events_virtual_placeholder_strings.removeConfirm)){var url=$(ev.target).attr("href");url&&obj.removeRequestAjax(url)}},obj.removeRequestAjax=function(url){$.ajax(url,{contentType:"application/json",context:$(obj.selectors.zoomMeetingsContainer),success:obj.onMeetingHandlingSuccess})},obj.onMeetingHandlingSuccess=function(html){$(obj.selectors.zoomMeetingsContainer).replaceWith(html),obj.setupControls(),obj.checkButtons(),obj.initTribeDropdowns(),$(virtualAdmin.selectors.videoSource).trigger("verify.dependency"),virtualAdmin.handleShowOptionInteractivity&&"function"==typeof virtualAdmin.handleShowOptionInteractivity&&virtualAdmin.handleShowOptionInteractivity()},obj.handleAutoDetectZoom=function(event,data){if(!data.html)return;const $meetingDetails=$(data.html).filter(obj.selectors.zoomMeetingsContainer);0!==$meetingDetails.length&&($(obj.selectors.zoomMeetingsContainer).html($meetingDetails),obj.setupControls(),obj.checkButtons(),obj.initTribeDropdowns(),$(virtualAdmin.selectors.videoSource).val("zoom").trigger("change").trigger("verify.dependency"),virtualAdmin.handleShowOptionInteractivity&&"function"==typeof virtualAdmin.handleShowOptionInteractivity&&virtualAdmin.handleShowOptionInteractivity())},obj.waitForVirtualEventsToLoad=function(){var counter=10,checkExist=setInterval((function(){counter--,($(obj.selectors.meetingDetails).length||0===counter)&&clearInterval(checkExist)}),200)},obj.handleLinkedMetaRemove=function(){var url=$(obj.selectors.meetingRemove).attr("href");url&&obj.removeRequestAjax(url)},obj.bindEvents=function(){$(obj.selectors.virtualContainer).on("click",obj.selectors.configureZoom,obj.setZoomCheckboxCheckedAttr(!0)).on("click",obj.selectors.accountSelect,obj.handleAccountSelection).on("click",obj.selectors.meetingCreate,obj.handleMeetingRequest).on("click",obj.selectors.meetingRemove,obj.handleRemoveRequest),$document.on("virtual.delete",obj.handleLinkedMetaRemove),$document.on("autodetect.complete",obj.handleAutoDetectZoom),$document.on("change",obj.selectors.meetingHostsDropdown,obj.handleUserValidation)},obj.checkButtons=function(){var $displayLinkOption=$(obj.selectors.displayLinkOption);$(obj.selectors.linkedButtonOption).prop("checked",!0),$displayLinkOption.prop("checked",!0)},obj.setupControls=function(){var $urlField=$(obj.selectors.urlField),$embedVideoOptionItem=$(obj.selectors.embedVideoOption).closest("li"),$displayLinkOptionItem=$(obj.selectors.displayLinkOption).closest("li"),$linkedButtonOption=$(obj.selectors.linkedButtonOption);$(obj.selectors.meetingDetails).length?($embedVideoOptionItem.addClass(obj.selectors.hidden.className()),$displayLinkOptionItem.removeClass(obj.selectors.hidden.className()),obj.state.urlField.value=$urlField.val(),$urlField.val("")):($urlField.prop({disabled:!1}).attr("placeholder",tribe_events_virtual_placeholder_strings.video),$embedVideoOptionItem.removeClass(obj.selectors.hidden.className()),$displayLinkOptionItem.addClass(obj.selectors.hidden.className()),$linkedButtonOption.prop("checked",obj.originalState.linkedButtonOption.checked),$urlField.val(obj.state.urlField.value),obj.state.urlField.value="")},obj.initTribeDropdowns=function(){$(document).find(obj.selectors.zoomMeetingsContainer).find(tribe_dropdowns.selector.dropdown).not(tribe_dropdowns.selector.created).tribe_dropdowns()},obj.setZoomCheckboxCheckedAttr=function(checked){return function(){$(obj.selectors.setupZoomCheckbox).prop("checked",checked).trigger("verify.dependency")}},obj.show=function($container){const $loader=$container.find(obj.selectors.zoomLoader);$loader.length&&$loader.removeClass(obj.selectors.zoomHiddenElement.className())},obj.hide=function($container){const $loader=$container.find(obj.selectors.zoomLoader);$loader.length&&$loader.addClass(obj.selectors.zoomHiddenElement.className())},obj.ready=function(){console.info("Scripts deprecated and replaced with tribe.events.virtualAdminAPI."),obj.bindEvents()},$(obj.ready)}(jQuery,tribe.events.virtualAdminZoom,tribe.events.virtualAdmin,tribe_dropdowns);