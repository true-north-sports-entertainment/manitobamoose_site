/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

describe("Filter Clear",(()=>{beforeAll((()=>{String.prototype.className=function(){return"string"!=typeof this&&!this instanceof String||"function"!=typeof this.replace?this:this.replace(".","")},global.tribe={},require("../filter-clear")})),afterAll((()=>{delete String.prototype.className,delete global.tribe})),describe("Selectors",(()=>{test("Should match snapshot",(()=>{const selectors=JSON.stringify(tribe.filterBar.filterClear.selectors);expect(selectors).toMatchSnapshot()}))})),describe("Handle clear click",(()=>{let windowHold;beforeEach((()=>{windowHold=global.window,delete global.window.location,global.window=Object.create(window),global.window.location={href:"https://test.tri.be/events/month/?tribe_eventcategory[0]=hello&tribe_eventcategory[1]=world&tribe_cost=0-100&tribe_custom=moderntribe",origin:"https://test.tri.be",pathname:"/events/month/",search:"?tribe_eventcategory[0]=hello&tribe_eventcategory[1]=world&tribe_cost=0-100&tribe_custom=moderntribe",hash:""},global.tribe.filterBar.filters={removeKeyValueFromQuery:jest.fn().mockImplementation((()=>({}))),submitRequest:jest.fn(),getCurrentUrl:jest.fn().mockImplementation((()=>({}))),getCurrentUrlAsObject:jest.fn().mockImplementation((()=>({})))}})),afterEach((()=>{global.window=windowHold})),test("Should clear filters",(()=>{const event={data:{container:$('\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="tribe-filter-bar__selected-filter"\n\t\t\t\t\t\tdata-js="tribe-filter-bar__selected-filter"\n\t\t\t\t\t\tdata-filter-name="tribe_eventcategory[]"\n\t\t\t\t\t>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="tribe-filter-bar__selected-filter"\n\t\t\t\t\t\tdata-js="tribe-filter-bar__selected-filter"\n\t\t\t\t\t\tdata-filter-name="tribe_cost"\n\t\t\t\t\t>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="tribe-filter-bar__selected-filter"\n\t\t\t\t\t\tdata-js="tribe-filter-bar__selected-filter"\n\t\t\t\t\t\tdata-filter-name="tribe_custom"\n\t\t\t\t\t>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t')}};tribe.filterBar.filterClear.handleClearClick(event),expect(tribe.filterBar.filters.removeKeyValueFromQuery.mock.calls.length).toBe(3),expect(tribe.filterBar.filters.submitRequest.mock.calls.length).toBe(1)})),test("Should not change url if no selected filters",(()=>{const event={data:{container:$("<div></div>")}};tribe.filterBar.filterClear.handleClearClick(event),expect(tribe.filterBar.filters.removeKeyValueFromQuery.mock.calls.length).toBe(0),expect(tribe.filterBar.filters.submitRequest.mock.calls.length).toBe(1)})),test("Should not change url if pills do not have data-filter-name attribute",(()=>{const event={data:{container:$('\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="tribe-filter-bar__selected-filter"\n\t\t\t\t\t\tdata-js="tribe-filter-bar__selected-filter"\n\t\t\t\t\t>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="tribe-filter-bar__selected-filter"\n\t\t\t\t\t\tdata-js="tribe-filter-bar__selected-filter"\n\t\t\t\t\t>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="tribe-filter-bar__selected-filter"\n\t\t\t\t\t\tdata-js="tribe-filter-bar__selected-filter"\n\t\t\t\t\t>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t')}};tribe.filterBar.filterClear.handleClearClick(event),expect(tribe.filterBar.filters.removeKeyValueFromQuery.mock.calls.length).toBe(0),expect(tribe.filterBar.filters.submitRequest.mock.calls.length).toBe(1)}))}))}));