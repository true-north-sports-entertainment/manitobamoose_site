/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

tribe.filterBar=tribe.filterBar||{},tribe.filterBar.filterToggle={},function($,obj){"use strict";var $document=$(document);obj.selectors={filterBarHorizontal:".tribe-events--filter-bar-horizontal",filterBar:".tribe-filter-bar",filter:".tribe-filter-bar-c-filter",filterOpen:".tribe-filter-bar-c-filter--open",filterContainer:".tribe-filter-bar-c-filter__container",filtersSliderContainer:".tribe-filter-bar__filters-slider-container",filterToggle:'[data-js~="tribe-filter-bar-c-filter-toggle"]',filterClose:'[data-js~="tribe-filter-bar-c-filter-close"]',pillFilterToggle:'[data-js~="tribe-filter-bar-filters-slide-pill"]'},obj.closeAllFilters=function($filterBar){$filterBar.find(obj.selectors.filter).each((function(index,filter){obj.closeFilter($filterBar,$(filter))}))},obj.openFilter=function($filterBar,$filter){var $filterContainer=$filter.find(obj.selectors.filterContainer),filterContainerId=$filterContainer.attr("id");if(filterContainerId){var $filterToggle=$filter.find(obj.selectors.filterToggle),$filterPillToggle=$filterBar.find(obj.selectors.pillFilterToggle+'[aria-controls="'+filterContainerId+'"]');$filter.addClass(obj.selectors.filterOpen.className()),tribe.events.views.accordion.openAccordion($filterToggle,$filterContainer),$filterPillToggle.length&&tribe.events.views.accordion.openAccordion($filterPillToggle,$filterContainer)}},obj.closeFilter=function($filterBar,$filter){var $filterContainer=$filter.find(obj.selectors.filterContainer),filterContainerId=$filterContainer.attr("id");if(filterContainerId){var $filterToggle=$filter.find(obj.selectors.filterToggle),$filterPillToggle=$filterBar.find(obj.selectors.pillFilterToggle+'[aria-controls="'+filterContainerId+'"]');$filter.removeClass(obj.selectors.filterOpen.className()),tribe.events.views.accordion.closeAccordion($filterToggle,$filterContainer),$filterPillToggle.length&&tribe.events.views.accordion.closeAccordion($filterPillToggle,$filterContainer)}},obj.handleToggleClick=function(event){event.data.target.closest(obj.selectors.filter).toggleClass(obj.selectors.filterOpen.className())},obj.handleCloseClick=function(event){var $filter=event.data.target.closest(obj.selectors.filter),$filterBar=$filter.closest(obj.selectors.filterBar);obj.closeFilter($filterBar,$filter)},obj.handlePillToggleClick=function(event){var $pillToggle=event.data.target,filterContainerId=$pillToggle.attr("aria-controls");if(filterContainerId){var $filterBar=$pillToggle.closest(obj.selectors.filterBar),$filter=$filterBar.find("#"+filterContainerId).closest(obj.selectors.filter),shouldOpen=!$filter.is(obj.selectors.filterOpen);obj.closeAllFilters($filterBar),shouldOpen&&obj.openFilter($filterBar,$filter)}},obj.handleResize=function(event){var $container=event.data.container,$filterBar=$container.find(obj.selectors.filterBar);if(0!==$filterBar.length){var state=$filterBar.data("tribeEventsState"),isMobile=$container.data("tribeEventsState").isMobile;isMobile||state.filterToggleDesktopInitialized?isMobile&&state.filterToggleDesktopInitialized&&(state.filterToggleDesktopInitialized=!1,$filterBar.data("tribeEventsState",state)):(obj.closeAllFilters($filterBar),state.filterToggleDesktopInitialized=!0,$filterBar.data("tribeEventsState",state))}},obj.handleClick=function(event){var $container=event.data.container;if(!$container.data("tribeEventsState").isMobile){var $target=$(event.target),isParentFilter=Boolean($target.closest(obj.selectors.filter).length),isParentFiltersSlidePill=Boolean($target.closest(obj.selectors.filtersSliderContainer).length);if(!isParentFilter&&!isParentFiltersSlidePill){var $filterBar=$container.find(obj.selectors.filterBar);obj.closeAllFilters($filterBar)}}},obj.unbindFilterEvents=function($container){var $filterToggles=$container.find(obj.selectors.filterToggle),$filterCloses=$container.find(obj.selectors.filterClose),$pillFilterToggles=$container.find(obj.selectors.pillFilterToggle);$filterToggles.off(),$filterCloses.off(),$pillFilterToggles.off()},obj.bindFilterEvents=function($container){var $filterToggles=$container.find(obj.selectors.filterToggle),$filterCloses=$container.find(obj.selectors.filterClose),$pillFilterToggles=$container.find(obj.selectors.pillFilterToggle);$filterToggles.each((function(index,toggle){var $toggle=$(toggle);$toggle.on("click",{target:$toggle,container:$container},obj.handleToggleClick)})),$pillFilterToggles.each((function(index,toggle){var $toggle=$(toggle);$toggle.on("click",{target:$toggle,container:$container},obj.handlePillToggleClick)})),$filterCloses.each((function(index,close){var $close=$(close);$close.on("click",{target:$close,container:$container},obj.handleCloseClick)}))},obj.unbindEvents=function($container){obj.unbindFilterEvents($container),$container.is(obj.selectors.filterBarHorizontal)&&($container.off("resize.tribeEvents",obj.handleResize),$document.off("click",obj.handleClick))},obj.bindEvents=function($container){obj.bindFilterEvents($container),$container.is(obj.selectors.filterBarHorizontal)&&($container.on("resize.tribeEvents",{container:$container},obj.handleResize),$document.on("click",{container:$container},obj.handleClick))},obj.initState=function($container){if($container.is(obj.selectors.filterBarHorizontal)){var $filterBar=$container.find(obj.selectors.filterBar),state={filterToggleDesktopInitialized:!$container.data("tribeEventsState").isMobile};$filterBar.data("tribeEventsState",state)}},obj.deinit=function(event){var $container=event.data.container;obj.unbindEvents($container),$container.off("beforeAjaxSuccess.tribeEvents",obj.deinit)},obj.init=function(event,index,$container){obj.initState($container),obj.bindEvents($container),$container.on("beforeAjaxSuccess.tribeEvents",{container:$container},obj.deinit)},obj.ready=function(){$document.on("afterSetup.tribeEvents",tribe.events.views.manager.selectors.container,obj.init)},$(obj.ready)}(jQuery,tribe.filterBar.filterToggle);