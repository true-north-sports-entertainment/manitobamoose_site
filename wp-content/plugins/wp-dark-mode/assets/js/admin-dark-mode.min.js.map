{"version":3,"file":"admin-dark-mode.min.js","sources":["../../src/common/Store.js","../../src/common/WPDarkMode.js","../../src/common/DarkModeAdmin.js","../../src/admin/dark-mode.js"],"sourcesContent":["/**\n * Store class to handle cookies\n * WP Dark Mode\n */\n\nclass Store {\n\tstatic prefix = 'wp-dark-mode-';\n\tstatic set(key, value, daysToExpire = 365) {\n\t\tkey           = `${Store.prefix}${key}`;\n\t\tconst expires = daysToExpire ? `expires = ${new Date( Date.now() + daysToExpire * 24 * 60 * 60 * 1000 ).toUTCString()};` : '';\n\t\tdocument.cookie = `${key} = ${encodeURIComponent( value )};${expires}path = / `;\n\n\t\treturn this\n\t}\n\n\tstatic get(key) {\n\t\tkey           = `${Store.prefix}${key}`;\n\t\tconst cookies = document.cookie.split( ';' );\n\t\tfor (const cookie of cookies) {\n\t\t\tconst [cookieKey, cookieValue] = cookie.split( '=' ).map( item => item.trim() );\n\t\t\tif (cookieKey === key) {\n\t\t\t\treturn decodeURIComponent( cookieValue );\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tstatic delete(key) {\n\t\tkey             = `${Store.prefix}${key}`;\n\t\tdocument.cookie = `${key} = ; expires = Thu, 01 Jan 1970 00:00:00 UTC; path = / ;`;\n\n\t\treturn this\n\t}\n}\n\nexport default Store;","import Store from './Store';\n\nclass DarkMode {\n\tstatic #instance = null;\n\n\t// Singleton: Return the existing instance if available, otherwise create a new one\n\tstatic getInstance() {\n\t\tif ( ! DarkMode.#instance) {\n\t\t\tDarkMode.#instance = new DarkMode();\n\t\t}\n\t\treturn DarkMode.#instance;\n\t}\n\n\t/**\n\t * Callbacks to be executed before and after dark mode is activated or deactivated\n\t */\n\t#callbacks = {\n\t\tonChange: [],\n\t}\n\n\t/**\n\t * Default configuration\n\t */\n\t#config = {\n\t\ttarget: 'html',\n\t\tactiveAttribute: 'data-wp-dark-mode-active',\n\t\tactiveClass: 'wp-dark-mode-active',\n\t\tignoreClass: 'wp-dark-mode-ignore',\n\t}\n\n\t// Register a callback to be executed after dark mode is activated or deactivated\n\tonChange(callback) {\n\t\t// if (typeof callback !== 'object') return;\n\t\tthis.#callbacks.onChange.push(callback);\n\t\treturn this;\n\t}\n\n\t// Check if the system is currently in dark mode\n\tget isDeviceDark() {\n\t\treturn window.matchMedia('(prefers-color-scheme: dark)').matches;\n\t}\n\n\t// Get the target element\n\tget target() {\n\t\treturn document.querySelector(this.#config.target);\n\t}\n\n\t// Check if dark mode is currently active on the page\n\tget isActive() {\n\t\treturn this.target?.hasAttribute(this.#config.activeAttribute);\n\t}\n\n\t// Toggle between activating and deactivating dark mode based on the current state\n\ttoggle() {\n\t\tthis.isActive ? this.deactivate() : this.activate();\n\t\treturn this;\n\t}\n\n\t// Update the class list of the HTML element to activate dark mode\n\tupdateTarget(active) {\n\t\tactive ? this.target.setAttribute(this.#config.activeAttribute, '') : this.target.removeAttribute(this.#config.activeAttribute);\n\t\tactive ? this.target.classList.add(this.#config.activeClass) : this.target.classList.remove(this.#config.activeClass);\n\t\treturn this;\n\t}\n\n\t// Activate dark mode\n\tactivate( config = {} ) {\n\t\t// Merge the default config with the provided config\n\t\tthis.#config = { ...this.#config, ...config };\n\n\t\tthis.updateTarget(true);\n\t\tthis.#callbacks.onChange.forEach(callback => callback({ isActive: this.isActive }));\n\t\treturn this;\n\t}\n\n\t// Deactivate dark mode\n\tdeactivate() {\n\t\tthis.updateTarget(false);\n\t\tthis.#callbacks.onChange.forEach(callback => callback({ isActive: this.isActive }));\n\t\treturn this;\n\t}\n\n\t// Remembers the user's choice of dark mode\n\tremember() {\n\t\tStore.set('choice', this.isActive ? 'dark' : 'light');\n\t\treturn this;\n\t}\n\n\t// Delete any previously stored choice of dark mode\n\tforget() {\n\t\tStore.delete('choice').delete('device').delete('timezone')\n\t\treturn this;\n\t}\n\n}\n\n// Global variable to access the DarkMode class\nconst WPDarkMode = DarkMode.getInstance();\nwindow.WPDarkMode = WPDarkMode;\n\n// Export a single instance of the DarkMode class as a singleton\nexport default WPDarkMode;\n","/**\n * Dark Reader v4.9.73\n * https://darkmode.org/\n */\n\n(function (global, factory) {\n  typeof exports === \"object\" && typeof module !== \"undefined\"\n      ? factory(exports)\n      : typeof define === \"function\" && define.amd\n        ? define([\"exports\"], factory)\n        : ((global =\n              typeof globalThis !== \"undefined\"\n                  ? globalThis\n                  : global || self),\n          factory((global.DarkModeAuto = {})));\n})(this, function (exports) {\n  \"use strict\";\n\n  /******************************************************************************\n  Copyright (c) Microsoft Corporation.\n\n  Permission to use, copy, modify, and/or distribute this software for any\n  purpose with or without fee is hereby granted.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n  PERFORMANCE OF THIS SOFTWARE.\n  ***************************************************************************** */\n  /* global Reflect, Promise, SuppressedError, Symbol */\n\n  var __assign = function () {\n      __assign =\n          Object.assign ||\n          function __assign(t) {\n              for (var s, i = 1, n = arguments.length; i < n; i++) {\n                  s = arguments[i];\n                  for (var p in s)\n                      if (Object.prototype.hasOwnProperty.call(s, p))\n                          t[p] = s[p];\n              }\n              return t;\n          };\n      return __assign.apply(this, arguments);\n  };\n\n  function __awaiter(thisArg, _arguments, P, generator) {\n      function adopt(value) {\n          return value instanceof P\n              ? value\n              : new P(function (resolve) {\n                    resolve(value);\n                });\n      }\n      return new (P || (P = Promise))(function (resolve, reject) {\n          function fulfilled(value) {\n              try {\n                  step(generator.next(value));\n              } catch (e) {\n                  reject(e);\n              }\n          }\n          function rejected(value) {\n              try {\n                  step(generator[\"throw\"](value));\n              } catch (e) {\n                  reject(e);\n              }\n          }\n          function step(result) {\n              result.done\n                  ? resolve(result.value)\n                  : adopt(result.value).then(fulfilled, rejected);\n          }\n          step(\n              (generator = generator.apply(thisArg, _arguments || [])).next()\n          );\n      });\n  }\n\n  function __generator(thisArg, body) {\n      var _ = {\n              label: 0,\n              sent: function () {\n                  if (t[0] & 1) throw t[1];\n                  return t[1];\n              },\n              trys: [],\n              ops: []\n          },\n          f,\n          y,\n          t,\n          g;\n      return (\n          (g = {next: verb(0), throw: verb(1), return: verb(2)}),\n          typeof Symbol === \"function\" &&\n              (g[Symbol.iterator] = function () {\n                  return this;\n              }),\n          g\n      );\n      function verb(n) {\n          return function (v) {\n              return step([n, v]);\n          };\n      }\n      function step(op) {\n          if (f) throw new TypeError(\"Generator is already executing.\");\n          while ((g && ((g = 0), op[0] && (_ = 0)), _))\n              try {\n                  if (\n                      ((f = 1),\n                      y &&\n                          (t =\n                              op[0] & 2\n                                  ? y[\"return\"]\n                                  : op[0]\n                                    ? y[\"throw\"] ||\n                                      ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                          !(t = t.call(y, op[1])).done)\n                  )\n                      return t;\n                  if (((y = 0), t)) op = [op[0] & 2, t.value];\n                  switch (op[0]) {\n                      case 0:\n                      case 1:\n                          t = op;\n                          break;\n                      case 4:\n                          _.label++;\n                          return {value: op[1], done: false};\n                      case 5:\n                          _.label++;\n                          y = op[1];\n                          op = [0];\n                          continue;\n                      case 7:\n                          op = _.ops.pop();\n                          _.trys.pop();\n                          continue;\n                      default:\n                          if (\n                              !((t = _.trys),\n                              (t = t.length > 0 && t[t.length - 1])) &&\n                              (op[0] === 6 || op[0] === 2)\n                          ) {\n                              _ = 0;\n                              continue;\n                          }\n                          if (\n                              op[0] === 3 &&\n                              (!t || (op[1] > t[0] && op[1] < t[3]))\n                          ) {\n                              _.label = op[1];\n                              break;\n                          }\n                          if (op[0] === 6 && _.label < t[1]) {\n                              _.label = t[1];\n                              t = op;\n                              break;\n                          }\n                          if (t && _.label < t[2]) {\n                              _.label = t[2];\n                              _.ops.push(op);\n                              break;\n                          }\n                          if (t[2]) _.ops.pop();\n                          _.trys.pop();\n                          continue;\n                  }\n                  op = body.call(thisArg, _);\n              } catch (e) {\n                  op = [6, e];\n                  y = 0;\n              } finally {\n                  f = t = 0;\n              }\n          if (op[0] & 5) throw op[1];\n          return {value: op[0] ? op[1] : void 0, done: true};\n      }\n  }\n\n  function __values(o) {\n      var s = typeof Symbol === \"function\" && Symbol.iterator,\n          m = s && o[s],\n          i = 0;\n      if (m) return m.call(o);\n      if (o && typeof o.length === \"number\")\n          return {\n              next: function () {\n                  if (o && i >= o.length) o = void 0;\n                  return {value: o && o[i++], done: !o};\n              }\n          };\n      throw new TypeError(\n          s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\"\n      );\n  }\n\n  function __read(o, n) {\n      var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n      if (!m) return o;\n      var i = m.call(o),\n          r,\n          ar = [],\n          e;\n      try {\n          while ((n === void 0 || n-- > 0) && !(r = i.next()).done)\n              ar.push(r.value);\n      } catch (error) {\n          e = {error: error};\n      } finally {\n          try {\n              if (r && !r.done && (m = i[\"return\"])) m.call(i);\n          } finally {\n              if (e) throw e.error;\n          }\n      }\n      return ar;\n  }\n\n  function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n          for (var i = 0, l = from.length, ar; i < l; i++) {\n              if (ar || !(i in from)) {\n                  if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                  ar[i] = from[i];\n              }\n          }\n      return to.concat(ar || Array.prototype.slice.call(from));\n  }\n\n  typeof SuppressedError === \"function\"\n      ? SuppressedError\n      : function (error, suppressed, message) {\n            var e = new Error(message);\n            return (\n                (e.name = \"SuppressedError\"),\n                (e.error = error),\n                (e.suppressed = suppressed),\n                e\n            );\n        };\n\n  var MessageTypeUItoBG;\n  (function (MessageTypeUItoBG) {\n      MessageTypeUItoBG[\"GET_DATA\"] = \"ui-bg-get-data\";\n      MessageTypeUItoBG[\"GET_DEVTOOLS_DATA\"] = \"ui-bg-get-devtools-data\";\n      MessageTypeUItoBG[\"SUBSCRIBE_TO_CHANGES\"] =\n          \"ui-bg-subscribe-to-changes\";\n      MessageTypeUItoBG[\"UNSUBSCRIBE_FROM_CHANGES\"] =\n          \"ui-bg-unsubscribe-from-changes\";\n      MessageTypeUItoBG[\"CHANGE_SETTINGS\"] = \"ui-bg-change-settings\";\n      MessageTypeUItoBG[\"SET_THEME\"] = \"ui-bg-set-theme\";\n      MessageTypeUItoBG[\"TOGGLE_ACTIVE_TAB\"] = \"ui-bg-toggle-active-tab\";\n      MessageTypeUItoBG[\"MARK_NEWS_AS_READ\"] = \"ui-bg-mark-news-as-read\";\n      MessageTypeUItoBG[\"MARK_NEWS_AS_DISPLAYED\"] =\n          \"ui-bg-mark-news-as-displayed\";\n      MessageTypeUItoBG[\"LOAD_CONFIG\"] = \"ui-bg-load-config\";\n      MessageTypeUItoBG[\"APPLY_DEV_DYNAMIC_THEME_FIXES\"] =\n          \"ui-bg-apply-dev-dynamic-theme-fixes\";\n      MessageTypeUItoBG[\"RESET_DEV_DYNAMIC_THEME_FIXES\"] =\n          \"ui-bg-reset-dev-dynamic-theme-fixes\";\n      MessageTypeUItoBG[\"APPLY_DEV_INVERSION_FIXES\"] =\n          \"ui-bg-apply-dev-inversion-fixes\";\n      MessageTypeUItoBG[\"RESET_DEV_INVERSION_FIXES\"] =\n          \"ui-bg-reset-dev-inversion-fixes\";\n      MessageTypeUItoBG[\"APPLY_DEV_STATIC_THEMES\"] =\n          \"ui-bg-apply-dev-static-themes\";\n      MessageTypeUItoBG[\"RESET_DEV_STATIC_THEMES\"] =\n          \"ui-bg-reset-dev-static-themes\";\n      MessageTypeUItoBG[\"COLOR_SCHEME_CHANGE\"] = \"ui-bg-color-scheme-change\";\n      MessageTypeUItoBG[\"HIDE_HIGHLIGHTS\"] = \"ui-bg-hide-highlights\";\n  })(MessageTypeUItoBG || (MessageTypeUItoBG = {}));\n  var MessageTypeBGtoUI;\n  (function (MessageTypeBGtoUI) {\n      MessageTypeBGtoUI[\"CHANGES\"] = \"bg-ui-changes\";\n  })(MessageTypeBGtoUI || (MessageTypeBGtoUI = {}));\n  var DebugMessageTypeBGtoUI;\n  (function (DebugMessageTypeBGtoUI) {\n      DebugMessageTypeBGtoUI[\"CSS_UPDATE\"] = \"debug-bg-ui-css-update\";\n      DebugMessageTypeBGtoUI[\"UPDATE\"] = \"debug-bg-ui-update\";\n  })(DebugMessageTypeBGtoUI || (DebugMessageTypeBGtoUI = {}));\n  var MessageTypeBGtoCS;\n  (function (MessageTypeBGtoCS) {\n      MessageTypeBGtoCS[\"ADD_CSS_FILTER\"] = \"bg-cs-add-css-filter\";\n      MessageTypeBGtoCS[\"ADD_DYNAMIC_THEME\"] = \"bg-cs-add-dynamic-theme\";\n      MessageTypeBGtoCS[\"ADD_STATIC_THEME\"] = \"bg-cs-add-static-theme\";\n      MessageTypeBGtoCS[\"ADD_SVG_FILTER\"] = \"bg-cs-add-svg-filter\";\n      MessageTypeBGtoCS[\"CLEAN_UP\"] = \"bg-cs-clean-up\";\n      MessageTypeBGtoCS[\"FETCH_RESPONSE\"] = \"bg-cs-fetch-response\";\n      MessageTypeBGtoCS[\"UNSUPPORTED_SENDER\"] = \"bg-cs-unsupported-sender\";\n  })(MessageTypeBGtoCS || (MessageTypeBGtoCS = {}));\n  var DebugMessageTypeBGtoCS;\n  (function (DebugMessageTypeBGtoCS) {\n      DebugMessageTypeBGtoCS[\"RELOAD\"] = \"debug-bg-cs-reload\";\n  })(DebugMessageTypeBGtoCS || (DebugMessageTypeBGtoCS = {}));\n  var MessageTypeCStoBG;\n  (function (MessageTypeCStoBG) {\n      MessageTypeCStoBG[\"COLOR_SCHEME_CHANGE\"] = \"cs-bg-color-scheme-change\";\n      MessageTypeCStoBG[\"DARK_THEME_DETECTED\"] = \"cs-bg-dark-theme-detected\";\n      MessageTypeCStoBG[\"DARK_THEME_NOT_DETECTED\"] =\n          \"cs-bg-dark-theme-not-detected\";\n      MessageTypeCStoBG[\"FETCH\"] = \"cs-bg-fetch\";\n      MessageTypeCStoBG[\"DOCUMENT_CONNECT\"] = \"cs-bg-document-connect\";\n      MessageTypeCStoBG[\"DOCUMENT_FORGET\"] = \"cs-bg-document-forget\";\n      MessageTypeCStoBG[\"DOCUMENT_FREEZE\"] = \"cs-bg-document-freeze\";\n      MessageTypeCStoBG[\"DOCUMENT_RESUME\"] = \"cs-bg-document-resume\";\n  })(MessageTypeCStoBG || (MessageTypeCStoBG = {}));\n  var DebugMessageTypeCStoBG;\n  (function (DebugMessageTypeCStoBG) {\n      DebugMessageTypeCStoBG[\"LOG\"] = \"debug-cs-bg-log\";\n  })(DebugMessageTypeCStoBG || (DebugMessageTypeCStoBG = {}));\n  var MessageTypeCStoUI;\n  (function (MessageTypeCStoUI) {\n      MessageTypeCStoUI[\"EXPORT_CSS_RESPONSE\"] = \"cs-ui-export-css-response\";\n  })(MessageTypeCStoUI || (MessageTypeCStoUI = {}));\n  var MessageTypeUItoCS;\n  (function (MessageTypeUItoCS) {\n      MessageTypeUItoCS[\"EXPORT_CSS\"] = \"ui-cs-export-css\";\n  })(MessageTypeUItoCS || (MessageTypeUItoCS = {}));\n\n  var isNavigatorDefined = typeof navigator !== \"undefined\";\n  var userAgent = isNavigatorDefined\n      ? navigator.userAgentData &&\n        Array.isArray(navigator.userAgentData.brands)\n          ? navigator.userAgentData.brands\n                .map(function (brand) {\n                    return \"\"\n                        .concat(brand.brand.toLowerCase(), \" \")\n                        .concat(brand.version);\n                })\n                .join(\" \")\n          : navigator.userAgent.toLowerCase()\n      : \"some useragent\";\n  var platform = isNavigatorDefined\n      ? navigator.userAgentData &&\n        typeof navigator.userAgentData.platform === \"string\"\n          ? navigator.userAgentData.platform.toLowerCase()\n          : navigator.platform.toLowerCase()\n      : \"some platform\";\n  var isChromium =\n      userAgent.includes(\"chrome\") || userAgent.includes(\"chromium\");\n  var isFirefox =\n      userAgent.includes(\"firefox\") ||\n      userAgent.includes(\"thunderbird\") ||\n      userAgent.includes(\"librewolf\");\n  var isSafari = userAgent.includes(\"safari\") && !isChromium;\n  var isWindows = platform.startsWith(\"win\");\n  var isMacOS = platform.startsWith(\"mac\");\n  isNavigatorDefined && navigator.userAgentData\n      ? navigator.userAgentData.mobile\n      : userAgent.includes(\"mobile\");\n  var isShadowDomSupported = typeof ShadowRoot === \"function\";\n  var isMatchMediaChangeEventListenerSupported =\n      typeof MediaQueryList === \"function\" &&\n      typeof MediaQueryList.prototype.addEventListener === \"function\";\n  (function () {\n      var m = userAgent.match(/chrom(?:e|ium)(?:\\/| )([^ ]+)/);\n      if (m && m[1]) {\n          return m[1];\n      }\n      return \"\";\n  })();\n  (function () {\n      var m = userAgent.match(/(?:firefox|librewolf)(?:\\/| )([^ ]+)/);\n      if (m && m[1]) {\n          return m[1];\n      }\n      return \"\";\n  })();\n  var isDefinedSelectorSupported = (function () {\n      try {\n          document.querySelector(\":defined\");\n          return true;\n      } catch (err) {\n          return false;\n      }\n  })();\n  var isCSSColorSchemePropSupported = (function () {\n      try {\n          if (typeof document === \"undefined\") {\n              return false;\n          }\n          var el = document.createElement(\"div\");\n          if (!el || typeof el.style !== \"object\") {\n              return false;\n          }\n          if (typeof el.style.colorScheme === \"string\") {\n              return true;\n          }\n          el.setAttribute(\"style\", \"color-scheme: dark\");\n          return el.style.colorScheme === \"dark\";\n      } catch (e) {\n          return false;\n      }\n  })();\n\n  function getOKResponse(url, mimeType, origin) {\n      return __awaiter(this, void 0, void 0, function () {\n          var response;\n          return __generator(this, function (_a) {\n              switch (_a.label) {\n                  case 0:\n                      return [\n                          4,\n                          fetch(url, {\n                              cache: \"force-cache\",\n                              credentials: \"omit\",\n                              referrer: origin\n                          })\n                      ];\n                  case 1:\n                      response = _a.sent();\n                      if (\n                          isFirefox &&\n                          mimeType === \"text/css\" &&\n                          url.startsWith(\"moz-extension://\") &&\n                          url.endsWith(\".css\")\n                      ) {\n                          return [2, response];\n                      }\n                      if (\n                          mimeType &&\n                          !response.headers\n                              .get(\"Content-Type\")\n                              .startsWith(mimeType)\n                      ) {\n                          throw new Error(\n                              \"Mime type mismatch when loading \".concat(url)\n                          );\n                      }\n                      if (!response.ok) {\n                          throw new Error(\n                              \"Unable to load \"\n                                  .concat(url, \" \")\n                                  .concat(response.status, \" \")\n                                  .concat(response.statusText)\n                          );\n                      }\n                      return [2, response];\n              }\n          });\n      });\n  }\n  function loadAsDataURL(url, mimeType) {\n      return __awaiter(this, void 0, void 0, function () {\n          var response;\n          return __generator(this, function (_a) {\n              switch (_a.label) {\n                  case 0:\n                      return [4, getOKResponse(url, mimeType)];\n                  case 1:\n                      response = _a.sent();\n                      return [4, readResponseAsDataURL(response)];\n                  case 2:\n                      return [2, _a.sent()];\n              }\n          });\n      });\n  }\n  function readResponseAsDataURL(response) {\n      return __awaiter(this, void 0, void 0, function () {\n          var blob, dataURL;\n          return __generator(this, function (_a) {\n              switch (_a.label) {\n                  case 0:\n                      return [4, response.blob()];\n                  case 1:\n                      blob = _a.sent();\n                      return [\n                          4,\n                          new Promise(function (resolve) {\n                              var reader = new FileReader();\n                              reader.onloadend = function () {\n                                  return resolve(reader.result);\n                              };\n                              reader.readAsDataURL(blob);\n                          })\n                      ];\n                  case 2:\n                      dataURL = _a.sent();\n                      return [2, dataURL];\n              }\n          });\n      });\n  }\n\n  var throwCORSError = function (url) {\n      return __awaiter(void 0, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n              return [\n                  2,\n                  Promise.reject(\n                      new Error(\n                          [\n                              \"Embedded Dark Reader cannot access a cross-origin resource\",\n                              url,\n                              \"Overview your URLs and CORS policies or use\",\n                              \"`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.\",\n                              \"See if using `DarkReader.setFetchMethod(window.fetch)`\",\n                              \"before `DarkReader.enable()` works.\"\n                          ].join(\" \")\n                      )\n                  )\n              ];\n          });\n      });\n  };\n  var fetcher = throwCORSError;\n  function setFetchMethod$1(fetch) {\n      if (fetch) {\n          fetcher = fetch;\n      } else {\n          fetcher = throwCORSError;\n      }\n  }\n  function callFetchMethod(url) {\n      return __awaiter(this, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n              switch (_a.label) {\n                  case 0:\n                      return [4, fetcher(url)];\n                  case 1:\n                      return [2, _a.sent()];\n              }\n          });\n      });\n  }\n\n  if (!window.chrome) {\n      window.chrome = {};\n  }\n  if (!chrome.runtime) {\n      chrome.runtime = {};\n  }\n  var messageListeners = new Set();\n  function sendMessage() {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n      }\n      return __awaiter(this, void 0, void 0, function () {\n          var id_1, _a, url, responseType, response, text_1, error_1;\n          return __generator(this, function (_b) {\n              switch (_b.label) {\n                  case 0:\n                      if (\n                          !(\n                              args[0] &&\n                              args[0].type === MessageTypeCStoBG.FETCH\n                          )\n                      )\n                          return [3, 8];\n                      id_1 = args[0].id;\n                      _b.label = 1;\n                  case 1:\n                      _b.trys.push([1, 7, , 8]);\n                      (_a = args[0].data),\n                          (url = _a.url),\n                          (responseType = _a.responseType);\n                      return [4, callFetchMethod(url)];\n                  case 2:\n                      response = _b.sent();\n                      if (!(responseType === \"data-url\")) return [3, 4];\n                      return [4, readResponseAsDataURL(response)];\n                  case 3:\n                      text_1 = _b.sent();\n                      return [3, 6];\n                  case 4:\n                      return [4, response.text()];\n                  case 5:\n                      text_1 = _b.sent();\n                      _b.label = 6;\n                  case 6:\n                      messageListeners.forEach(function (cb) {\n                          return cb({\n                              type: MessageTypeBGtoCS.FETCH_RESPONSE,\n                              data: text_1,\n                              error: null,\n                              id: id_1\n                          });\n                      });\n                      return [3, 8];\n                  case 7:\n                      error_1 = _b.sent();\n                      console.error(error_1);\n                      messageListeners.forEach(function (cb) {\n                          return cb({\n                              type: MessageTypeBGtoCS.FETCH_RESPONSE,\n                              data: null,\n                              error: error_1,\n                              id: id_1\n                          });\n                      });\n                      return [3, 8];\n                  case 8:\n                      return [2];\n              }\n          });\n      });\n  }\n  function addMessageListener(callback) {\n      messageListeners.add(callback);\n  }\n  if (typeof chrome.runtime.sendMessage === \"function\") {\n      var nativeSendMessage_1 = chrome.runtime.sendMessage;\n      chrome.runtime.sendMessage = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n              args[_i] = arguments[_i];\n          }\n          sendMessage.apply(void 0, __spreadArray([], __read(args), false));\n          nativeSendMessage_1.apply(chrome.runtime, args);\n      };\n  } else {\n      chrome.runtime.sendMessage = sendMessage;\n  }\n  if (!chrome.runtime.onMessage) {\n      chrome.runtime.onMessage = {};\n  }\n  if (typeof chrome.runtime.onMessage.addListener === \"function\") {\n      var nativeAddListener_1 = chrome.runtime.onMessage.addListener;\n      chrome.runtime.onMessage.addListener = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n              args[_i] = arguments[_i];\n          }\n          addMessageListener(args[0]);\n          nativeAddListener_1.apply(chrome.runtime.onMessage, args);\n      };\n  } else {\n      chrome.runtime.onMessage.addListener = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n              args[_i] = arguments[_i];\n          }\n          return addMessageListener(args[0]);\n      };\n  }\n\n  var ThemeEngine;\n  (function (ThemeEngine) {\n      ThemeEngine[\"cssFilter\"] = \"cssFilter\";\n      ThemeEngine[\"svgFilter\"] = \"svgFilter\";\n      ThemeEngine[\"staticTheme\"] = \"staticTheme\";\n      ThemeEngine[\"dynamicTheme\"] = \"dynamicTheme\";\n  })(ThemeEngine || (ThemeEngine = {}));\n\n  var AutomationMode;\n  (function (AutomationMode) {\n      AutomationMode[\"NONE\"] = \"\";\n      AutomationMode[\"TIME\"] = \"time\";\n      AutomationMode[\"SYSTEM\"] = \"system\";\n      AutomationMode[\"LOCATION\"] = \"location\";\n  })(AutomationMode || (AutomationMode = {}));\n\n  var DEFAULT_COLORS = {\n      darkScheme: {\n          background: \"#181a1b\",\n          text: \"#e8e6e3\"\n      },\n      lightScheme: {\n          background: \"#dcdad7\",\n          text: \"#181a1b\"\n      }\n  };\n  var DEFAULT_THEME = {\n      mode: 1,\n      brightness: 100,\n      contrast: 100,\n      grayscale: 0,\n      sepia: 0,\n      useFont: false,\n      fontFamily: isMacOS\n          ? \"Helvetica Neue\"\n          : isWindows\n            ? \"Segoe UI\"\n            : \"Open Sans\",\n      textStroke: 0,\n      engine: ThemeEngine.dynamicTheme,\n      stylesheet: \"\",\n      darkSchemeBackgroundColor: DEFAULT_COLORS.darkScheme.background,\n      darkSchemeTextColor: DEFAULT_COLORS.darkScheme.text,\n      lightSchemeBackgroundColor: DEFAULT_COLORS.lightScheme.background,\n      lightSchemeTextColor: DEFAULT_COLORS.lightScheme.text,\n      scrollbarColor: isMacOS ? \"\" : \"auto\",\n      selectionColor: \"auto\",\n      styleSystemControls: !isCSSColorSchemePropSupported,\n      lightColorScheme: \"Default\",\n      darkColorScheme: \"Default\",\n      immediateModify: false\n  };\n  ({\n      schemeVersion: 0,\n      enabled: true,\n      fetchNews: true,\n      theme: DEFAULT_THEME,\n      presets: [],\n      customThemes: [],\n      enabledByDefault: true,\n      enabledFor: [],\n      disabledFor: [],\n      changeBrowserTheme: false,\n      syncSettings: true,\n      syncSitesFixes: false,\n      automation: {\n          enabled: false,\n          mode: AutomationMode.NONE,\n          behavior: \"OnOff\"\n      },\n      time: {\n          activation: \"18:00\",\n          deactivation: \"9:00\"\n      },\n      location: {\n          latitude: null,\n          longitude: null\n      },\n      previewNewDesign: false,\n      enableForPDF: true,\n      enableForProtectedPages: false,\n      enableContextMenus: false,\n      detectDarkTheme: false\n  });\n\n  function isArrayLike(items) {\n      return items.length != null;\n  }\n  function forEach(items, iterator) {\n      var e_1, _a;\n      if (isArrayLike(items)) {\n          for (var i = 0, len = items.length; i < len; i++) {\n              iterator(items[i]);\n          }\n      } else {\n          try {\n              for (\n                  var items_1 = __values(items), items_1_1 = items_1.next();\n                  !items_1_1.done;\n                  items_1_1 = items_1.next()\n              ) {\n                  var item = items_1_1.value;\n                  iterator(item);\n              }\n          } catch (e_1_1) {\n              e_1 = {error: e_1_1};\n          } finally {\n              try {\n                  if (items_1_1 && !items_1_1.done && (_a = items_1.return))\n                      _a.call(items_1);\n              } finally {\n                  if (e_1) throw e_1.error;\n              }\n          }\n      }\n  }\n  function push(array, addition) {\n      forEach(addition, function (a) {\n          return array.push(a);\n      });\n  }\n  function toArray(items) {\n      var results = [];\n      for (var i = 0, len = items.length; i < len; i++) {\n          results.push(items[i]);\n      }\n      return results;\n  }\n\n  function logInfo() {}\n  function logWarn() {}\n\n  function throttle(callback) {\n      var pending = false;\n      var frameId = null;\n      var lastArgs;\n      var throttled = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n              args[_i] = arguments[_i];\n          }\n          lastArgs = args;\n          if (frameId) {\n              pending = true;\n          } else {\n              callback.apply(\n                  void 0,\n                  __spreadArray([], __read(lastArgs), false)\n              );\n              frameId = requestAnimationFrame(function () {\n                  frameId = null;\n                  if (pending) {\n                      callback.apply(\n                          void 0,\n                          __spreadArray([], __read(lastArgs), false)\n                      );\n                      pending = false;\n                  }\n              });\n          }\n      };\n      var cancel = function () {\n          cancelAnimationFrame(frameId);\n          pending = false;\n          frameId = null;\n      };\n      return Object.assign(throttled, {cancel: cancel});\n  }\n  function createAsyncTasksQueue() {\n      var tasks = [];\n      var frameId = null;\n      function runTasks() {\n          var task;\n          while ((task = tasks.shift())) {\n              task();\n          }\n          frameId = null;\n      }\n      function add(task) {\n          tasks.push(task);\n          if (!frameId) {\n              frameId = requestAnimationFrame(runTasks);\n          }\n      }\n      function cancel() {\n          tasks.splice(0);\n          cancelAnimationFrame(frameId);\n          frameId = null;\n      }\n      return {add: add, cancel: cancel};\n  }\n\n  function getDuration(time) {\n      var duration = 0;\n      if (time.seconds) {\n          duration += time.seconds * 1000;\n      }\n      if (time.minutes) {\n          duration += time.minutes * 60 * 1000;\n      }\n      if (time.hours) {\n          duration += time.hours * 60 * 60 * 1000;\n      }\n      if (time.days) {\n          duration += time.days * 24 * 60 * 60 * 1000;\n      }\n      return duration;\n  }\n\n  function removeNode(node) {\n      node && node.parentNode && node.parentNode.removeChild(node);\n  }\n  function watchForNodePosition(node, mode, onRestore) {\n      if (onRestore === void 0) {\n          onRestore = Function.prototype;\n      }\n      var MAX_ATTEMPTS_COUNT = 10;\n      var RETRY_TIMEOUT = getDuration({seconds: 2});\n      var ATTEMPTS_INTERVAL = getDuration({seconds: 10});\n      var prevSibling = node.previousSibling;\n      var parent = node.parentNode;\n      if (!parent) {\n          throw new Error(\n              \"Unable to watch for node position: parent element not found\"\n          );\n      }\n      if (mode === \"prev-sibling\" && !prevSibling) {\n          throw new Error(\n              \"Unable to watch for node position: there is no previous sibling\"\n          );\n      }\n      var attempts = 0;\n      var start = null;\n      var timeoutId = null;\n      var restore = throttle(function () {\n          if (timeoutId) {\n              return;\n          }\n          attempts++;\n          var now = Date.now();\n          if (start == null) {\n              start = now;\n          } else if (attempts >= MAX_ATTEMPTS_COUNT) {\n              if (now - start < ATTEMPTS_INTERVAL) {\n                  timeoutId = setTimeout(function () {\n                      start = null;\n                      attempts = 0;\n                      timeoutId = null;\n                      restore();\n                  }, RETRY_TIMEOUT);\n                  return;\n              }\n              start = now;\n              attempts = 1;\n          }\n          if (mode === \"head\") {\n              if (prevSibling && prevSibling.parentNode !== parent) {\n                  stop();\n                  return;\n              }\n          }\n          if (mode === \"prev-sibling\") {\n              if (prevSibling.parentNode == null) {\n                  stop();\n                  return;\n              }\n              if (prevSibling.parentNode !== parent) {\n                  updateParent(prevSibling.parentNode);\n              }\n          }\n          if (mode === \"head\" && !parent.isConnected) {\n              parent = document.head;\n          }\n          parent.insertBefore(\n              node,\n              prevSibling && prevSibling.isConnected\n                  ? prevSibling.nextSibling\n                  : parent.firstChild\n          );\n          observer.takeRecords();\n          onRestore && onRestore();\n      });\n      var observer = new MutationObserver(function () {\n          if (\n              (mode === \"head\" &&\n                  (node.parentNode !== parent ||\n                      !node.parentNode.isConnected)) ||\n              (mode === \"prev-sibling\" &&\n                  node.previousSibling !== prevSibling)\n          ) {\n              restore();\n          }\n      });\n      var run = function () {\n          observer.observe(parent, {childList: true});\n      };\n      var stop = function () {\n          clearTimeout(timeoutId);\n          observer.disconnect();\n          restore.cancel();\n      };\n      var skip = function () {\n          observer.takeRecords();\n      };\n      var updateParent = function (parentNode) {\n          parent = parentNode;\n          stop();\n          run();\n      };\n      run();\n      return {run: run, stop: stop, skip: skip};\n  }\n  function iterateShadowHosts(root, iterator) {\n      if (root == null) {\n          return;\n      }\n      var walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n          acceptNode: function (node) {\n              return node.shadowRoot == null\n                  ? NodeFilter.FILTER_SKIP\n                  : NodeFilter.FILTER_ACCEPT;\n          }\n      });\n      for (\n          var node = root.shadowRoot ? walker.currentNode : walker.nextNode();\n          node != null;\n          node = walker.nextNode()\n      ) {\n          if (node.classList.contains(\"surfingkeys_hints_host\")) {\n              continue;\n          }\n          iterator(node);\n          iterateShadowHosts(node.shadowRoot, iterator);\n      }\n  }\n  var isDOMReady = function () {\n      return (\n          document.readyState === \"complete\" ||\n          document.readyState === \"interactive\"\n      );\n  };\n  function setIsDOMReady(newFunc) {\n      isDOMReady = newFunc;\n  }\n  var readyStateListeners = new Set();\n  function addDOMReadyListener(listener) {\n      isDOMReady() ? listener() : readyStateListeners.add(listener);\n  }\n  function removeDOMReadyListener(listener) {\n      readyStateListeners.delete(listener);\n  }\n  function isReadyStateComplete() {\n      return document.readyState === \"complete\";\n  }\n  var readyStateCompleteListeners = new Set();\n  function addReadyStateCompleteListener(listener) {\n      isReadyStateComplete()\n          ? listener()\n          : readyStateCompleteListeners.add(listener);\n  }\n  function cleanReadyStateCompleteListeners() {\n      readyStateCompleteListeners.clear();\n  }\n  if (!isDOMReady()) {\n      var onReadyStateChange_1 = function () {\n          if (isDOMReady()) {\n              readyStateListeners.forEach(function (listener) {\n                  return listener();\n              });\n              readyStateListeners.clear();\n              if (isReadyStateComplete()) {\n                  document.removeEventListener(\n                      \"readystatechange\",\n                      onReadyStateChange_1\n                  );\n                  readyStateCompleteListeners.forEach(function (listener) {\n                      return listener();\n                  });\n                  readyStateCompleteListeners.clear();\n              }\n          }\n      };\n      document.addEventListener(\"readystatechange\", onReadyStateChange_1);\n  }\n  var HUGE_MUTATIONS_COUNT = 1000;\n  function isHugeMutation(mutations) {\n      if (mutations.length > HUGE_MUTATIONS_COUNT) {\n          return true;\n      }\n      var addedNodesCount = 0;\n      for (var i = 0; i < mutations.length; i++) {\n          addedNodesCount += mutations[i].addedNodes.length;\n          if (addedNodesCount > HUGE_MUTATIONS_COUNT) {\n              return true;\n          }\n      }\n      return false;\n  }\n  function getElementsTreeOperations(mutations) {\n      var additions = new Set();\n      var deletions = new Set();\n      var moves = new Set();\n      mutations.forEach(function (m) {\n          forEach(m.addedNodes, function (n) {\n              if (n instanceof Element && n.isConnected) {\n                  additions.add(n);\n              }\n          });\n          forEach(m.removedNodes, function (n) {\n              if (n instanceof Element) {\n                  if (n.isConnected) {\n                      moves.add(n);\n                      additions.delete(n);\n                  } else {\n                      deletions.add(n);\n                  }\n              }\n          });\n      });\n      var duplicateAdditions = [];\n      var duplicateDeletions = [];\n      additions.forEach(function (node) {\n          if (additions.has(node.parentElement)) {\n              duplicateAdditions.push(node);\n          }\n      });\n      deletions.forEach(function (node) {\n          if (deletions.has(node.parentElement)) {\n              duplicateDeletions.push(node);\n          }\n      });\n      duplicateAdditions.forEach(function (node) {\n          return additions.delete(node);\n      });\n      duplicateDeletions.forEach(function (node) {\n          return deletions.delete(node);\n      });\n      return {additions: additions, moves: moves, deletions: deletions};\n  }\n  var optimizedTreeObservers = new Map();\n  var optimizedTreeCallbacks = new WeakMap();\n  function createOptimizedTreeObserver(root, callbacks) {\n      var observer;\n      var observerCallbacks;\n      var domReadyListener;\n      if (optimizedTreeObservers.has(root)) {\n          observer = optimizedTreeObservers.get(root);\n          observerCallbacks = optimizedTreeCallbacks.get(observer);\n      } else {\n          var hadHugeMutationsBefore_1 = false;\n          var subscribedForReadyState_1 = false;\n          observer = new MutationObserver(function (mutations) {\n              if (isHugeMutation(mutations)) {\n                  if (!hadHugeMutationsBefore_1 || isDOMReady()) {\n                      observerCallbacks.forEach(function (_a) {\n                          var onHugeMutations = _a.onHugeMutations;\n                          return onHugeMutations(root);\n                      });\n                  } else if (!subscribedForReadyState_1) {\n                      domReadyListener = function () {\n                          return observerCallbacks.forEach(function (_a) {\n                              var onHugeMutations = _a.onHugeMutations;\n                              return onHugeMutations(root);\n                          });\n                      };\n                      addDOMReadyListener(domReadyListener);\n                      subscribedForReadyState_1 = true;\n                  }\n                  hadHugeMutationsBefore_1 = true;\n              } else {\n                  var elementsOperations_1 =\n                      getElementsTreeOperations(mutations);\n                  observerCallbacks.forEach(function (_a) {\n                      var onMinorMutations = _a.onMinorMutations;\n                      return onMinorMutations(elementsOperations_1);\n                  });\n              }\n          });\n          observer.observe(root, {childList: true, subtree: true});\n          optimizedTreeObservers.set(root, observer);\n          observerCallbacks = new Set();\n          optimizedTreeCallbacks.set(observer, observerCallbacks);\n      }\n      observerCallbacks.add(callbacks);\n      return {\n          disconnect: function () {\n              observerCallbacks.delete(callbacks);\n              if (domReadyListener) {\n                  removeDOMReadyListener(domReadyListener);\n              }\n              if (observerCallbacks.size === 0) {\n                  observer.disconnect();\n                  optimizedTreeCallbacks.delete(observer);\n                  optimizedTreeObservers.delete(root);\n              }\n          }\n      };\n  }\n\n  var anchor;\n  var parsedURLCache = new Map();\n  function fixBaseURL($url) {\n      if (!anchor) {\n          anchor = document.createElement(\"a\");\n      }\n      anchor.href = $url;\n      return anchor.href;\n  }\n  function parseURL($url, $base) {\n      if ($base === void 0) {\n          $base = null;\n      }\n      var key = \"\".concat($url).concat($base ? \";\".concat($base) : \"\");\n      if (parsedURLCache.has(key)) {\n          return parsedURLCache.get(key);\n      }\n      if ($base) {\n          var parsedURL_1 = new URL($url, fixBaseURL($base));\n          parsedURLCache.set(key, parsedURL_1);\n          return parsedURL_1;\n      }\n      var parsedURL = new URL(fixBaseURL($url));\n      parsedURLCache.set($url, parsedURL);\n      return parsedURL;\n  }\n  function getAbsoluteURL($base, $relative) {\n      if ($relative.match(/^data\\\\?\\:/)) {\n          return $relative;\n      }\n      if (/^\\/\\//.test($relative)) {\n          return \"\".concat(location.protocol).concat($relative);\n      }\n      var b = parseURL($base);\n      var a = parseURL($relative, b.href);\n      return a.href;\n  }\n  function isRelativeHrefOnAbsolutePath(href) {\n      if (href.startsWith(\"data:\")) {\n          return true;\n      }\n      var url = parseURL(href);\n      if (url.protocol !== location.protocol) {\n          return false;\n      }\n      if (url.hostname !== location.hostname) {\n          return false;\n      }\n      if (url.port !== location.port) {\n          return false;\n      }\n      return url.pathname === location.pathname;\n  }\n\n  function iterateCSSRules(rules, iterate, onMediaRuleError) {\n      forEach(rules, function (rule) {\n          if (rule.selectorText) {\n              iterate(rule);\n          } else if (rule.href) {\n              try {\n                  iterateCSSRules(\n                      rule.styleSheet.cssRules,\n                      iterate,\n                      onMediaRuleError\n                  );\n              } catch (err) {\n                  logInfo(\"Found a non-loaded link.\");\n                  onMediaRuleError && onMediaRuleError();\n              }\n          } else if (rule.media) {\n              var media = Array.from(rule.media);\n              var isScreenOrAllOrQuery = media.some(function (m) {\n                  return (\n                      m.startsWith(\"screen\") ||\n                      m.startsWith(\"all\") ||\n                      m.startsWith(\"(\")\n                  );\n              });\n              var isPrintOrSpeech = media.some(function (m) {\n                  return m.startsWith(\"print\") || m.startsWith(\"speech\");\n              });\n              if (isScreenOrAllOrQuery || !isPrintOrSpeech) {\n                  iterateCSSRules(rule.cssRules, iterate, onMediaRuleError);\n              }\n          } else if (rule.conditionText) {\n              if (CSS.supports(rule.conditionText)) {\n                  iterateCSSRules(rule.cssRules, iterate, onMediaRuleError);\n              }\n          } else {\n              logWarn(\"CSSRule type not supported\", rule);\n          }\n      });\n  }\n  var shorthandVarDependantProperties = [\n      \"background\",\n      \"border\",\n      \"border-color\",\n      \"border-bottom\",\n      \"border-left\",\n      \"border-right\",\n      \"border-top\",\n      \"outline\",\n      \"outline-color\"\n  ];\n  var shorthandVarDepPropRegexps = isSafari\n      ? shorthandVarDependantProperties.map(function (prop) {\n            var regexp = new RegExp(\"\".concat(prop, \":\\\\s*(.*?)\\\\s*;\"));\n            return [prop, regexp];\n        })\n      : null;\n  function iterateCSSDeclarations(style, iterate) {\n      forEach(style, function (property) {\n          var value = style.getPropertyValue(property).trim();\n          if (!value) {\n              return;\n          }\n          iterate(property, value);\n      });\n      var cssText = style.cssText;\n      if (cssText.includes(\"var(\")) {\n          if (isSafari) {\n              shorthandVarDepPropRegexps.forEach(function (_a) {\n                  var _b = __read(_a, 2),\n                      prop = _b[0],\n                      regexp = _b[1];\n                  var match = cssText.match(regexp);\n                  if (match && match[1]) {\n                      var val = match[1].trim();\n                      iterate(prop, val);\n                  }\n              });\n          } else {\n              shorthandVarDependantProperties.forEach(function (prop) {\n                  var val = style.getPropertyValue(prop);\n                  if (val && val.includes(\"var(\")) {\n                      iterate(prop, val);\n                  }\n              });\n          }\n      }\n  }\n  var cssURLRegex = /url\\((('.*?')|(\".*?\")|([^\\)]*?))\\)/g;\n  var cssImportRegex =\n      /@import\\s*(url\\()?(('.+?')|(\".+?\")|([^\\)]*?))\\)? ?(screen)?;?/gi;\n  function getCSSURLValue(cssURL) {\n      return cssURL\n          .trim()\n          .replace(/[\\n\\r\\\\]+/g, \"\")\n          .replace(/^url\\((.*)\\)$/, \"$1\")\n          .trim()\n          .replace(/^\"(.*)\"$/, \"$1\")\n          .replace(/^'(.*)'$/, \"$1\")\n          .replace(/(?:\\\\(.))/g, \"$1\");\n  }\n  function getCSSBaseBath(url) {\n      var cssURL = parseURL(url);\n      return \"\"\n          .concat(cssURL.origin)\n          .concat(\n              cssURL.pathname\n                  .replace(/\\?.*$/, \"\")\n                  .replace(/(\\/)([^\\/]+)$/i, \"$1\")\n          );\n  }\n  function replaceCSSRelativeURLsWithAbsolute($css, cssBasePath) {\n      return $css.replace(cssURLRegex, function (match) {\n          var pathValue = getCSSURLValue(match);\n          try {\n              return \"url('\".concat(\n                  getAbsoluteURL(cssBasePath, pathValue),\n                  \"')\"\n              );\n          } catch (err) {\n              return match;\n          }\n      });\n  }\n  var cssCommentsRegex = /\\/\\*[\\s\\S]*?\\*\\//g;\n  function removeCSSComments($css) {\n      return $css.replace(cssCommentsRegex, \"\");\n  }\n  var fontFaceRegex = /@font-face\\s*{[^}]*}/g;\n  function replaceCSSFontFace($css) {\n      return $css.replace(fontFaceRegex, \"\");\n  }\n\n  function evalMath(expression) {\n      var rpnStack = [];\n      var workingStack = [];\n      var lastToken;\n      for (var i = 0, len = expression.length; i < len; i++) {\n          var token = expression[i];\n          if (!token || token === \" \") {\n              continue;\n          }\n          if (operators.has(token)) {\n              var op = operators.get(token);\n              while (workingStack.length) {\n                  var currentOp = operators.get(workingStack[0]);\n                  if (!currentOp) {\n                      break;\n                  }\n                  if (op.lessOrEqualThan(currentOp)) {\n                      rpnStack.push(workingStack.shift());\n                  } else {\n                      break;\n                  }\n              }\n              workingStack.unshift(token);\n          } else if (!lastToken || operators.has(lastToken)) {\n              rpnStack.push(token);\n          } else {\n              rpnStack[rpnStack.length - 1] += token;\n          }\n          lastToken = token;\n      }\n      rpnStack.push.apply(\n          rpnStack,\n          __spreadArray([], __read(workingStack), false)\n      );\n      var stack = [];\n      for (var i = 0, len = rpnStack.length; i < len; i++) {\n          var op = operators.get(rpnStack[i]);\n          if (op) {\n              var args = stack.splice(0, 2);\n              stack.push(op.exec(args[1], args[0]));\n          } else {\n              stack.unshift(parseFloat(rpnStack[i]));\n          }\n      }\n      return stack[0];\n  }\n  var Operator = (function () {\n      function Operator(precedence, method) {\n          this.precendce = precedence;\n          this.execMethod = method;\n      }\n      Operator.prototype.exec = function (left, right) {\n          return this.execMethod(left, right);\n      };\n      Operator.prototype.lessOrEqualThan = function (op) {\n          return this.precendce <= op.precendce;\n      };\n      return Operator;\n  })();\n  var operators = new Map([\n      [\n          \"+\",\n          new Operator(1, function (left, right) {\n              return left + right;\n          })\n      ],\n      [\n          \"-\",\n          new Operator(1, function (left, right) {\n              return left - right;\n          })\n      ],\n      [\n          \"*\",\n          new Operator(2, function (left, right) {\n              return left * right;\n          })\n      ],\n      [\n          \"/\",\n          new Operator(2, function (left, right) {\n              return left / right;\n          })\n      ]\n  ]);\n\n  function getMatches(regex, input, group) {\n      if (group === void 0) {\n          group = 0;\n      }\n      var matches = [];\n      var m;\n      while ((m = regex.exec(input))) {\n          matches.push(m[group]);\n      }\n      return matches;\n  }\n  function formatCSS(text) {\n      function trimLeft(text) {\n          return text.replace(/^\\s+/, \"\");\n      }\n      function getIndent(depth) {\n          if (depth === 0) {\n              return \"\";\n          }\n          return \" \".repeat(4 * depth);\n      }\n      if (text.length < 50000) {\n          var emptyRuleRegexp = /[^{}]+{\\s*}/;\n          while (emptyRuleRegexp.test(text)) {\n              text = text.replace(emptyRuleRegexp, \"\");\n          }\n      }\n      var css = text\n          .replace(/\\s{2,}/g, \" \")\n          .replace(/\\{/g, \"{\\n\")\n          .replace(/\\}/g, \"\\n}\\n\")\n          .replace(/\\;(?![^\\(|\\\"]*(\\)|\\\"))/g, \";\\n\")\n          .replace(/\\,(?![^\\(|\\\"]*(\\)|\\\"))/g, \",\\n\")\n          .replace(/\\n\\s*\\n/g, \"\\n\")\n          .split(\"\\n\");\n      var depth = 0;\n      var formatted = [];\n      for (var x = 0, len = css.length; x < len; x++) {\n          var line = \"\".concat(css[x], \"\\n\");\n          if (line.includes(\"{\")) {\n              formatted.push(getIndent(depth++) + trimLeft(line));\n          } else if (line.includes(\"}\")) {\n              formatted.push(getIndent(--depth) + trimLeft(line));\n          } else {\n              formatted.push(getIndent(depth) + trimLeft(line));\n          }\n      }\n      return formatted.join(\"\").trim();\n  }\n  function getParenthesesRange(input, searchStartIndex) {\n      if (searchStartIndex === void 0) {\n          searchStartIndex = 0;\n      }\n      var length = input.length;\n      var depth = 0;\n      var firstOpenIndex = -1;\n      for (var i = searchStartIndex; i < length; i++) {\n          if (depth === 0) {\n              var openIndex = input.indexOf(\"(\", i);\n              if (openIndex < 0) {\n                  break;\n              }\n              firstOpenIndex = openIndex;\n              depth++;\n              i = openIndex;\n          } else {\n              var closingIndex = input.indexOf(\")\", i);\n              if (closingIndex < 0) {\n                  break;\n              }\n              var openIndex = input.indexOf(\"(\", i);\n              if (openIndex < 0 || closingIndex < openIndex) {\n                  depth--;\n                  if (depth === 0) {\n                      return {start: firstOpenIndex, end: closingIndex + 1};\n                  }\n                  i = closingIndex;\n              } else {\n                  depth++;\n                  i = openIndex;\n              }\n          }\n      }\n      return null;\n  }\n\n  var hslaParseCache = new Map();\n  var rgbaParseCache = new Map();\n  function parseColorWithCache($color) {\n      $color = $color.trim();\n      if (rgbaParseCache.has($color)) {\n          return rgbaParseCache.get($color);\n      }\n      if ($color.includes(\"calc(\")) {\n          $color = lowerCalcExpression($color);\n      }\n      var color = parse($color);\n      color && rgbaParseCache.set($color, color);\n      return color;\n  }\n  function parseToHSLWithCache(color) {\n      if (hslaParseCache.has(color)) {\n          return hslaParseCache.get(color);\n      }\n      var rgb = parseColorWithCache(color);\n      if (!rgb) {\n          return null;\n      }\n      var hsl = rgbToHSL(rgb);\n      hslaParseCache.set(color, hsl);\n      return hsl;\n  }\n  function clearColorCache() {\n      hslaParseCache.clear();\n      rgbaParseCache.clear();\n  }\n  function hslToRGB(_a) {\n      var h = _a.h,\n          s = _a.s,\n          l = _a.l,\n          _b = _a.a,\n          a = _b === void 0 ? 1 : _b;\n      if (s === 0) {\n          var _c = __read(\n                  [l, l, l].map(function (x) {\n                      return Math.round(x * 255);\n                  }),\n                  3\n              ),\n              r_1 = _c[0],\n              b_1 = _c[1],\n              g_1 = _c[2];\n          return {r: r_1, g: g_1, b: b_1, a: a};\n      }\n      var c = (1 - Math.abs(2 * l - 1)) * s;\n      var x = c * (1 - Math.abs(((h / 60) % 2) - 1));\n      var m = l - c / 2;\n      var _d = __read(\n              (h < 60\n                  ? [c, x, 0]\n                  : h < 120\n                    ? [x, c, 0]\n                    : h < 180\n                      ? [0, c, x]\n                      : h < 240\n                        ? [0, x, c]\n                        : h < 300\n                          ? [x, 0, c]\n                          : [c, 0, x]\n              ).map(function (n) {\n                  return Math.round((n + m) * 255);\n              }),\n              3\n          ),\n          r = _d[0],\n          g = _d[1],\n          b = _d[2];\n      return {r: r, g: g, b: b, a: a};\n  }\n  function rgbToHSL(_a) {\n      var r255 = _a.r,\n          g255 = _a.g,\n          b255 = _a.b,\n          _b = _a.a,\n          a = _b === void 0 ? 1 : _b;\n      var r = r255 / 255;\n      var g = g255 / 255;\n      var b = b255 / 255;\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var c = max - min;\n      var l = (max + min) / 2;\n      if (c === 0) {\n          return {h: 0, s: 0, l: l, a: a};\n      }\n      var h =\n          (max === r\n              ? ((g - b) / c) % 6\n              : max === g\n                ? (b - r) / c + 2\n                : (r - g) / c + 4) * 60;\n      if (h < 0) {\n          h += 360;\n      }\n      var s = c / (1 - Math.abs(2 * l - 1));\n      return {h: h, s: s, l: l, a: a};\n  }\n  function toFixed(n, digits) {\n      if (digits === void 0) {\n          digits = 0;\n      }\n      var fixed = n.toFixed(digits);\n      if (digits === 0) {\n          return fixed;\n      }\n      var dot = fixed.indexOf(\".\");\n      if (dot >= 0) {\n          var zerosMatch = fixed.match(/0+$/);\n          if (zerosMatch) {\n              if (zerosMatch.index === dot + 1) {\n                  return fixed.substring(0, dot);\n              }\n              return fixed.substring(0, zerosMatch.index);\n          }\n      }\n      return fixed;\n  }\n  function rgbToString(rgb) {\n      var r = rgb.r,\n          g = rgb.g,\n          b = rgb.b,\n          a = rgb.a;\n      if (a != null && a < 1) {\n          return \"rgba(\"\n              .concat(toFixed(r), \", \")\n              .concat(toFixed(g), \", \")\n              .concat(toFixed(b), \", \")\n              .concat(toFixed(a, 2), \")\");\n      }\n      return \"rgb(\"\n          .concat(toFixed(r), \", \")\n          .concat(toFixed(g), \", \")\n          .concat(toFixed(b), \")\");\n  }\n  function rgbToHexString(_a) {\n      var r = _a.r,\n          g = _a.g,\n          b = _a.b,\n          a = _a.a;\n      return \"#\".concat(\n          (a != null && a < 1 ? [r, g, b, Math.round(a * 255)] : [r, g, b])\n              .map(function (x) {\n                  return \"\".concat(x < 16 ? \"0\" : \"\").concat(x.toString(16));\n              })\n              .join(\"\")\n      );\n  }\n  function hslToString(hsl) {\n      var h = hsl.h,\n          s = hsl.s,\n          l = hsl.l,\n          a = hsl.a;\n      if (a != null && a < 1) {\n          return \"hsla(\"\n              .concat(toFixed(h), \", \")\n              .concat(toFixed(s * 100), \"%, \")\n              .concat(toFixed(l * 100), \"%, \")\n              .concat(toFixed(a, 2), \")\");\n      }\n      return \"hsl(\"\n          .concat(toFixed(h), \", \")\n          .concat(toFixed(s * 100), \"%, \")\n          .concat(toFixed(l * 100), \"%)\");\n  }\n  var rgbMatch = /^rgba?\\([^\\(\\)]+\\)$/;\n  var hslMatch = /^hsla?\\([^\\(\\)]+\\)$/;\n  var hexMatch = /^#[0-9a-f]+$/i;\n  function parse($color) {\n      var c = $color.trim().toLowerCase();\n      if (c.match(rgbMatch)) {\n          return parseRGB(c);\n      }\n      if (c.match(hslMatch)) {\n          return parseHSL(c);\n      }\n      if (c.match(hexMatch)) {\n          return parseHex(c);\n      }\n      if (knownColors.has(c)) {\n          return getColorByName(c);\n      }\n      if (systemColors.has(c)) {\n          return getSystemColor(c);\n      }\n      if ($color === \"transparent\") {\n          return {r: 0, g: 0, b: 0, a: 0};\n      }\n      return null;\n  }\n  function getNumbers($color) {\n      var numbers = [];\n      var prevPos = 0;\n      var isMining = false;\n      var startIndex = $color.indexOf(\"(\");\n      $color = $color.substring(startIndex + 1, $color.length - 1);\n      for (var i = 0; i < $color.length; i++) {\n          var c = $color[i];\n          if ((c >= \"0\" && c <= \"9\") || c === \".\" || c === \"+\" || c === \"-\") {\n              isMining = true;\n          } else if (isMining && (c === \" \" || c === \",\" || c === \"/\")) {\n              numbers.push($color.substring(prevPos, i));\n              isMining = false;\n              prevPos = i + 1;\n          } else if (!isMining) {\n              prevPos = i + 1;\n          }\n      }\n      if (isMining) {\n          numbers.push($color.substring(prevPos, $color.length));\n      }\n      return numbers;\n  }\n  function getNumbersFromString(str, range, units) {\n      var raw = getNumbers(str);\n      var unitsList = Object.entries(units);\n      var numbers = raw\n          .map(function (r) {\n              return r.trim();\n          })\n          .map(function (r, i) {\n              var n;\n              var unit = unitsList.find(function (_a) {\n                  var _b = __read(_a, 1),\n                      u = _b[0];\n                  return r.endsWith(u);\n              });\n              if (unit) {\n                  n =\n                      (parseFloat(r.substring(0, r.length - unit[0].length)) /\n                          unit[1]) *\n                      range[i];\n              } else {\n                  n = parseFloat(r);\n              }\n              if (range[i] > 1) {\n                  return Math.round(n);\n              }\n              return n;\n          });\n      return numbers;\n  }\n  var rgbRange = [255, 255, 255, 1];\n  var rgbUnits = {\"%\": 100};\n  function parseRGB($rgb) {\n      var _a = __read(getNumbersFromString($rgb, rgbRange, rgbUnits), 4),\n          r = _a[0],\n          g = _a[1],\n          b = _a[2],\n          _b = _a[3],\n          a = _b === void 0 ? 1 : _b;\n      return {r: r, g: g, b: b, a: a};\n  }\n  var hslRange = [360, 1, 1, 1];\n  var hslUnits = {\"%\": 100, \"deg\": 360, \"rad\": 2 * Math.PI, \"turn\": 1};\n  function parseHSL($hsl) {\n      var _a = __read(getNumbersFromString($hsl, hslRange, hslUnits), 4),\n          h = _a[0],\n          s = _a[1],\n          l = _a[2],\n          _b = _a[3],\n          a = _b === void 0 ? 1 : _b;\n      return hslToRGB({h: h, s: s, l: l, a: a});\n  }\n  function parseHex($hex) {\n      var h = $hex.substring(1);\n      switch (h.length) {\n          case 3:\n          case 4: {\n              var _a = __read(\n                      [0, 1, 2].map(function (i) {\n                          return parseInt(\"\".concat(h[i]).concat(h[i]), 16);\n                      }),\n                      3\n                  ),\n                  r = _a[0],\n                  g = _a[1],\n                  b = _a[2];\n              var a =\n                  h.length === 3\n                      ? 1\n                      : parseInt(\"\".concat(h[3]).concat(h[3]), 16) / 255;\n              return {r: r, g: g, b: b, a: a};\n          }\n          case 6:\n          case 8: {\n              var _b = __read(\n                      [0, 2, 4].map(function (i) {\n                          return parseInt(h.substring(i, i + 2), 16);\n                      }),\n                      3\n                  ),\n                  r = _b[0],\n                  g = _b[1],\n                  b = _b[2];\n              var a =\n                  h.length === 6 ? 1 : parseInt(h.substring(6, 8), 16) / 255;\n              return {r: r, g: g, b: b, a: a};\n          }\n      }\n      return null;\n  }\n  function getColorByName($color) {\n      var n = knownColors.get($color);\n      return {\n          r: (n >> 16) & 255,\n          g: (n >> 8) & 255,\n          b: (n >> 0) & 255,\n          a: 1\n      };\n  }\n  function getSystemColor($color) {\n      var n = systemColors.get($color);\n      return {\n          r: (n >> 16) & 255,\n          g: (n >> 8) & 255,\n          b: (n >> 0) & 255,\n          a: 1\n      };\n  }\n  function lowerCalcExpression(color) {\n      var searchIndex = 0;\n      var replaceBetweenIndices = function (start, end, replacement) {\n          color =\n              color.substring(0, start) + replacement + color.substring(end);\n      };\n      while ((searchIndex = color.indexOf(\"calc(\")) !== -1) {\n          var range = getParenthesesRange(color, searchIndex);\n          if (!range) {\n              break;\n          }\n          var slice = color.slice(range.start + 1, range.end - 1);\n          var includesPercentage = slice.includes(\"%\");\n          slice = slice.split(\"%\").join(\"\");\n          var output = Math.round(evalMath(slice));\n          replaceBetweenIndices(\n              range.start - 4,\n              range.end,\n              output + (includesPercentage ? \"%\" : \"\")\n          );\n      }\n      return color;\n  }\n  var knownColors = new Map(\n      Object.entries({\n          aliceblue: 0xf0f8ff,\n          antiquewhite: 0xfaebd7,\n          aqua: 0x00ffff,\n          aquamarine: 0x7fffd4,\n          azure: 0xf0ffff,\n          beige: 0xf5f5dc,\n          bisque: 0xffe4c4,\n          black: 0x000000,\n          blanchedalmond: 0xffebcd,\n          blue: 0x0000ff,\n          blueviolet: 0x8a2be2,\n          brown: 0xa52a2a,\n          burlywood: 0xdeb887,\n          cadetblue: 0x5f9ea0,\n          chartreuse: 0x7fff00,\n          chocolate: 0xd2691e,\n          coral: 0xff7f50,\n          cornflowerblue: 0x6495ed,\n          cornsilk: 0xfff8dc,\n          crimson: 0xdc143c,\n          cyan: 0x00ffff,\n          darkblue: 0x00008b,\n          darkcyan: 0x008b8b,\n          darkgoldenrod: 0xb8860b,\n          darkgray: 0xa9a9a9,\n          darkgrey: 0xa9a9a9,\n          darkgreen: 0x006400,\n          darkkhaki: 0xbdb76b,\n          darkmagenta: 0x8b008b,\n          darkolivegreen: 0x556b2f,\n          darkorange: 0xff8c00,\n          darkorchid: 0x9932cc,\n          darkred: 0x8b0000,\n          darksalmon: 0xe9967a,\n          darkseagreen: 0x8fbc8f,\n          darkslateblue: 0x483d8b,\n          darkslategray: 0x2f4f4f,\n          darkslategrey: 0x2f4f4f,\n          darkturquoise: 0x00ced1,\n          darkviolet: 0x9400d3,\n          deeppink: 0xff1493,\n          deepskyblue: 0x00bfff,\n          dimgray: 0x696969,\n          dimgrey: 0x696969,\n          dodgerblue: 0x1e90ff,\n          firebrick: 0xb22222,\n          floralwhite: 0xfffaf0,\n          forestgreen: 0x228b22,\n          fuchsia: 0xff00ff,\n          gainsboro: 0xdcdcdc,\n          ghostwhite: 0xf8f8ff,\n          gold: 0xffd700,\n          goldenrod: 0xdaa520,\n          gray: 0x808080,\n          grey: 0x808080,\n          green: 0x008000,\n          greenyellow: 0xadff2f,\n          honeydew: 0xf0fff0,\n          hotpink: 0xff69b4,\n          indianred: 0xcd5c5c,\n          indigo: 0x4b0082,\n          ivory: 0xfffff0,\n          khaki: 0xf0e68c,\n          lavender: 0xe6e6fa,\n          lavenderblush: 0xfff0f5,\n          lawngreen: 0x7cfc00,\n          lemonchiffon: 0xfffacd,\n          lightblue: 0xadd8e6,\n          lightcoral: 0xf08080,\n          lightcyan: 0xe0ffff,\n          lightgoldenrodyellow: 0xfafad2,\n          lightgray: 0xd3d3d3,\n          lightgrey: 0xd3d3d3,\n          lightgreen: 0x90ee90,\n          lightpink: 0xffb6c1,\n          lightsalmon: 0xffa07a,\n          lightseagreen: 0x20b2aa,\n          lightskyblue: 0x87cefa,\n          lightslategray: 0x778899,\n          lightslategrey: 0x778899,\n          lightsteelblue: 0xb0c4de,\n          lightyellow: 0xffffe0,\n          lime: 0x00ff00,\n          limegreen: 0x32cd32,\n          linen: 0xfaf0e6,\n          magenta: 0xff00ff,\n          maroon: 0x800000,\n          mediumaquamarine: 0x66cdaa,\n          mediumblue: 0x0000cd,\n          mediumorchid: 0xba55d3,\n          mediumpurple: 0x9370db,\n          mediumseagreen: 0x3cb371,\n          mediumslateblue: 0x7b68ee,\n          mediumspringgreen: 0x00fa9a,\n          mediumturquoise: 0x48d1cc,\n          mediumvioletred: 0xc71585,\n          midnightblue: 0x191970,\n          mintcream: 0xf5fffa,\n          mistyrose: 0xffe4e1,\n          moccasin: 0xffe4b5,\n          navajowhite: 0xffdead,\n          navy: 0x000080,\n          oldlace: 0xfdf5e6,\n          olive: 0x808000,\n          olivedrab: 0x6b8e23,\n          orange: 0xffa500,\n          orangered: 0xff4500,\n          orchid: 0xda70d6,\n          palegoldenrod: 0xeee8aa,\n          palegreen: 0x98fb98,\n          paleturquoise: 0xafeeee,\n          palevioletred: 0xdb7093,\n          papayawhip: 0xffefd5,\n          peachpuff: 0xffdab9,\n          peru: 0xcd853f,\n          pink: 0xffc0cb,\n          plum: 0xdda0dd,\n          powderblue: 0xb0e0e6,\n          purple: 0x800080,\n          rebeccapurple: 0x663399,\n          red: 0xff0000,\n          rosybrown: 0xbc8f8f,\n          royalblue: 0x4169e1,\n          saddlebrown: 0x8b4513,\n          salmon: 0xfa8072,\n          sandybrown: 0xf4a460,\n          seagreen: 0x2e8b57,\n          seashell: 0xfff5ee,\n          sienna: 0xa0522d,\n          silver: 0xc0c0c0,\n          skyblue: 0x87ceeb,\n          slateblue: 0x6a5acd,\n          slategray: 0x708090,\n          slategrey: 0x708090,\n          snow: 0xfffafa,\n          springgreen: 0x00ff7f,\n          steelblue: 0x4682b4,\n          tan: 0xd2b48c,\n          teal: 0x008080,\n          thistle: 0xd8bfd8,\n          tomato: 0xff6347,\n          turquoise: 0x40e0d0,\n          violet: 0xee82ee,\n          wheat: 0xf5deb3,\n          white: 0xffffff,\n          whitesmoke: 0xf5f5f5,\n          yellow: 0xffff00,\n          yellowgreen: 0x9acd32\n      })\n  );\n  var systemColors = new Map(\n      Object.entries({\n          \"ActiveBorder\": 0x3b99fc,\n          \"ActiveCaption\": 0x000000,\n          \"AppWorkspace\": 0xaaaaaa,\n          \"Background\": 0x6363ce,\n          \"ButtonFace\": 0xffffff,\n          \"ButtonHighlight\": 0xe9e9e9,\n          \"ButtonShadow\": 0x9fa09f,\n          \"ButtonText\": 0x000000,\n          \"CaptionText\": 0x000000,\n          \"GrayText\": 0x7f7f7f,\n          \"Highlight\": 0xb2d7ff,\n          \"HighlightText\": 0x000000,\n          \"InactiveBorder\": 0xffffff,\n          \"InactiveCaption\": 0xffffff,\n          \"InactiveCaptionText\": 0x000000,\n          \"InfoBackground\": 0xfbfcc5,\n          \"InfoText\": 0x000000,\n          \"Menu\": 0xf6f6f6,\n          \"MenuText\": 0xffffff,\n          \"Scrollbar\": 0xaaaaaa,\n          \"ThreeDDarkShadow\": 0x000000,\n          \"ThreeDFace\": 0xc0c0c0,\n          \"ThreeDHighlight\": 0xffffff,\n          \"ThreeDLightShadow\": 0xffffff,\n          \"ThreeDShadow\": 0x000000,\n          \"Window\": 0xececec,\n          \"WindowFrame\": 0xaaaaaa,\n          \"WindowText\": 0x000000,\n          \"-webkit-focus-ring-color\": 0xe59700\n      }).map(function (_a) {\n          var _b = __read(_a, 2),\n              key = _b[0],\n              value = _b[1];\n          return [key.toLowerCase(), value];\n      })\n  );\n  function getSRGBLightness(r, g, b) {\n      return (0.2126 * r + 0.7152 * g + 0.0722 * b) / 255;\n  }\n\n  function scale(x, inLow, inHigh, outLow, outHigh) {\n      return ((x - inLow) * (outHigh - outLow)) / (inHigh - inLow) + outLow;\n  }\n  function clamp(x, min, max) {\n      return Math.min(max, Math.max(min, x));\n  }\n  function multiplyMatrices(m1, m2) {\n      var result = [];\n      for (var i = 0, len = m1.length; i < len; i++) {\n          result[i] = [];\n          for (var j = 0, len2 = m2[0].length; j < len2; j++) {\n              var sum = 0;\n              for (var k = 0, len3 = m1[0].length; k < len3; k++) {\n                  sum += m1[i][k] * m2[k][j];\n              }\n              result[i][j] = sum;\n          }\n      }\n      return result;\n  }\n\n  function createFilterMatrix(config) {\n      var m = Matrix.identity();\n      if (config.sepia !== 0) {\n          m = multiplyMatrices(m, Matrix.sepia(config.sepia / 100));\n      }\n      if (config.grayscale !== 0) {\n          m = multiplyMatrices(m, Matrix.grayscale(config.grayscale / 100));\n      }\n      if (config.contrast !== 100) {\n          m = multiplyMatrices(m, Matrix.contrast(config.contrast / 100));\n      }\n      if (config.brightness !== 100) {\n          m = multiplyMatrices(m, Matrix.brightness(config.brightness / 100));\n      }\n      if (config.mode === 1) {\n          m = multiplyMatrices(m, Matrix.invertNHue());\n      }\n      return m;\n  }\n  function applyColorMatrix(_a, matrix) {\n      var _b = __read(_a, 3),\n          r = _b[0],\n          g = _b[1],\n          b = _b[2];\n      var rgb = [[r / 255], [g / 255], [b / 255], [1], [1]];\n      var result = multiplyMatrices(matrix, rgb);\n      return [0, 1, 2].map(function (i) {\n          return clamp(Math.round(result[i][0] * 255), 0, 255);\n      });\n  }\n  var Matrix = {\n      identity: function () {\n          return [\n              [1, 0, 0, 0, 0],\n              [0, 1, 0, 0, 0],\n              [0, 0, 1, 0, 0],\n              [0, 0, 0, 1, 0],\n              [0, 0, 0, 0, 1]\n          ];\n      },\n      invertNHue: function () {\n          return [\n              [0.333, -0.667, -0.667, 0, 1],\n              [-0.667, 0.333, -0.667, 0, 1],\n              [-0.667, -0.667, 0.333, 0, 1],\n              [0, 0, 0, 1, 0],\n              [0, 0, 0, 0, 1]\n          ];\n      },\n      brightness: function (v) {\n          return [\n              [v, 0, 0, 0, 0],\n              [0, v, 0, 0, 0],\n              [0, 0, v, 0, 0],\n              [0, 0, 0, 1, 0],\n              [0, 0, 0, 0, 1]\n          ];\n      },\n      contrast: function (v) {\n          var t = (1 - v) / 2;\n          return [\n              [v, 0, 0, 0, t],\n              [0, v, 0, 0, t],\n              [0, 0, v, 0, t],\n              [0, 0, 0, 1, 0],\n              [0, 0, 0, 0, 1]\n          ];\n      },\n      sepia: function (v) {\n          return [\n              [\n                  0.393 + 0.607 * (1 - v),\n                  0.769 - 0.769 * (1 - v),\n                  0.189 - 0.189 * (1 - v),\n                  0,\n                  0\n              ],\n              [\n                  0.349 - 0.349 * (1 - v),\n                  0.686 + 0.314 * (1 - v),\n                  0.168 - 0.168 * (1 - v),\n                  0,\n                  0\n              ],\n              [\n                  0.272 - 0.272 * (1 - v),\n                  0.534 - 0.534 * (1 - v),\n                  0.131 + 0.869 * (1 - v),\n                  0,\n                  0\n              ],\n              [0, 0, 0, 1, 0],\n              [0, 0, 0, 0, 1]\n          ];\n      },\n      grayscale: function (v) {\n          return [\n              [\n                  0.2126 + 0.7874 * (1 - v),\n                  0.7152 - 0.7152 * (1 - v),\n                  0.0722 - 0.0722 * (1 - v),\n                  0,\n                  0\n              ],\n              [\n                  0.2126 - 0.2126 * (1 - v),\n                  0.7152 + 0.2848 * (1 - v),\n                  0.0722 - 0.0722 * (1 - v),\n                  0,\n                  0\n              ],\n              [\n                  0.2126 - 0.2126 * (1 - v),\n                  0.7152 - 0.7152 * (1 - v),\n                  0.0722 + 0.9278 * (1 - v),\n                  0,\n                  0\n              ],\n              [0, 0, 0, 1, 0],\n              [0, 0, 0, 0, 1]\n          ];\n      }\n  };\n\n  function getBgPole(theme) {\n      var isDarkScheme = theme.mode === 1;\n      var prop = isDarkScheme\n          ? \"darkSchemeBackgroundColor\"\n          : \"lightSchemeBackgroundColor\";\n      return theme[prop];\n  }\n  function getFgPole(theme) {\n      var isDarkScheme = theme.mode === 1;\n      var prop = isDarkScheme\n          ? \"darkSchemeTextColor\"\n          : \"lightSchemeTextColor\";\n      return theme[prop];\n  }\n  var colorModificationCache = new Map();\n  function clearColorModificationCache() {\n      colorModificationCache.clear();\n  }\n  var rgbCacheKeys = [\"r\", \"g\", \"b\", \"a\"];\n  var themeCacheKeys$1 = [\n      \"mode\",\n      \"brightness\",\n      \"contrast\",\n      \"grayscale\",\n      \"sepia\",\n      \"darkSchemeBackgroundColor\",\n      \"darkSchemeTextColor\",\n      \"lightSchemeBackgroundColor\",\n      \"lightSchemeTextColor\"\n  ];\n  function getCacheId(rgb, theme) {\n      var resultId = \"\";\n      rgbCacheKeys.forEach(function (key) {\n          resultId += \"\".concat(rgb[key], \";\");\n      });\n      themeCacheKeys$1.forEach(function (key) {\n          resultId += \"\".concat(theme[key], \";\");\n      });\n      return resultId;\n  }\n  function modifyColorWithCache(\n      rgb,\n      theme,\n      modifyHSL,\n      poleColor,\n      anotherPoleColor\n  ) {\n      var fnCache;\n      if (colorModificationCache.has(modifyHSL)) {\n          fnCache = colorModificationCache.get(modifyHSL);\n      } else {\n          fnCache = new Map();\n          colorModificationCache.set(modifyHSL, fnCache);\n      }\n      var id = getCacheId(rgb, theme);\n      if (fnCache.has(id)) {\n          return fnCache.get(id);\n      }\n      var hsl = rgbToHSL(rgb);\n      var pole = poleColor == null ? null : parseToHSLWithCache(poleColor);\n      var anotherPole =\n          anotherPoleColor == null\n              ? null\n              : parseToHSLWithCache(anotherPoleColor);\n      var modified = modifyHSL(hsl, pole, anotherPole);\n      var _a = hslToRGB(modified),\n          r = _a.r,\n          g = _a.g,\n          b = _a.b,\n          a = _a.a;\n      var matrix = createFilterMatrix(theme);\n      var _b = __read(applyColorMatrix([r, g, b], matrix), 3),\n          rf = _b[0],\n          gf = _b[1],\n          bf = _b[2];\n      var color =\n          a === 1\n              ? rgbToHexString({r: rf, g: gf, b: bf})\n              : rgbToString({r: rf, g: gf, b: bf, a: a});\n      fnCache.set(id, color);\n      return color;\n  }\n  function noopHSL(hsl) {\n      return hsl;\n  }\n  function modifyColor(rgb, theme) {\n      return modifyColorWithCache(rgb, theme, noopHSL);\n  }\n  function modifyLightSchemeColor(rgb, theme) {\n      var poleBg = getBgPole(theme);\n      var poleFg = getFgPole(theme);\n      return modifyColorWithCache(\n          rgb,\n          theme,\n          modifyLightModeHSL,\n          poleFg,\n          poleBg\n      );\n  }\n  function modifyLightModeHSL(_a, poleFg, poleBg) {\n      var h = _a.h,\n          s = _a.s,\n          l = _a.l,\n          a = _a.a;\n      var isDark = l < 0.5;\n      var isNeutral;\n      if (isDark) {\n          isNeutral = l < 0.2 || s < 0.12;\n      } else {\n          var isBlue = h > 200 && h < 280;\n          isNeutral = s < 0.24 || (l > 0.8 && isBlue);\n      }\n      var hx = h;\n      var sx = l;\n      if (isNeutral) {\n          if (isDark) {\n              hx = poleFg.h;\n              sx = poleFg.s;\n          } else {\n              hx = poleBg.h;\n              sx = poleBg.s;\n          }\n      }\n      var lx = scale(l, 0, 1, poleFg.l, poleBg.l);\n      return {h: hx, s: sx, l: lx, a: a};\n  }\n  var MAX_BG_LIGHTNESS = 0.4;\n  function modifyBgHSL(_a, pole) {\n      var h = _a.h,\n          s = _a.s,\n          l = _a.l,\n          a = _a.a;\n      var isDark = l < 0.5;\n      var isBlue = h > 200 && h < 280;\n      var isNeutral = s < 0.12 || (l > 0.8 && isBlue);\n      if (isDark) {\n          var lx_1 = scale(l, 0, 0.5, 0, MAX_BG_LIGHTNESS);\n          if (isNeutral) {\n              var hx_1 = pole.h;\n              var sx = pole.s;\n              return {h: hx_1, s: sx, l: lx_1, a: a};\n          }\n          return {h: h, s: s, l: lx_1, a: a};\n      }\n      var lx = scale(l, 0.5, 1, MAX_BG_LIGHTNESS, pole.l);\n      if (isNeutral) {\n          var hx_2 = pole.h;\n          var sx = pole.s;\n          return {h: hx_2, s: sx, l: lx, a: a};\n      }\n      var hx = h;\n      var isYellow = h > 60 && h < 180;\n      if (isYellow) {\n          var isCloserToGreen = h > 120;\n          if (isCloserToGreen) {\n              hx = scale(h, 120, 180, 135, 180);\n          } else {\n              hx = scale(h, 60, 120, 60, 105);\n          }\n      }\n      if (hx > 40 && hx < 80) {\n          lx *= 0.75;\n      }\n      return {h: hx, s: s, l: lx, a: a};\n  }\n  function modifyBackgroundColor(rgb, theme) {\n      if (theme.mode === 0) {\n          return modifyLightSchemeColor(rgb, theme);\n      }\n      var pole = getBgPole(theme);\n      return modifyColorWithCache(\n          rgb,\n          __assign(__assign({}, theme), {mode: 0}),\n          modifyBgHSL,\n          pole\n      );\n  }\n  var MIN_FG_LIGHTNESS = 0.55;\n  function modifyBlueFgHue(hue) {\n      return scale(hue, 205, 245, 205, 220);\n  }\n  function modifyFgHSL(_a, pole) {\n      var h = _a.h,\n          s = _a.s,\n          l = _a.l,\n          a = _a.a;\n      var isLight = l > 0.5;\n      var isNeutral = l < 0.2 || s < 0.24;\n      var isBlue = !isNeutral && h > 205 && h < 245;\n      if (isLight) {\n          var lx_2 = scale(l, 0.5, 1, MIN_FG_LIGHTNESS, pole.l);\n          if (isNeutral) {\n              var hx_3 = pole.h;\n              var sx = pole.s;\n              return {h: hx_3, s: sx, l: lx_2, a: a};\n          }\n          var hx_4 = h;\n          if (isBlue) {\n              hx_4 = modifyBlueFgHue(h);\n          }\n          return {h: hx_4, s: s, l: lx_2, a: a};\n      }\n      if (isNeutral) {\n          var hx_5 = pole.h;\n          var sx = pole.s;\n          var lx_3 = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n          return {h: hx_5, s: sx, l: lx_3, a: a};\n      }\n      var hx = h;\n      var lx;\n      if (isBlue) {\n          hx = modifyBlueFgHue(h);\n          lx = scale(l, 0, 0.5, pole.l, Math.min(1, MIN_FG_LIGHTNESS + 0.05));\n      } else {\n          lx = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n      }\n      return {h: hx, s: s, l: lx, a: a};\n  }\n  function modifyForegroundColor(rgb, theme) {\n      if (theme.mode === 0) {\n          return modifyLightSchemeColor(rgb, theme);\n      }\n      var pole = getFgPole(theme);\n      return modifyColorWithCache(\n          rgb,\n          __assign(__assign({}, theme), {mode: 0}),\n          modifyFgHSL,\n          pole\n      );\n  }\n  function modifyBorderHSL(_a, poleFg, poleBg) {\n      var h = _a.h,\n          s = _a.s,\n          l = _a.l,\n          a = _a.a;\n      var isDark = l < 0.5;\n      var isNeutral = l < 0.2 || s < 0.24;\n      var hx = h;\n      var sx = s;\n      if (isNeutral) {\n          if (isDark) {\n              hx = poleFg.h;\n              sx = poleFg.s;\n          } else {\n              hx = poleBg.h;\n              sx = poleBg.s;\n          }\n      }\n      var lx = scale(l, 0, 1, 0.5, 0.2);\n      return {h: hx, s: sx, l: lx, a: a};\n  }\n  function modifyBorderColor(rgb, theme) {\n      if (theme.mode === 0) {\n          return modifyLightSchemeColor(rgb, theme);\n      }\n      var poleFg = getFgPole(theme);\n      var poleBg = getBgPole(theme);\n      return modifyColorWithCache(\n          rgb,\n          __assign(__assign({}, theme), {mode: 0}),\n          modifyBorderHSL,\n          poleFg,\n          poleBg\n      );\n  }\n  function modifyShadowColor(rgb, filter) {\n      return modifyBackgroundColor(rgb, filter);\n  }\n  function modifyGradientColor(rgb, filter) {\n      return modifyBackgroundColor(rgb, filter);\n  }\n\n  function createTextStyle(config) {\n      var lines = [];\n      lines.push(\n          '*:not(pre, pre *, code, .far, .fa, .glyphicon, [class*=\"vjs-\"], .fab, .fa-github, .fas, .material-icons, .icofont, .typcn, mu, [class*=\"mu-\"], .glyphicon, .icon) {'\n      );\n      if (config.useFont && config.fontFamily) {\n          lines.push(\n              \"  font-family: \".concat(config.fontFamily, \" !important;\")\n          );\n      }\n      if (config.textStroke > 0) {\n          lines.push(\n              \"  -webkit-text-stroke: \".concat(\n                  config.textStroke,\n                  \"px !important;\"\n              )\n          );\n          lines.push(\n              \"  text-stroke: \".concat(config.textStroke, \"px !important;\")\n          );\n      }\n      lines.push(\"}\");\n      return lines.join(\"\\n\");\n  }\n\n  var FilterMode;\n  (function (FilterMode) {\n      FilterMode[(FilterMode[\"light\"] = 0)] = \"light\";\n      FilterMode[(FilterMode[\"dark\"] = 1)] = \"dark\";\n  })(FilterMode || (FilterMode = {}));\n  function getCSSFilterValue(config) {\n      var filters = [];\n      if (config.mode === FilterMode.dark) {\n          filters.push(\"invert(100%) hue-rotate(180deg)\");\n      }\n      if (config.brightness !== 100) {\n          filters.push(\"brightness(\".concat(config.brightness, \"%)\"));\n      }\n      if (config.contrast !== 100) {\n          filters.push(\"contrast(\".concat(config.contrast, \"%)\"));\n      }\n      if (config.grayscale !== 0) {\n          filters.push(\"grayscale(\".concat(config.grayscale, \"%)\"));\n      }\n      if (config.sepia !== 0) {\n          filters.push(\"sepia(\".concat(config.sepia, \"%)\"));\n      }\n      if (filters.length === 0) {\n          return null;\n      }\n      return filters.join(\" \");\n  }\n\n  function toSVGMatrix(matrix) {\n      return matrix\n          .slice(0, 4)\n          .map(function (m) {\n              return m\n                  .map(function (m) {\n                      return m.toFixed(3);\n                  })\n                  .join(\" \");\n          })\n          .join(\" \");\n  }\n  function getSVGFilterMatrixValue(config) {\n      return toSVGMatrix(createFilterMatrix(config));\n  }\n\n  function hexify(number) {\n      return (number < 16 ? \"0\" : \"\") + number.toString(16);\n  }\n  function generateUID() {\n      if (\"randomUUID\" in crypto) {\n          var uuid = crypto.randomUUID();\n          return (\n              uuid.substring(0, 8) +\n              uuid.substring(9, 13) +\n              uuid.substring(14, 18) +\n              uuid.substring(19, 23) +\n              uuid.substring(24)\n          );\n      }\n      if (\"getRandomValues\" in crypto) {\n          return Array.from(crypto.getRandomValues(new Uint8Array(16)))\n              .map(function (x) {\n                  return hexify(x);\n              })\n              .join(\"\");\n      }\n      return Math.floor(Math.random() * Math.pow(2, 55)).toString(36);\n  }\n\n  var resolvers$1 = new Map();\n  var rejectors = new Map();\n  function bgFetch(request) {\n      return __awaiter(this, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n              return [\n                  2,\n                  new Promise(function (resolve, reject) {\n                      var id = generateUID();\n                      resolvers$1.set(id, resolve);\n                      rejectors.set(id, reject);\n                      chrome.runtime.sendMessage({\n                          type: MessageTypeCStoBG.FETCH,\n                          data: request,\n                          id: id\n                      });\n                  })\n              ];\n          });\n      });\n  }\n  chrome.runtime.onMessage.addListener(function (_a) {\n      var type = _a.type,\n          data = _a.data,\n          error = _a.error,\n          id = _a.id;\n      if (type === MessageTypeBGtoCS.FETCH_RESPONSE) {\n          var resolve = resolvers$1.get(id);\n          var reject = rejectors.get(id);\n          resolvers$1.delete(id);\n          rejectors.delete(id);\n          if (error) {\n              reject && reject(error);\n          } else {\n              resolve && resolve(data);\n          }\n      }\n  });\n\n  var AsyncQueue = (function () {\n      function AsyncQueue() {\n          this.queue = [];\n          this.timerId = null;\n          this.frameDuration = 1000 / 60;\n      }\n      AsyncQueue.prototype.addToQueue = function (entry) {\n          this.queue.push(entry);\n          this.startQueue();\n      };\n      AsyncQueue.prototype.stopQueue = function () {\n          if (this.timerId !== null) {\n              cancelAnimationFrame(this.timerId);\n              this.timerId = null;\n          }\n          this.queue = [];\n      };\n      AsyncQueue.prototype.startQueue = function () {\n          var _this = this;\n          if (this.timerId) {\n              return;\n          }\n          this.timerId = requestAnimationFrame(function () {\n              _this.timerId = null;\n              var start = Date.now();\n              var cb;\n              while ((cb = _this.queue.shift())) {\n                  cb();\n                  if (Date.now() - start >= _this.frameDuration) {\n                      _this.startQueue();\n                      break;\n                  }\n              }\n          });\n      };\n      return AsyncQueue;\n  })();\n\n  var imageManager = new AsyncQueue();\n  function getImageDetails(url) {\n      return __awaiter(this, void 0, void 0, function () {\n          var _this = this;\n          return __generator(this, function (_a) {\n              return [\n                  2,\n                  new Promise(function (resolve, reject) {\n                      return __awaiter(_this, void 0, void 0, function () {\n                          var dataURL, error_1, image_1, error_2;\n                          return __generator(this, function (_a) {\n                              switch (_a.label) {\n                                  case 0:\n                                      if (!url.startsWith(\"data:\"))\n                                          return [3, 1];\n                                      dataURL = url;\n                                      return [3, 4];\n                                  case 1:\n                                      _a.trys.push([1, 3, , 4]);\n                                      return [4, getImageDataURL(url)];\n                                  case 2:\n                                      dataURL = _a.sent();\n                                      return [3, 4];\n                                  case 3:\n                                      error_1 = _a.sent();\n                                      reject(error_1);\n                                      return [2];\n                                  case 4:\n                                      _a.trys.push([4, 6, , 7]);\n                                      return [4, urlToImage(dataURL)];\n                                  case 5:\n                                      image_1 = _a.sent();\n                                      imageManager.addToQueue(function () {\n                                          var analysis =\n                                              analyzeImage(image_1);\n                                          resolve(\n                                              __assign(\n                                                  {\n                                                      src: url,\n                                                      dataURL:\n                                                          analysis.isLarge\n                                                              ? \"\"\n                                                              : dataURL,\n                                                      width: image_1.naturalWidth,\n                                                      height: image_1.naturalHeight\n                                                  },\n                                                  analysis\n                                              )\n                                          );\n                                      });\n                                      return [3, 7];\n                                  case 6:\n                                      error_2 = _a.sent();\n                                      reject(error_2);\n                                      return [3, 7];\n                                  case 7:\n                                      return [2];\n                              }\n                          });\n                      });\n                  })\n              ];\n          });\n      });\n  }\n  function getImageDataURL(url) {\n      return __awaiter(this, void 0, void 0, function () {\n          var parsedURL;\n          return __generator(this, function (_a) {\n              switch (_a.label) {\n                  case 0:\n                      parsedURL = new URL(url);\n                      if (!(parsedURL.origin === location.origin))\n                          return [3, 2];\n                      return [4, loadAsDataURL(url)];\n                  case 1:\n                      return [2, _a.sent()];\n                  case 2:\n                      return [\n                          4,\n                          bgFetch({url: url, responseType: \"data-url\"})\n                      ];\n                  case 3:\n                      return [2, _a.sent()];\n              }\n          });\n      });\n  }\n  function urlToImage(url) {\n      return __awaiter(this, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n              return [\n                  2,\n                  new Promise(function (resolve, reject) {\n                      var image = new Image();\n                      image.onload = function () {\n                          return resolve(image);\n                      };\n                      image.onerror = function () {\n                          return reject(\"Unable to load image \".concat(url));\n                      };\n                      image.src = url;\n                  })\n              ];\n          });\n      });\n  }\n  var MAX_ANALYSIS_PIXELS_COUNT = 32 * 32;\n  var canvas;\n  var context;\n  function createCanvas() {\n      var maxWidth = MAX_ANALYSIS_PIXELS_COUNT;\n      var maxHeight = MAX_ANALYSIS_PIXELS_COUNT;\n      canvas = document.createElement(\"canvas\");\n      canvas.width = maxWidth;\n      canvas.height = maxHeight;\n      context = canvas.getContext(\"2d\", {willReadFrequently: true});\n      context.imageSmoothingEnabled = false;\n  }\n  function removeCanvas() {\n      canvas = null;\n      context = null;\n  }\n  var LARGE_IMAGE_PIXELS_COUNT = 512 * 512;\n  function analyzeImage(image) {\n      if (!canvas) {\n          createCanvas();\n      }\n      var naturalWidth = image.naturalWidth,\n          naturalHeight = image.naturalHeight;\n      if (naturalHeight === 0 || naturalWidth === 0) {\n          logWarn(\"logWarn(Image is empty \".concat(image.currentSrc, \")\"));\n          return {\n              isDark: false,\n              isLight: false,\n              isTransparent: false,\n              isLarge: false,\n              isTooLarge: false\n          };\n      }\n      if (naturalWidth * naturalHeight > LARGE_IMAGE_PIXELS_COUNT) {\n          return {\n              isDark: false,\n              isLight: false,\n              isTransparent: false,\n              isLarge: true\n          };\n      }\n      var naturalPixelsCount = naturalWidth * naturalHeight;\n      var k = Math.min(\n          1,\n          Math.sqrt(MAX_ANALYSIS_PIXELS_COUNT / naturalPixelsCount)\n      );\n      var width = Math.ceil(naturalWidth * k);\n      var height = Math.ceil(naturalHeight * k);\n      context.clearRect(0, 0, width, height);\n      context.drawImage(\n          image,\n          0,\n          0,\n          naturalWidth,\n          naturalHeight,\n          0,\n          0,\n          width,\n          height\n      );\n      var imageData = context.getImageData(0, 0, width, height);\n      var d = imageData.data;\n      var TRANSPARENT_ALPHA_THRESHOLD = 0.05;\n      var DARK_LIGHTNESS_THRESHOLD = 0.4;\n      var LIGHT_LIGHTNESS_THRESHOLD = 0.7;\n      var transparentPixelsCount = 0;\n      var darkPixelsCount = 0;\n      var lightPixelsCount = 0;\n      var i, x, y;\n      var r, g, b, a;\n      var l;\n      for (y = 0; y < height; y++) {\n          for (x = 0; x < width; x++) {\n              i = 4 * (y * width + x);\n              r = d[i + 0];\n              g = d[i + 1];\n              b = d[i + 2];\n              a = d[i + 3];\n              if (a / 255 < TRANSPARENT_ALPHA_THRESHOLD) {\n                  transparentPixelsCount++;\n              } else {\n                  l = getSRGBLightness(r, g, b);\n                  if (l < DARK_LIGHTNESS_THRESHOLD) {\n                      darkPixelsCount++;\n                  }\n                  if (l > LIGHT_LIGHTNESS_THRESHOLD) {\n                      lightPixelsCount++;\n                  }\n              }\n          }\n      }\n      var totalPixelsCount = width * height;\n      var opaquePixelsCount = totalPixelsCount - transparentPixelsCount;\n      var DARK_IMAGE_THRESHOLD = 0.7;\n      var LIGHT_IMAGE_THRESHOLD = 0.7;\n      var TRANSPARENT_IMAGE_THRESHOLD = 0.1;\n      return {\n          isDark: darkPixelsCount / opaquePixelsCount >= DARK_IMAGE_THRESHOLD,\n          isLight:\n              lightPixelsCount / opaquePixelsCount >= LIGHT_IMAGE_THRESHOLD,\n          isTransparent:\n              transparentPixelsCount / totalPixelsCount >=\n              TRANSPARENT_IMAGE_THRESHOLD,\n          isLarge: false\n      };\n  }\n  function getFilteredImageDataURL(_a, theme) {\n      var dataURL = _a.dataURL,\n          width = _a.width,\n          height = _a.height;\n      var matrix = getSVGFilterMatrixValue(theme);\n      var svg = [\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"'\n              .concat(width, '\" height=\"')\n              .concat(height, '\">'),\n          \"<defs>\",\n          '<filter id=\"darkmode-image-filter\">',\n          '<feColorMatrix type=\"matrix\" values=\"'.concat(matrix, '\" />'),\n          \"</filter>\",\n          \"</defs>\",\n          '<image width=\"'\n              .concat(width, '\" height=\"')\n              .concat(\n                  height,\n                  '\" filter=\"url(#darkmode-image-filter)\" xlink:href=\"'\n              )\n              .concat(dataURL, '\" />'),\n          \"</svg>\"\n      ].join(\"\");\n      return \"data:image/svg+xml;base64,\".concat(btoa(svg));\n  }\n  function cleanImageProcessingCache() {\n      imageManager && imageManager.stopQueue();\n      removeCanvas();\n  }\n\n  var gradientLength = \"gradient\".length;\n  var conicGradient = \"conic-\";\n  var conicGradientLength = conicGradient.length;\n  var radialGradient = \"radial-\";\n  var linearGradient = \"linear-\";\n  function parseGradient(value) {\n      var result = [];\n      var index = 0;\n      var startIndex = conicGradient.length;\n      var _loop_1 = function () {\n          var typeGradient;\n          [linearGradient, radialGradient, conicGradient].find(\n              function (possibleType) {\n                  if (index - possibleType.length >= 0) {\n                      var possibleGradient = value.substring(\n                          index - possibleType.length,\n                          index\n                      );\n                      if (possibleGradient === possibleType) {\n                          if (\n                              value.slice(\n                                  index - possibleType.length - 10,\n                                  index - possibleType.length - 1\n                              ) === \"repeating\"\n                          ) {\n                              typeGradient = \"repeating-\".concat(\n                                  possibleType,\n                                  \"gradient\"\n                              );\n                              return true;\n                          }\n                          if (\n                              value.slice(\n                                  index - possibleType.length - 8,\n                                  index - possibleType.length - 1\n                              ) === \"-webkit\"\n                          ) {\n                              typeGradient = \"-webkit-\".concat(\n                                  possibleType,\n                                  \"gradient\"\n                              );\n                              return true;\n                          }\n                          typeGradient = \"\".concat(possibleType, \"gradient\");\n                          return true;\n                      }\n                  }\n              }\n          );\n          if (!typeGradient) {\n              return \"break\";\n          }\n          var _a = getParenthesesRange(value, index + gradientLength),\n              start = _a.start,\n              end = _a.end;\n          var match = value.substring(start + 1, end - 1);\n          startIndex = end + 1 + conicGradientLength;\n          result.push({\n              typeGradient: typeGradient,\n              match: match,\n              offset: typeGradient.length + 2,\n              index: index - typeGradient.length + gradientLength,\n              hasComma: true\n          });\n      };\n      while ((index = value.indexOf(\"gradient\", startIndex)) !== -1) {\n          var state_1 = _loop_1();\n          if (state_1 === \"break\") break;\n      }\n      if (result.length) {\n          result[result.length - 1].hasComma = false;\n      }\n      return result;\n  }\n\n  function getPriority(ruleStyle, property) {\n      return Boolean(ruleStyle && ruleStyle.getPropertyPriority(property));\n  }\n  function getModifiableCSSDeclaration(\n      property,\n      value,\n      rule,\n      variablesStore,\n      ignoreImageSelectors,\n      isCancelled\n  ) {\n      if (property.startsWith(\"--\")) {\n          var modifier = getVariableModifier(\n              variablesStore,\n              property,\n              value,\n              rule,\n              ignoreImageSelectors,\n              isCancelled\n          );\n          if (modifier) {\n              return {\n                  property: property,\n                  value: modifier,\n                  important: getPriority(rule.style, property),\n                  sourceValue: value\n              };\n          }\n      } else if (value.includes(\"var(\")) {\n          var modifier = getVariableDependantModifier(\n              variablesStore,\n              property,\n              value\n          );\n          if (modifier) {\n              return {\n                  property: property,\n                  value: modifier,\n                  important: getPriority(rule.style, property),\n                  sourceValue: value\n              };\n          }\n      } else if (property === \"color-scheme\") {\n          return null;\n      } else if (\n          (property.includes(\"color\") &&\n              property !== \"-webkit-print-color-adjust\") ||\n          property === \"fill\" ||\n          property === \"stroke\" ||\n          property === \"stop-color\"\n      ) {\n          var modifier = getColorModifier(property, value, rule);\n          if (modifier) {\n              return {\n                  property: property,\n                  value: modifier,\n                  important: getPriority(rule.style, property),\n                  sourceValue: value\n              };\n          }\n      } else if (\n          property === \"background-image\" ||\n          property === \"list-style-image\"\n      ) {\n          var modifier = getBgImageModifier(\n              value,\n              rule,\n              ignoreImageSelectors,\n              isCancelled\n          );\n          if (modifier) {\n              return {\n                  property: property,\n                  value: modifier,\n                  important: getPriority(rule.style, property),\n                  sourceValue: value\n              };\n          }\n      } else if (property.includes(\"shadow\")) {\n          var modifier = getShadowModifier(value);\n          if (modifier) {\n              return {\n                  property: property,\n                  value: modifier,\n                  important: getPriority(rule.style, property),\n                  sourceValue: value\n              };\n          }\n      }\n      return null;\n  }\n  function joinSelectors() {\n      var selectors = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n          selectors[_i] = arguments[_i];\n      }\n      return selectors.filter(Boolean).join(\", \");\n  }\n  function getModifiedUserAgentStyle(theme, isIFrame, styleSystemControls) {\n      var lines = [];\n      if (!isIFrame) {\n          lines.push(\"html {\");\n          lines.push(\n              \"    background-color: \".concat(\n                  modifyBackgroundColor({r: 255, g: 255, b: 255}, theme),\n                  \" !important;\"\n              )\n          );\n          lines.push(\"}\");\n      }\n      if (isCSSColorSchemePropSupported) {\n          lines.push(\"html {\");\n          lines.push(\n              \"    color-scheme: \".concat(\n                  theme.mode === 1 ? \"dark\" : \"dark light\",\n                  \" !important;\"\n              )\n          );\n          lines.push(\"}\");\n      }\n      var bgSelectors = joinSelectors(\n          isIFrame ? \"\" : \"html, body\",\n          styleSystemControls ? \"input, textarea, select, button, dialog\" : \"\"\n      );\n      if (bgSelectors) {\n          lines.push(\"\".concat(bgSelectors, \" {\"));\n          lines.push(\n              \"    background-color: \".concat(\n                  modifyBackgroundColor({r: 255, g: 255, b: 255}, theme),\n                  \";\"\n              )\n          );\n          lines.push(\"}\");\n      }\n      lines.push(\n          \"\".concat(\n              joinSelectors(\n                  \"html, body\",\n                  styleSystemControls ? \"input, textarea, select, button\" : \"\"\n              ),\n              \" {\"\n          )\n      );\n      lines.push(\n          \"    border-color: \".concat(\n              modifyBorderColor({r: 76, g: 76, b: 76}, theme),\n              \";\"\n          )\n      );\n      lines.push(\n          \"    color: \".concat(\n              modifyForegroundColor({r: 0, g: 0, b: 0}, theme),\n              \";\"\n          )\n      );\n      lines.push(\"}\");\n      lines.push(\"a {\");\n      lines.push(\n          \"    color: \".concat(\n              modifyForegroundColor({r: 0, g: 64, b: 255}, theme),\n              \";\"\n          )\n      );\n      lines.push(\"}\");\n      lines.push(\"table {\");\n      lines.push(\n          \"    border-color: \".concat(\n              modifyBorderColor({r: 128, g: 128, b: 128}, theme),\n              \";\"\n          )\n      );\n      lines.push(\"}\");\n      lines.push(\"::placeholder {\");\n      lines.push(\n          \"    color: \".concat(\n              modifyForegroundColor({r: 169, g: 169, b: 169}, theme),\n              \";\"\n          )\n      );\n      lines.push(\"}\");\n      lines.push(\"input:-webkit-autofill,\");\n      lines.push(\"textarea:-webkit-autofill,\");\n      lines.push(\"select:-webkit-autofill {\");\n      lines.push(\n          \"    background-color: \".concat(\n              modifyBackgroundColor({r: 250, g: 255, b: 189}, theme),\n              \" !important;\"\n          )\n      );\n      lines.push(\n          \"    color: \".concat(\n              modifyForegroundColor({r: 0, g: 0, b: 0}, theme),\n              \" !important;\"\n          )\n      );\n      lines.push(\"}\");\n      if (theme.scrollbarColor) {\n          lines.push(getModifiedScrollbarStyle(theme));\n      }\n      if (theme.selectionColor) {\n          lines.push(getModifiedSelectionStyle(theme));\n      }\n      return lines.join(\"\\n\");\n  }\n  function getSelectionColor(theme) {\n      var backgroundColorSelection;\n      var foregroundColorSelection;\n      if (theme.selectionColor === \"auto\") {\n          backgroundColorSelection = modifyBackgroundColor(\n              {r: 0, g: 96, b: 212},\n              __assign(__assign({}, theme), {grayscale: 0})\n          );\n          foregroundColorSelection = modifyForegroundColor(\n              {r: 255, g: 255, b: 255},\n              __assign(__assign({}, theme), {grayscale: 0})\n          );\n      } else {\n          var rgb = parseColorWithCache(theme.selectionColor);\n          var hsl = rgbToHSL(rgb);\n          backgroundColorSelection = theme.selectionColor;\n          if (hsl.l < 0.5) {\n              foregroundColorSelection = \"#FFF\";\n          } else {\n              foregroundColorSelection = \"#000\";\n          }\n      }\n      return {\n          backgroundColorSelection: backgroundColorSelection,\n          foregroundColorSelection: foregroundColorSelection\n      };\n  }\n  function getModifiedSelectionStyle(theme) {\n      var lines = [];\n      var modifiedSelectionColor = getSelectionColor(theme);\n      var backgroundColorSelection =\n          modifiedSelectionColor.backgroundColorSelection;\n      var foregroundColorSelection =\n          modifiedSelectionColor.foregroundColorSelection;\n      [\"::selection\", \"::-moz-selection\"].forEach(function (selection) {\n          lines.push(\"\".concat(selection, \" {\"));\n          lines.push(\n              \"    background-color: \".concat(\n                  backgroundColorSelection,\n                  \" !important;\"\n              )\n          );\n          lines.push(\n              \"    color: \".concat(foregroundColorSelection, \" !important;\")\n          );\n          lines.push(\"}\");\n      });\n      return lines.join(\"\\n\");\n  }\n  function getModifiedScrollbarStyle(theme) {\n      var lines = [];\n      var colorTrack;\n      var colorIcons;\n      var colorThumb;\n      var colorThumbHover;\n      var colorThumbActive;\n      var colorCorner;\n      if (theme.scrollbarColor === \"auto\") {\n          colorTrack = modifyBackgroundColor({r: 241, g: 241, b: 241}, theme);\n          colorIcons = modifyForegroundColor({r: 96, g: 96, b: 96}, theme);\n          colorThumb = modifyBackgroundColor({r: 176, g: 176, b: 176}, theme);\n          colorThumbHover = modifyBackgroundColor(\n              {r: 144, g: 144, b: 144},\n              theme\n          );\n          colorThumbActive = modifyBackgroundColor(\n              {r: 96, g: 96, b: 96},\n              theme\n          );\n          colorCorner = modifyBackgroundColor(\n              {r: 255, g: 255, b: 255},\n              theme\n          );\n      } else {\n          var rgb = parseColorWithCache(theme.scrollbarColor);\n          var hsl_1 = rgbToHSL(rgb);\n          var isLight = hsl_1.l > 0.5;\n          var lighten = function (lighter) {\n              return __assign(__assign({}, hsl_1), {\n                  l: clamp(hsl_1.l + lighter, 0, 1)\n              });\n          };\n          var darken = function (darker) {\n              return __assign(__assign({}, hsl_1), {\n                  l: clamp(hsl_1.l - darker, 0, 1)\n              });\n          };\n          colorTrack = hslToString(darken(0.4));\n          colorIcons = hslToString(isLight ? darken(0.4) : lighten(0.4));\n          colorThumb = hslToString(hsl_1);\n          colorThumbHover = hslToString(lighten(0.1));\n          colorThumbActive = hslToString(lighten(0.2));\n          colorCorner = hslToString(darken(0.5));\n      }\n      lines.push(\"::-webkit-scrollbar {\");\n      lines.push(\"    background-color: \".concat(colorTrack, \";\"));\n      lines.push(\"    color: \".concat(colorIcons, \";\"));\n      lines.push(\"}\");\n      lines.push(\"::-webkit-scrollbar-thumb {\");\n      lines.push(\"    background-color: \".concat(colorThumb, \";\"));\n      lines.push(\"}\");\n      lines.push(\"::-webkit-scrollbar-thumb:hover {\");\n      lines.push(\"    background-color: \".concat(colorThumbHover, \";\"));\n      lines.push(\"}\");\n      lines.push(\"::-webkit-scrollbar-thumb:active {\");\n      lines.push(\"    background-color: \".concat(colorThumbActive, \";\"));\n      lines.push(\"}\");\n      lines.push(\"::-webkit-scrollbar-corner {\");\n      lines.push(\"    background-color: \".concat(colorCorner, \";\"));\n      lines.push(\"}\");\n      if (isFirefox) {\n          lines.push(\"* {\");\n          lines.push(\n              \"    scrollbar-color: \"\n                  .concat(colorThumb, \" \")\n                  .concat(colorTrack, \";\")\n          );\n          lines.push(\"}\");\n      }\n      return lines.join(\"\\n\");\n  }\n  function getModifiedFallbackStyle(filter, _a) {\n      var strict = _a.strict;\n      var factory = defaultFallbackFactory;\n      return factory(filter, {strict: strict});\n  }\n  function defaultFallbackFactory(filter, _a) {\n      var strict = _a.strict;\n      var lines = [];\n      var isMicrosoft = [\"microsoft.com\", \"docs.microsoft.com\"].includes(\n          location.hostname\n      );\n      lines.push(\n          \"html, body, \".concat(\n              strict\n                  ? \"body :not(iframe)\".concat(\n                        isMicrosoft\n                            ? ':not(div[style^=\"position:absolute;top:0;left:-\"]'\n                            : \"\"\n                    )\n                  : \"body > :not(iframe)\",\n              \" {\"\n          )\n      );\n      lines.push(\n          \"    background-color: \".concat(\n              modifyBackgroundColor({r: 255, g: 255, b: 255}, filter),\n              \" !important;\"\n          )\n      );\n      lines.push(\n          \"    border-color: \".concat(\n              modifyBorderColor({r: 64, g: 64, b: 64}, filter),\n              \" !important;\"\n          )\n      );\n      lines.push(\n          \"    color: \".concat(\n              modifyForegroundColor({r: 0, g: 0, b: 0}, filter),\n              \" !important;\"\n          )\n      );\n      lines.push(\"}\");\n      return lines.join(\"\\n\");\n  }\n  var unparsableColors = new Set([\n      \"inherit\",\n      \"transparent\",\n      \"initial\",\n      \"currentcolor\",\n      \"none\",\n      \"unset\"\n  ]);\n  function getColorModifier(prop, value, rule) {\n      if (unparsableColors.has(value.toLowerCase())) {\n          return value;\n      }\n      var rgb = parseColorWithCache(value);\n      if (!rgb) {\n          return null;\n      }\n      if (prop.includes(\"background\")) {\n          if (\n              (rule.style.webkitMaskImage &&\n                  rule.style.webkitMaskImage !== \"none\") ||\n              (rule.style.webkitMask &&\n                  !rule.style.webkitMask.startsWith(\"none\")) ||\n              (rule.style.mask && rule.style.mask !== \"none\") ||\n              (rule.style.getPropertyValue(\"mask-image\") &&\n                  rule.style.getPropertyValue(\"mask-image\") !== \"none\")\n          ) {\n              return function (filter) {\n                  return modifyForegroundColor(rgb, filter);\n              };\n          }\n          return function (filter) {\n              return modifyBackgroundColor(rgb, filter);\n          };\n      }\n      if (prop.includes(\"border\") || prop.includes(\"outline\")) {\n          return function (filter) {\n              return modifyBorderColor(rgb, filter);\n          };\n      }\n      return function (filter) {\n          return modifyForegroundColor(rgb, filter);\n      };\n  }\n  var imageDetailsCache = new Map();\n  var awaitingForImageLoading = new Map();\n  function shouldIgnoreImage(selectorText, selectors) {\n      if (!selectorText || selectors.length === 0) {\n          return false;\n      }\n      if (\n          selectors.some(function (s) {\n              return s === \"*\";\n          })\n      ) {\n          return true;\n      }\n      var ruleSelectors = selectorText.split(/,\\s*/g);\n      var _loop_1 = function (i) {\n          var ignoredSelector = selectors[i];\n          if (\n              ruleSelectors.some(function (s) {\n                  return s === ignoredSelector;\n              })\n          ) {\n              return {value: true};\n          }\n      };\n      for (var i = 0; i < selectors.length; i++) {\n          var state_1 = _loop_1(i);\n          if (typeof state_1 === \"object\") return state_1.value;\n      }\n      return false;\n  }\n  function getBgImageModifier(\n      value,\n      rule,\n      ignoreImageSelectors,\n      isCancelled\n  ) {\n      var _this = this;\n      try {\n          var gradients = parseGradient(value);\n          var urls = getMatches(cssURLRegex, value);\n          if (urls.length === 0 && gradients.length === 0) {\n              return value;\n          }\n          var getIndices = function (matches) {\n              var index = 0;\n              return matches.map(function (match) {\n                  var valueIndex = value.indexOf(match, index);\n                  index = valueIndex + match.length;\n                  return {match: match, index: valueIndex};\n              });\n          };\n          var matches_1 = gradients\n              .map(function (i) {\n                  return __assign({type: \"gradient\"}, i);\n              })\n              .concat(\n                  getIndices(urls).map(function (i) {\n                      return __assign({type: \"url\", offset: 0}, i);\n                  })\n              )\n              .sort(function (a, b) {\n                  return a.index > b.index ? 1 : -1;\n              });\n          var getGradientModifier_1 = function (gradient) {\n              var typeGradient = gradient.typeGradient,\n                  match = gradient.match,\n                  hasComma = gradient.hasComma;\n              var partsRegex =\n                  /([^\\(\\),]+(\\([^\\(\\)]*(\\([^\\(\\)]*\\)*[^\\(\\)]*)?\\))?([^\\(\\), ]|( (?!calc)))*),?/g;\n              var colorStopRegex =\n                  /^(from|color-stop|to)\\(([^\\(\\)]*?,\\s*)?(.*?)\\)$/;\n              var parts = getMatches(partsRegex, match, 1).map(\n                  function (part) {\n                      part = part.trim();\n                      var rgb = parseColorWithCache(part);\n                      if (rgb) {\n                          return function (filter) {\n                              return modifyGradientColor(rgb, filter);\n                          };\n                      }\n                      var space = part.lastIndexOf(\" \");\n                      rgb = parseColorWithCache(part.substring(0, space));\n                      if (rgb) {\n                          return function (filter) {\n                              return \"\"\n                                  .concat(\n                                      modifyGradientColor(rgb, filter),\n                                      \" \"\n                                  )\n                                  .concat(part.substring(space + 1));\n                          };\n                      }\n                      var colorStopMatch = part.match(colorStopRegex);\n                      if (colorStopMatch) {\n                          rgb = parseColorWithCache(colorStopMatch[3]);\n                          if (rgb) {\n                              return function (filter) {\n                                  return \"\"\n                                      .concat(colorStopMatch[1], \"(\")\n                                      .concat(\n                                          colorStopMatch[2]\n                                              ? \"\".concat(\n                                                    colorStopMatch[2],\n                                                    \", \"\n                                                )\n                                              : \"\"\n                                      )\n                                      .concat(\n                                          modifyGradientColor(rgb, filter),\n                                          \")\"\n                                      );\n                              };\n                          }\n                      }\n                      return function () {\n                          return part;\n                      };\n                  }\n              );\n              return function (filter) {\n                  return \"\"\n                      .concat(typeGradient, \"(\")\n                      .concat(\n                          parts\n                              .map(function (modify) {\n                                  return modify(filter);\n                              })\n                              .join(\", \"),\n                          \")\"\n                      )\n                      .concat(hasComma ? \", \" : \"\");\n              };\n          };\n          var getURLModifier_1 = function (urlValue) {\n              var _a;\n              if (\n                  shouldIgnoreImage(rule.selectorText, ignoreImageSelectors)\n              ) {\n                  return null;\n              }\n              var url = getCSSURLValue(urlValue);\n              var isURLEmpty = url.length === 0;\n              var parentStyleSheet = rule.parentStyleSheet;\n              var baseURL =\n                  parentStyleSheet && parentStyleSheet.href\n                      ? getCSSBaseBath(parentStyleSheet.href)\n                      : ((_a = parentStyleSheet.ownerNode) === null ||\n                        _a === void 0\n                            ? void 0\n                            : _a.baseURI) || location.origin;\n              url = getAbsoluteURL(baseURL, url);\n              var absoluteValue = 'url(\"'.concat(url, '\")');\n              return function (filter) {\n                  return __awaiter(_this, void 0, void 0, function () {\n                      var imageDetails, awaiters_1, err_1, bgImageValue;\n                      return __generator(this, function (_a) {\n                          switch (_a.label) {\n                              case 0:\n                                  if (isURLEmpty) {\n                                      return [2, \"url('')\"];\n                                  }\n                                  if (!imageDetailsCache.has(url))\n                                      return [3, 1];\n                                  imageDetails = imageDetailsCache.get(url);\n                                  return [3, 7];\n                              case 1:\n                                  _a.trys.push([1, 6, , 7]);\n                                  if (!awaitingForImageLoading.has(url))\n                                      return [3, 3];\n                                  awaiters_1 =\n                                      awaitingForImageLoading.get(url);\n                                  return [\n                                      4,\n                                      new Promise(function (resolve) {\n                                          return awaiters_1.push(resolve);\n                                      })\n                                  ];\n                              case 2:\n                                  imageDetails = _a.sent();\n                                  if (!imageDetails) {\n                                      return [2, null];\n                                  }\n                                  return [3, 5];\n                              case 3:\n                                  awaitingForImageLoading.set(url, []);\n                                  return [4, getImageDetails(url)];\n                              case 4:\n                                  imageDetails = _a.sent();\n                                  imageDetailsCache.set(url, imageDetails);\n                                  awaitingForImageLoading\n                                      .get(url)\n                                      .forEach(function (resolve) {\n                                          return resolve(imageDetails);\n                                      });\n                                  awaitingForImageLoading.delete(url);\n                                  _a.label = 5;\n                              case 5:\n                                  if (isCancelled()) {\n                                      return [2, null];\n                                  }\n                                  return [3, 7];\n                              case 6:\n                                  err_1 = _a.sent();\n                                  logWarn(err_1);\n                                  if (awaitingForImageLoading.has(url)) {\n                                      awaitingForImageLoading\n                                          .get(url)\n                                          .forEach(function (resolve) {\n                                              return resolve(null);\n                                          });\n                                      awaitingForImageLoading.delete(url);\n                                  }\n                                  return [2, absoluteValue];\n                              case 7:\n                                  bgImageValue =\n                                      getBgImageValue_1(\n                                          imageDetails,\n                                          filter\n                                      ) || absoluteValue;\n                                  return [2, bgImageValue];\n                          }\n                      });\n                  });\n              };\n          };\n          var getBgImageValue_1 = function (imageDetails, filter) {\n              var isDark = imageDetails.isDark,\n                  isLight = imageDetails.isLight,\n                  isTransparent = imageDetails.isTransparent,\n                  isLarge = imageDetails.isLarge,\n                  width = imageDetails.width;\n              var result;\n              if (isLarge) {\n                  logInfo(\n                      \"Not modifying too large image \".concat(\n                          imageDetails.src\n                      )\n                  );\n                  result = 'url(\"'.concat(imageDetails.src, '\")');\n              } else if (\n                  isDark &&\n                  isTransparent &&\n                  filter.mode === 1 &&\n                  width > 2\n              ) {\n                  logInfo(\"Inverting dark image \".concat(imageDetails.src));\n                  var inverted = getFilteredImageDataURL(\n                      imageDetails,\n                      __assign(__assign({}, filter), {\n                          sepia: clamp(filter.sepia + 10, 0, 100)\n                      })\n                  );\n                  result = 'url(\"'.concat(inverted, '\")');\n              } else if (isLight && !isTransparent && filter.mode === 1) {\n                  logInfo(\"Dimming light image \".concat(imageDetails.src));\n                  var dimmed = getFilteredImageDataURL(imageDetails, filter);\n                  result = 'url(\"'.concat(dimmed, '\")');\n              } else if (filter.mode === 0 && isLight) {\n                  logInfo(\n                      \"Applying filter to image \".concat(imageDetails.src)\n                  );\n                  var filtered = getFilteredImageDataURL(\n                      imageDetails,\n                      __assign(__assign({}, filter), {\n                          brightness: clamp(filter.brightness - 10, 5, 200),\n                          sepia: clamp(filter.sepia + 10, 0, 100)\n                      })\n                  );\n                  result = 'url(\"'.concat(filtered, '\")');\n              } else {\n                  logInfo(\n                      \"Not modifying too large image \".concat(\n                          imageDetails.src\n                      )\n                  );\n                  result = null;\n              }\n              return result;\n          };\n          var modifiers_1 = [];\n          var matchIndex_1 = 0;\n          var prevHasComma_1 = false;\n          matches_1.forEach(function (_a, i) {\n              var type = _a.type,\n                  match = _a.match,\n                  index = _a.index,\n                  typeGradient = _a.typeGradient,\n                  hasComma = _a.hasComma,\n                  offset = _a.offset;\n              var matchStart = index;\n              var prefixStart = matchIndex_1;\n              var matchEnd = matchStart + match.length + offset;\n              matchIndex_1 = matchEnd;\n              if (prefixStart !== matchStart) {\n                  if (prevHasComma_1) {\n                      modifiers_1.push(function () {\n                          var betweenValue = value.substring(\n                              prefixStart,\n                              matchStart\n                          );\n                          if (betweenValue[0] === \",\") {\n                              betweenValue = betweenValue.substring(1);\n                          }\n                          return betweenValue;\n                      });\n                  } else {\n                      modifiers_1.push(function () {\n                          return value.substring(prefixStart, matchStart);\n                      });\n                  }\n              }\n              prevHasComma_1 = hasComma || false;\n              if (type === \"url\") {\n                  modifiers_1.push(getURLModifier_1(match));\n              } else if (type === \"gradient\") {\n                  modifiers_1.push(\n                      getGradientModifier_1({\n                          match: match,\n                          index: index,\n                          typeGradient: typeGradient,\n                          hasComma: hasComma || false,\n                          offset: offset\n                      })\n                  );\n              }\n              if (i === matches_1.length - 1) {\n                  modifiers_1.push(function () {\n                      return value.substring(matchEnd);\n                  });\n              }\n          });\n          return function (filter) {\n              var results = modifiers_1\n                  .filter(Boolean)\n                  .map(function (modify) {\n                      return modify(filter);\n                  });\n              if (\n                  results.some(function (r) {\n                      return r instanceof Promise;\n                  })\n              ) {\n                  return Promise.all(results).then(function (asyncResults) {\n                      return asyncResults.filter(Boolean).join(\"\");\n                  });\n              }\n              var combinedResult = results.join(\"\");\n              if (combinedResult.endsWith(\", initial\")) {\n                  return combinedResult.slice(0, -9);\n              }\n              return combinedResult;\n          };\n      } catch (err) {\n          return null;\n      }\n  }\n  function getShadowModifierWithInfo(value) {\n      try {\n          var index_1 = 0;\n          var colorMatches_1 = getMatches(\n              /(^|\\s)(?!calc)([a-z]+\\(.+?\\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,\n              value,\n              2\n          );\n          var notParsed_1 = 0;\n          var modifiers_2 = colorMatches_1.map(function (match, i) {\n              var prefixIndex = index_1;\n              var matchIndex = value.indexOf(match, index_1);\n              var matchEnd = matchIndex + match.length;\n              index_1 = matchEnd;\n              var rgb = parseColorWithCache(match);\n              if (!rgb) {\n                  notParsed_1++;\n                  return function () {\n                      return value.substring(prefixIndex, matchEnd);\n                  };\n              }\n              return function (filter) {\n                  return \"\"\n                      .concat(value.substring(prefixIndex, matchIndex))\n                      .concat(modifyShadowColor(rgb, filter))\n                      .concat(\n                          i === colorMatches_1.length - 1\n                              ? value.substring(matchEnd)\n                              : \"\"\n                      );\n              };\n          });\n          return function (filter) {\n              var modified = modifiers_2\n                  .map(function (modify) {\n                      return modify(filter);\n                  })\n                  .join(\"\");\n              return {\n                  matchesLength: colorMatches_1.length,\n                  unparseableMatchesLength: notParsed_1,\n                  result: modified\n              };\n          };\n      } catch (err) {\n          return null;\n      }\n  }\n  function getShadowModifier(value) {\n      var shadowModifier = getShadowModifierWithInfo(value);\n      if (!shadowModifier) {\n          return null;\n      }\n      return function (theme) {\n          return shadowModifier(theme).result;\n      };\n  }\n  function getVariableModifier(\n      variablesStore,\n      prop,\n      value,\n      rule,\n      ignoredImgSelectors,\n      isCancelled\n  ) {\n      return variablesStore.getModifierForVariable({\n          varName: prop,\n          sourceValue: value,\n          rule: rule,\n          ignoredImgSelectors: ignoredImgSelectors,\n          isCancelled: isCancelled\n      });\n  }\n  function getVariableDependantModifier(variablesStore, prop, value) {\n      return variablesStore.getModifierForVarDependant(prop, value);\n  }\n  function cleanModificationCache() {\n      clearColorModificationCache();\n      imageDetailsCache.clear();\n      cleanImageProcessingCache();\n      awaitingForImageLoading.clear();\n  }\n\n  var VAR_TYPE_BGCOLOR = 1 << 0;\n  var VAR_TYPE_TEXTCOLOR = 1 << 1;\n  var VAR_TYPE_BORDERCOLOR = 1 << 2;\n  var VAR_TYPE_BGIMG = 1 << 3;\n  var VariablesStore = (function () {\n      function VariablesStore() {\n          this.varTypes = new Map();\n          this.rulesQueue = [];\n          this.definedVars = new Set();\n          this.varRefs = new Map();\n          this.unknownColorVars = new Set();\n          this.unknownBgVars = new Set();\n          this.undefinedVars = new Set();\n          this.initialVarTypes = new Map();\n          this.changedTypeVars = new Set();\n          this.typeChangeSubscriptions = new Map();\n          this.unstableVarValues = new Map();\n      }\n      VariablesStore.prototype.clear = function () {\n          this.varTypes.clear();\n          this.rulesQueue.splice(0);\n          this.definedVars.clear();\n          this.varRefs.clear();\n          this.unknownColorVars.clear();\n          this.unknownBgVars.clear();\n          this.undefinedVars.clear();\n          this.initialVarTypes.clear();\n          this.changedTypeVars.clear();\n          this.typeChangeSubscriptions.clear();\n          this.unstableVarValues.clear();\n      };\n      VariablesStore.prototype.isVarType = function (varName, typeNum) {\n          return (\n              this.varTypes.has(varName) &&\n              (this.varTypes.get(varName) & typeNum) > 0\n          );\n      };\n      VariablesStore.prototype.addRulesForMatching = function (rules) {\n          this.rulesQueue.push(rules);\n      };\n      VariablesStore.prototype.matchVariablesAndDependents = function () {\n          var _this = this;\n          this.changedTypeVars.clear();\n          this.initialVarTypes = new Map(this.varTypes);\n          this.collectRootVariables();\n          this.collectVariablesAndVarDep(this.rulesQueue);\n          this.rulesQueue.splice(0);\n          this.collectRootVarDependents();\n          this.varRefs.forEach(function (refs, v) {\n              refs.forEach(function (r) {\n                  if (_this.varTypes.has(v)) {\n                      _this.resolveVariableType(r, _this.varTypes.get(v));\n                  }\n              });\n          });\n          this.unknownColorVars.forEach(function (v) {\n              if (_this.unknownBgVars.has(v)) {\n                  _this.unknownColorVars.delete(v);\n                  _this.unknownBgVars.delete(v);\n                  _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);\n              } else if (\n                  _this.isVarType(\n                      v,\n                      VAR_TYPE_BGCOLOR |\n                          VAR_TYPE_TEXTCOLOR |\n                          VAR_TYPE_BORDERCOLOR\n                  )\n              ) {\n                  _this.unknownColorVars.delete(v);\n              } else {\n                  _this.undefinedVars.add(v);\n              }\n          });\n          this.unknownBgVars.forEach(function (v) {\n              var hasColor =\n                  _this.findVarRef(v, function (ref) {\n                      return (\n                          _this.unknownColorVars.has(ref) ||\n                          _this.isVarType(\n                              ref,\n                              VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR\n                          )\n                      );\n                  }) != null;\n              if (hasColor) {\n                  _this.iterateVarRefs(v, function (ref) {\n                      _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n                  });\n              } else if (\n                  _this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)\n              ) {\n                  _this.unknownBgVars.delete(v);\n              } else {\n                  _this.undefinedVars.add(v);\n              }\n          });\n          this.changedTypeVars.forEach(function (varName) {\n              if (_this.typeChangeSubscriptions.has(varName)) {\n                  _this.typeChangeSubscriptions\n                      .get(varName)\n                      .forEach(function (callback) {\n                          callback();\n                      });\n              }\n          });\n          this.changedTypeVars.clear();\n      };\n      VariablesStore.prototype.getModifierForVariable = function (options) {\n          var _this = this;\n          return function (theme) {\n              var varName = options.varName,\n                  sourceValue = options.sourceValue,\n                  rule = options.rule,\n                  ignoredImgSelectors = options.ignoredImgSelectors,\n                  isCancelled = options.isCancelled;\n              var getDeclarations = function () {\n                  var declarations = [];\n                  var addModifiedValue = function (\n                      typeNum,\n                      varNameWrapper,\n                      colorModifier\n                  ) {\n                      if (!_this.isVarType(varName, typeNum)) {\n                          return;\n                      }\n                      var property = varNameWrapper(varName);\n                      var modifiedValue;\n                      if (isVarDependant(sourceValue)) {\n                          if (isConstructedColorVar(sourceValue)) {\n                              var value = insertVarValues(\n                                  sourceValue,\n                                  _this.unstableVarValues\n                              );\n                              if (!value) {\n                                  value =\n                                      typeNum === VAR_TYPE_BGCOLOR\n                                          ? \"#ffffff\"\n                                          : \"#000000\";\n                              }\n                              modifiedValue = colorModifier(value, theme);\n                          } else {\n                              modifiedValue = replaceCSSVariablesNames(\n                                  sourceValue,\n                                  function (v) {\n                                      return varNameWrapper(v);\n                                  },\n                                  function (fallback) {\n                                      return colorModifier(fallback, theme);\n                                  }\n                              );\n                          }\n                      } else {\n                          modifiedValue = colorModifier(sourceValue, theme);\n                      }\n                      declarations.push({\n                          property: property,\n                          value: modifiedValue\n                      });\n                  };\n                  addModifiedValue(\n                      VAR_TYPE_BGCOLOR,\n                      wrapBgColorVariableName,\n                      tryModifyBgColor\n                  );\n                  addModifiedValue(\n                      VAR_TYPE_TEXTCOLOR,\n                      wrapTextColorVariableName,\n                      tryModifyTextColor\n                  );\n                  addModifiedValue(\n                      VAR_TYPE_BORDERCOLOR,\n                      wrapBorderColorVariableName,\n                      tryModifyBorderColor\n                  );\n                  if (_this.isVarType(varName, VAR_TYPE_BGIMG)) {\n                      var property = wrapBgImgVariableName(varName);\n                      var modifiedValue = sourceValue;\n                      if (isVarDependant(sourceValue)) {\n                          modifiedValue = replaceCSSVariablesNames(\n                              sourceValue,\n                              function (v) {\n                                  return wrapBgColorVariableName(v);\n                              },\n                              function (fallback) {\n                                  return tryModifyBgColor(fallback, theme);\n                              }\n                          );\n                      }\n                      var bgModifier = getBgImageModifier(\n                          modifiedValue,\n                          rule,\n                          ignoredImgSelectors,\n                          isCancelled\n                      );\n                      modifiedValue =\n                          typeof bgModifier === \"function\"\n                              ? bgModifier(theme)\n                              : bgModifier;\n                      declarations.push({\n                          property: property,\n                          value: modifiedValue\n                      });\n                  }\n                  return declarations;\n              };\n              var callbacks = new Set();\n              var addListener = function (onTypeChange) {\n                  var callback = function () {\n                      var decs = getDeclarations();\n                      onTypeChange(decs);\n                  };\n                  callbacks.add(callback);\n                  _this.subscribeForVarTypeChange(varName, callback);\n              };\n              var removeListeners = function () {\n                  callbacks.forEach(function (callback) {\n                      _this.unsubscribeFromVariableTypeChanges(\n                          varName,\n                          callback\n                      );\n                  });\n              };\n              return {\n                  declarations: getDeclarations(),\n                  onTypeChange: {\n                      addListener: addListener,\n                      removeListeners: removeListeners\n                  }\n              };\n          };\n      };\n      VariablesStore.prototype.getModifierForVarDependant = function (\n          property,\n          sourceValue\n      ) {\n          var _this = this;\n          if (sourceValue.match(/^\\s*(rgb|hsl)a?\\(/)) {\n              var isBg_1 = property.startsWith(\"background\");\n              var isText_1 = isTextColorProperty(property);\n              return function (theme) {\n                  var value = insertVarValues(\n                      sourceValue,\n                      _this.unstableVarValues\n                  );\n                  if (!value) {\n                      value = isBg_1 ? \"#ffffff\" : \"#000000\";\n                  }\n                  var modifier = isBg_1\n                      ? tryModifyBgColor\n                      : isText_1\n                        ? tryModifyTextColor\n                        : tryModifyBorderColor;\n                  return modifier(value, theme);\n              };\n          }\n          if (property === \"background-color\") {\n              return function (theme) {\n                  return replaceCSSVariablesNames(\n                      sourceValue,\n                      function (v) {\n                          return wrapBgColorVariableName(v);\n                      },\n                      function (fallback) {\n                          return tryModifyBgColor(fallback, theme);\n                      }\n                  );\n              };\n          }\n          if (isTextColorProperty(property)) {\n              return function (theme) {\n                  return replaceCSSVariablesNames(\n                      sourceValue,\n                      function (v) {\n                          return wrapTextColorVariableName(v);\n                      },\n                      function (fallback) {\n                          return tryModifyTextColor(fallback, theme);\n                      }\n                  );\n              };\n          }\n          if (\n              property === \"background\" ||\n              property === \"background-image\" ||\n              property === \"box-shadow\"\n          ) {\n              return function (theme) {\n                  var unknownVars = new Set();\n                  var modify = function () {\n                      var variableReplaced = replaceCSSVariablesNames(\n                          sourceValue,\n                          function (v) {\n                              if (_this.isVarType(v, VAR_TYPE_BGCOLOR)) {\n                                  return wrapBgColorVariableName(v);\n                              }\n                              if (_this.isVarType(v, VAR_TYPE_BGIMG)) {\n                                  return wrapBgImgVariableName(v);\n                              }\n                              unknownVars.add(v);\n                              return v;\n                          },\n                          function (fallback) {\n                              return tryModifyBgColor(fallback, theme);\n                          }\n                      );\n                      if (property === \"box-shadow\") {\n                          var shadowModifier =\n                              getShadowModifierWithInfo(variableReplaced);\n                          var modifiedShadow = shadowModifier(theme);\n                          if (\n                              modifiedShadow.unparseableMatchesLength !==\n                              modifiedShadow.matchesLength\n                          ) {\n                              return modifiedShadow.result;\n                          }\n                      }\n                      return variableReplaced;\n                  };\n                  var modified = modify();\n                  if (unknownVars.size > 0) {\n                      return new Promise(function (resolve) {\n                          var firstUnknownVar = unknownVars\n                              .values()\n                              .next().value;\n                          var callback = function () {\n                              _this.unsubscribeFromVariableTypeChanges(\n                                  firstUnknownVar,\n                                  callback\n                              );\n                              var newValue = modify();\n                              resolve(newValue);\n                          };\n                          _this.subscribeForVarTypeChange(\n                              firstUnknownVar,\n                              callback\n                          );\n                      });\n                  }\n                  return modified;\n              };\n          }\n          if (\n              property.startsWith(\"border\") ||\n              property.startsWith(\"outline\")\n          ) {\n              return function (theme) {\n                  return replaceCSSVariablesNames(\n                      sourceValue,\n                      function (v) {\n                          return wrapBorderColorVariableName(v);\n                      },\n                      function (fallback) {\n                          return tryModifyBorderColor(fallback, theme);\n                      }\n                  );\n              };\n          }\n          return null;\n      };\n      VariablesStore.prototype.subscribeForVarTypeChange = function (\n          varName,\n          callback\n      ) {\n          if (!this.typeChangeSubscriptions.has(varName)) {\n              this.typeChangeSubscriptions.set(varName, new Set());\n          }\n          var rootStore = this.typeChangeSubscriptions.get(varName);\n          if (!rootStore.has(callback)) {\n              rootStore.add(callback);\n          }\n      };\n      VariablesStore.prototype.unsubscribeFromVariableTypeChanges = function (\n          varName,\n          callback\n      ) {\n          if (this.typeChangeSubscriptions.has(varName)) {\n              this.typeChangeSubscriptions.get(varName).delete(callback);\n          }\n      };\n      VariablesStore.prototype.collectVariablesAndVarDep = function (\n          ruleList\n      ) {\n          var _this = this;\n          ruleList.forEach(function (rules) {\n              iterateCSSRules(rules, function (rule) {\n                  rule.style &&\n                      iterateCSSDeclarations(\n                          rule.style,\n                          function (property, value) {\n                              if (isVariable(property)) {\n                                  _this.inspectVariable(property, value);\n                              }\n                              if (isVarDependant(value)) {\n                                  _this.inspectVarDependant(property, value);\n                              }\n                          }\n                      );\n              });\n          });\n      };\n      VariablesStore.prototype.collectRootVariables = function () {\n          var _this = this;\n          iterateCSSDeclarations(\n              document.documentElement.style,\n              function (property, value) {\n                  if (isVariable(property)) {\n                      _this.inspectVariable(property, value);\n                  }\n              }\n          );\n      };\n      VariablesStore.prototype.inspectVariable = function (varName, value) {\n          this.unstableVarValues.set(varName, value);\n          if (isVarDependant(value) && isConstructedColorVar(value)) {\n              this.unknownColorVars.add(varName);\n              this.definedVars.add(varName);\n          }\n          if (this.definedVars.has(varName)) {\n              return;\n          }\n          this.definedVars.add(varName);\n          var isColor =\n              rawValueRegex.test(value) || parseColorWithCache(value);\n          if (isColor) {\n              this.unknownColorVars.add(varName);\n          } else if (\n              value.includes(\"url(\") ||\n              value.includes(\"linear-gradient(\") ||\n              value.includes(\"radial-gradient(\")\n          ) {\n              this.resolveVariableType(varName, VAR_TYPE_BGIMG);\n          }\n      };\n      VariablesStore.prototype.resolveVariableType = function (\n          varName,\n          typeNum\n      ) {\n          var initialType = this.initialVarTypes.get(varName) || 0;\n          var currentType = this.varTypes.get(varName) || 0;\n          var newType = currentType | typeNum;\n          this.varTypes.set(varName, newType);\n          if (newType !== initialType || this.undefinedVars.has(varName)) {\n              this.changedTypeVars.add(varName);\n              this.undefinedVars.delete(varName);\n          }\n          this.unknownColorVars.delete(varName);\n          this.unknownBgVars.delete(varName);\n      };\n      VariablesStore.prototype.collectRootVarDependents = function () {\n          var _this = this;\n          iterateCSSDeclarations(\n              document.documentElement.style,\n              function (property, value) {\n                  if (isVarDependant(value)) {\n                      _this.inspectVarDependant(property, value);\n                  }\n              }\n          );\n      };\n      VariablesStore.prototype.inspectVarDependant = function (\n          property,\n          value\n      ) {\n          var _this = this;\n          if (isVariable(property)) {\n              this.iterateVarDeps(value, function (ref) {\n                  if (!_this.varRefs.has(property)) {\n                      _this.varRefs.set(property, new Set());\n                  }\n                  _this.varRefs.get(property).add(ref);\n              });\n          } else if (\n              property === \"background-color\" ||\n              property === \"box-shadow\"\n          ) {\n              this.iterateVarDeps(value, function (v) {\n                  return _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);\n              });\n          } else if (isTextColorProperty(property)) {\n              this.iterateVarDeps(value, function (v) {\n                  return _this.resolveVariableType(v, VAR_TYPE_TEXTCOLOR);\n              });\n          } else if (\n              property.startsWith(\"border\") ||\n              property.startsWith(\"outline\")\n          ) {\n              this.iterateVarDeps(value, function (v) {\n                  return _this.resolveVariableType(v, VAR_TYPE_BORDERCOLOR);\n              });\n          } else if (\n              property === \"background\" ||\n              property === \"background-image\"\n          ) {\n              this.iterateVarDeps(value, function (v) {\n                  if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {\n                      return;\n                  }\n                  var isBgColor =\n                      _this.findVarRef(v, function (ref) {\n                          return (\n                              _this.unknownColorVars.has(ref) ||\n                              _this.isVarType(\n                                  ref,\n                                  VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR\n                              )\n                          );\n                      }) != null;\n                  _this.iterateVarRefs(v, function (ref) {\n                      if (isBgColor) {\n                          _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n                      } else {\n                          _this.unknownBgVars.add(ref);\n                      }\n                  });\n              });\n          }\n      };\n      VariablesStore.prototype.iterateVarDeps = function (value, iterator) {\n          var varDeps = new Set();\n          iterateVarDependencies(value, function (v) {\n              return varDeps.add(v);\n          });\n          varDeps.forEach(function (v) {\n              return iterator(v);\n          });\n      };\n      VariablesStore.prototype.findVarRef = function (\n          varName,\n          iterator,\n          stack\n      ) {\n          var e_1, _a;\n          if (stack === void 0) {\n              stack = new Set();\n          }\n          if (stack.has(varName)) {\n              return null;\n          }\n          stack.add(varName);\n          var result = iterator(varName);\n          if (result) {\n              return varName;\n          }\n          var refs = this.varRefs.get(varName);\n          if (!refs || refs.size === 0) {\n              return null;\n          }\n          try {\n              for (\n                  var refs_1 = __values(refs), refs_1_1 = refs_1.next();\n                  !refs_1_1.done;\n                  refs_1_1 = refs_1.next()\n              ) {\n                  var ref = refs_1_1.value;\n                  var found = this.findVarRef(ref, iterator, stack);\n                  if (found) {\n                      return found;\n                  }\n              }\n          } catch (e_1_1) {\n              e_1 = {error: e_1_1};\n          } finally {\n              try {\n                  if (refs_1_1 && !refs_1_1.done && (_a = refs_1.return))\n                      _a.call(refs_1);\n              } finally {\n                  if (e_1) throw e_1.error;\n              }\n          }\n          return null;\n      };\n      VariablesStore.prototype.iterateVarRefs = function (varName, iterator) {\n          this.findVarRef(varName, function (ref) {\n              iterator(ref);\n              return false;\n          });\n      };\n      VariablesStore.prototype.setOnRootVariableChange = function (callback) {\n          this.onRootVariableDefined = callback;\n      };\n      VariablesStore.prototype.putRootVars = function (styleElement, theme) {\n          var e_2, _a;\n          var _this = this;\n          var sheet = styleElement.sheet;\n          if (sheet.cssRules.length > 0) {\n              sheet.deleteRule(0);\n          }\n          var declarations = new Map();\n          iterateCSSDeclarations(\n              document.documentElement.style,\n              function (property, value) {\n                  if (isVariable(property)) {\n                      if (_this.isVarType(property, VAR_TYPE_BGCOLOR)) {\n                          declarations.set(\n                              wrapBgColorVariableName(property),\n                              tryModifyBgColor(value, theme)\n                          );\n                      }\n                      if (_this.isVarType(property, VAR_TYPE_TEXTCOLOR)) {\n                          declarations.set(\n                              wrapTextColorVariableName(property),\n                              tryModifyTextColor(value, theme)\n                          );\n                      }\n                      if (_this.isVarType(property, VAR_TYPE_BORDERCOLOR)) {\n                          declarations.set(\n                              wrapBorderColorVariableName(property),\n                              tryModifyBorderColor(value, theme)\n                          );\n                      }\n                      _this.subscribeForVarTypeChange(\n                          property,\n                          _this.onRootVariableDefined\n                      );\n                  }\n              }\n          );\n          var cssLines = [];\n          cssLines.push(\":root {\");\n          try {\n              for (\n                  var declarations_1 = __values(declarations),\n                      declarations_1_1 = declarations_1.next();\n                  !declarations_1_1.done;\n                  declarations_1_1 = declarations_1.next()\n              ) {\n                  var _b = __read(declarations_1_1.value, 2),\n                      property = _b[0],\n                      value = _b[1];\n                  cssLines.push(\n                      \"    \".concat(property, \": \").concat(value, \";\")\n                  );\n              }\n          } catch (e_2_1) {\n              e_2 = {error: e_2_1};\n          } finally {\n              try {\n                  if (\n                      declarations_1_1 &&\n                      !declarations_1_1.done &&\n                      (_a = declarations_1.return)\n                  )\n                      _a.call(declarations_1);\n              } finally {\n                  if (e_2) throw e_2.error;\n              }\n          }\n          cssLines.push(\"}\");\n          var cssText = cssLines.join(\"\\n\");\n          sheet.insertRule(cssText);\n      };\n      return VariablesStore;\n  })();\n  var variablesStore = new VariablesStore();\n  function getVariableRange(input, searchStart) {\n      if (searchStart === void 0) {\n          searchStart = 0;\n      }\n      var start = input.indexOf(\"var(\", searchStart);\n      if (start >= 0) {\n          var range = getParenthesesRange(input, start + 3);\n          if (range) {\n              return {start: start, end: range.end};\n          }\n      }\n      return null;\n  }\n  function getVariablesMatches(input) {\n      var ranges = [];\n      var i = 0;\n      var range;\n      while ((range = getVariableRange(input, i))) {\n          var start = range.start,\n              end = range.end;\n          ranges.push({\n              start: start,\n              end: end,\n              value: input.substring(start, end)\n          });\n          i = range.end + 1;\n      }\n      return ranges;\n  }\n  function replaceVariablesMatches(input, replacer) {\n      var matches = getVariablesMatches(input);\n      var matchesCount = matches.length;\n      if (matchesCount === 0) {\n          return input;\n      }\n      var inputLength = input.length;\n      var replacements = matches.map(function (m) {\n          return replacer(m.value);\n      });\n      var parts = [];\n      parts.push(input.substring(0, matches[0].start));\n      for (var i = 0; i < matchesCount; i++) {\n          parts.push(replacements[i]);\n          var start = matches[i].end;\n          var end = i < matchesCount - 1 ? matches[i + 1].start : inputLength;\n          parts.push(input.substring(start, end));\n      }\n      return parts.join(\"\");\n  }\n  function getVariableNameAndFallback(match) {\n      var commaIndex = match.indexOf(\",\");\n      var name;\n      var fallback;\n      if (commaIndex >= 0) {\n          name = match.substring(4, commaIndex).trim();\n          fallback = match.substring(commaIndex + 1, match.length - 1).trim();\n      } else {\n          name = match.substring(4, match.length - 1).trim();\n          fallback = \"\";\n      }\n      return {name: name, fallback: fallback};\n  }\n  function replaceCSSVariablesNames(value, nameReplacer, fallbackReplacer) {\n      var matchReplacer = function (match) {\n          var _a = getVariableNameAndFallback(match),\n              name = _a.name,\n              fallback = _a.fallback;\n          var newName = nameReplacer(name);\n          if (!fallback) {\n              return \"var(\".concat(newName, \")\");\n          }\n          var newFallback;\n          if (isVarDependant(fallback)) {\n              newFallback = replaceCSSVariablesNames(\n                  fallback,\n                  nameReplacer,\n                  fallbackReplacer\n              );\n          } else if (fallbackReplacer) {\n              newFallback = fallbackReplacer(fallback);\n          } else {\n              newFallback = fallback;\n          }\n          return \"var(\".concat(newName, \", \").concat(newFallback, \")\");\n      };\n      return replaceVariablesMatches(value, matchReplacer);\n  }\n  function iterateVarDependencies(value, iterator) {\n      replaceCSSVariablesNames(value, function (varName) {\n          iterator(varName);\n          return varName;\n      });\n  }\n  function wrapBgColorVariableName(name) {\n      return \"--darkmode-bg\".concat(name);\n  }\n  function wrapTextColorVariableName(name) {\n      return \"--darkmode-text\".concat(name);\n  }\n  function wrapBorderColorVariableName(name) {\n      return \"--darkmode-border\".concat(name);\n  }\n  function wrapBgImgVariableName(name) {\n      return \"--darkmode-bgimg\".concat(name);\n  }\n  function isVariable(property) {\n      return property.startsWith(\"--\");\n  }\n  function isVarDependant(value) {\n      return value.includes(\"var(\");\n  }\n  function isConstructedColorVar(value) {\n      return value.match(/^\\s*(rgb|hsl)a?\\(/);\n  }\n  function isTextColorProperty(property) {\n      return (\n          property === \"color\" ||\n          property === \"caret-color\" ||\n          property === \"-webkit-text-fill-color\"\n      );\n  }\n  var rawValueRegex = /^\\d{1,3}, ?\\d{1,3}, ?\\d{1,3}$/;\n  function parseRawValue(color) {\n      if (rawValueRegex.test(color)) {\n          var splitted = color.split(\",\");\n          var resultInRGB_1 = \"rgb(\";\n          splitted.forEach(function (number) {\n              resultInRGB_1 += \"\".concat(number.trim(), \", \");\n          });\n          resultInRGB_1 = resultInRGB_1.substring(\n              0,\n              resultInRGB_1.length - 2\n          );\n          resultInRGB_1 += \")\";\n          return {isRaw: true, color: resultInRGB_1};\n      }\n      return {isRaw: false, color: color};\n  }\n  function handleRawValue(color, theme, modifyFunction) {\n      var _a = parseRawValue(color),\n          isRaw = _a.isRaw,\n          newColor = _a.color;\n      var rgb = parseColorWithCache(newColor);\n      if (rgb) {\n          var outputColor = modifyFunction(rgb, theme);\n          if (isRaw) {\n              var outputInRGB = parseColorWithCache(outputColor);\n              return outputInRGB\n                  ? \"\"\n                        .concat(outputInRGB.r, \", \")\n                        .concat(outputInRGB.g, \", \")\n                        .concat(outputInRGB.b)\n                  : outputColor;\n          }\n          return outputColor;\n      }\n      return newColor;\n  }\n  function tryModifyBgColor(color, theme) {\n      return handleRawValue(color, theme, modifyBackgroundColor);\n  }\n  function tryModifyTextColor(color, theme) {\n      return handleRawValue(color, theme, modifyForegroundColor);\n  }\n  function tryModifyBorderColor(color, theme) {\n      return handleRawValue(color, theme, modifyBorderColor);\n  }\n  function insertVarValues(source, varValues, stack) {\n      if (stack === void 0) {\n          stack = new Set();\n      }\n      var containsUnresolvedVar = false;\n      var matchReplacer = function (match) {\n          var _a = getVariableNameAndFallback(match),\n              name = _a.name,\n              fallback = _a.fallback;\n          if (stack.has(name)) {\n              containsUnresolvedVar = true;\n              return null;\n          }\n          stack.add(name);\n          var varValue = varValues.get(name) || fallback;\n          var inserted = null;\n          if (varValue) {\n              if (isVarDependant(varValue)) {\n                  inserted = insertVarValues(varValue, varValues, stack);\n              } else {\n                  inserted = varValue;\n              }\n          }\n          if (!inserted) {\n              containsUnresolvedVar = true;\n              return null;\n          }\n          return inserted;\n      };\n      var replaced = replaceVariablesMatches(source, matchReplacer);\n      if (containsUnresolvedVar) {\n          return null;\n      }\n      return replaced;\n  }\n\n  var overrides = {\n      \"background-color\": {\n          customProp: \"--darkmode-inline-bgcolor\",\n          cssProp: \"background-color\",\n          dataAttr: \"data-darkmode-inline-bgcolor\"\n      },\n      \"background-image\": {\n          customProp: \"--darkmode-inline-bgimage\",\n          cssProp: \"background-image\",\n          dataAttr: \"data-darkmode-inline-bgimage\"\n      },\n      \"border-color\": {\n          customProp: \"--darkmode-inline-border\",\n          cssProp: \"border-color\",\n          dataAttr: \"data-darkmode-inline-border\"\n      },\n      \"border-bottom-color\": {\n          customProp: \"--darkmode-inline-border-bottom\",\n          cssProp: \"border-bottom-color\",\n          dataAttr: \"data-darkmode-inline-border-bottom\"\n      },\n      \"border-left-color\": {\n          customProp: \"--darkmode-inline-border-left\",\n          cssProp: \"border-left-color\",\n          dataAttr: \"data-darkmode-inline-border-left\"\n      },\n      \"border-right-color\": {\n          customProp: \"--darkmode-inline-border-right\",\n          cssProp: \"border-right-color\",\n          dataAttr: \"data-darkmode-inline-border-right\"\n      },\n      \"border-top-color\": {\n          customProp: \"--darkmode-inline-border-top\",\n          cssProp: \"border-top-color\",\n          dataAttr: \"data-darkmode-inline-border-top\"\n      },\n      \"box-shadow\": {\n          customProp: \"--darkmode-inline-boxshadow\",\n          cssProp: \"box-shadow\",\n          dataAttr: \"data-darkmode-inline-boxshadow\"\n      },\n      \"color\": {\n          customProp: \"--darkmode-inline-color\",\n          cssProp: \"color\",\n          dataAttr: \"data-darkmode-inline-color\"\n      },\n      \"fill\": {\n          customProp: \"--darkmode-inline-fill\",\n          cssProp: \"fill\",\n          dataAttr: \"data-darkmode-inline-fill\"\n      },\n      \"stroke\": {\n          customProp: \"--darkmode-inline-stroke\",\n          cssProp: \"stroke\",\n          dataAttr: \"data-darkmode-inline-stroke\"\n      },\n      \"outline-color\": {\n          customProp: \"--darkmode-inline-outline\",\n          cssProp: \"outline-color\",\n          dataAttr: \"data-darkmode-inline-outline\"\n      },\n      \"stop-color\": {\n          customProp: \"--darkmode-inline-stopcolor\",\n          cssProp: \"stop-color\",\n          dataAttr: \"data-darkmode-inline-stopcolor\"\n      }\n  };\n  var overridesList = Object.values(overrides);\n  var normalizedPropList = {};\n  overridesList.forEach(function (_a) {\n      var cssProp = _a.cssProp,\n          customProp = _a.customProp;\n      return (normalizedPropList[customProp] = cssProp);\n  });\n  var INLINE_STYLE_ATTRS = [\n      \"style\",\n      \"fill\",\n      \"stop-color\",\n      \"stroke\",\n      \"bgcolor\",\n      \"color\"\n  ];\n  var INLINE_STYLE_SELECTOR = INLINE_STYLE_ATTRS.map(function (attr) {\n      return \"[\".concat(attr, \"]\");\n  }).join(\", \");\n  function getInlineOverrideStyle() {\n      return overridesList\n          .map(function (_a) {\n              var dataAttr = _a.dataAttr,\n                  customProp = _a.customProp,\n                  cssProp = _a.cssProp;\n              return [\n                  \"[\".concat(dataAttr, \"] {\"),\n                  \"  \"\n                      .concat(cssProp, \": var(\")\n                      .concat(customProp, \") !important;\"),\n                  \"}\"\n              ].join(\"\\n\");\n          })\n          .join(\"\\n\");\n  }\n  function getInlineStyleElements(root) {\n      var results = [];\n      if (root instanceof Element && root.matches(INLINE_STYLE_SELECTOR)) {\n          results.push(root);\n      }\n      if (\n          root instanceof Element ||\n          (isShadowDomSupported && root instanceof ShadowRoot) ||\n          root instanceof Document\n      ) {\n          push(results, root.querySelectorAll(INLINE_STYLE_SELECTOR));\n      }\n      return results;\n  }\n  var treeObservers = new Map();\n  var attrObservers = new Map();\n  function watchForInlineStyles(elementStyleDidChange, shadowRootDiscovered) {\n      deepWatchForInlineStyles(\n          document,\n          elementStyleDidChange,\n          shadowRootDiscovered\n      );\n      iterateShadowHosts(document.documentElement, function (host) {\n          deepWatchForInlineStyles(\n              host.shadowRoot,\n              elementStyleDidChange,\n              shadowRootDiscovered\n          );\n      });\n  }\n  function deepWatchForInlineStyles(\n      root,\n      elementStyleDidChange,\n      shadowRootDiscovered\n  ) {\n      if (treeObservers.has(root)) {\n          treeObservers.get(root).disconnect();\n          attrObservers.get(root).disconnect();\n      }\n      var discoveredNodes = new WeakSet();\n      function discoverNodes(node) {\n          getInlineStyleElements(node).forEach(function (el) {\n              if (discoveredNodes.has(el)) {\n                  return;\n              }\n              discoveredNodes.add(el);\n              elementStyleDidChange(el);\n          });\n          iterateShadowHosts(node, function (n) {\n              if (discoveredNodes.has(node)) {\n                  return;\n              }\n              discoveredNodes.add(node);\n              shadowRootDiscovered(n.shadowRoot);\n              deepWatchForInlineStyles(\n                  n.shadowRoot,\n                  elementStyleDidChange,\n                  shadowRootDiscovered\n              );\n          });\n      }\n      var treeObserver = createOptimizedTreeObserver(root, {\n          onMinorMutations: function (_a) {\n              var additions = _a.additions;\n              additions.forEach(function (added) {\n                  return discoverNodes(added);\n              });\n          },\n          onHugeMutations: function () {\n              discoverNodes(root);\n          }\n      });\n      treeObservers.set(root, treeObserver);\n      var attemptCount = 0;\n      var start = null;\n      var ATTEMPTS_INTERVAL = getDuration({seconds: 10});\n      var RETRY_TIMEOUT = getDuration({seconds: 2});\n      var MAX_ATTEMPTS_COUNT = 50;\n      var cache = [];\n      var timeoutId = null;\n      var handleAttributeMutations = throttle(function (mutations) {\n          var handledTargets = new Set();\n          mutations.forEach(function (m) {\n              var target = m.target;\n              if (handledTargets.has(target)) {\n                  return;\n              }\n              if (INLINE_STYLE_ATTRS.includes(m.attributeName)) {\n                  handledTargets.add(target);\n                  elementStyleDidChange(target);\n              }\n          });\n      });\n      var attrObserver = new MutationObserver(function (mutations) {\n          if (timeoutId) {\n              cache.push.apply(\n                  cache,\n                  __spreadArray([], __read(mutations), false)\n              );\n              return;\n          }\n          attemptCount++;\n          var now = Date.now();\n          if (start == null) {\n              start = now;\n          } else if (attemptCount >= MAX_ATTEMPTS_COUNT) {\n              if (now - start < ATTEMPTS_INTERVAL) {\n                  timeoutId = setTimeout(function () {\n                      start = null;\n                      attemptCount = 0;\n                      timeoutId = null;\n                      var attributeCache = cache;\n                      cache = [];\n                      handleAttributeMutations(attributeCache);\n                  }, RETRY_TIMEOUT);\n                  cache.push.apply(\n                      cache,\n                      __spreadArray([], __read(mutations), false)\n                  );\n                  return;\n              }\n              start = now;\n              attemptCount = 1;\n          }\n          handleAttributeMutations(mutations);\n      });\n      attrObserver.observe(root, {\n          attributes: true,\n          attributeFilter: INLINE_STYLE_ATTRS.concat(\n              overridesList.map(function (_a) {\n                  var dataAttr = _a.dataAttr;\n                  return dataAttr;\n              })\n          ),\n          subtree: true\n      });\n      attrObservers.set(root, attrObserver);\n  }\n  function stopWatchingForInlineStyles() {\n      treeObservers.forEach(function (o) {\n          return o.disconnect();\n      });\n      attrObservers.forEach(function (o) {\n          return o.disconnect();\n      });\n      treeObservers.clear();\n      attrObservers.clear();\n  }\n  var inlineStyleCache = new WeakMap();\n  var filterProps = [\"brightness\", \"contrast\", \"grayscale\", \"sepia\", \"mode\"];\n  function getInlineStyleCacheKey(el, theme) {\n      return INLINE_STYLE_ATTRS.map(function (attr) {\n          return \"\".concat(attr, '=\"').concat(el.getAttribute(attr), '\"');\n      })\n          .concat(\n              filterProps.map(function (prop) {\n                  return \"\".concat(prop, '=\"').concat(theme[prop], '\"');\n              })\n          )\n          .join(\" \");\n  }\n  function shouldIgnoreInlineStyle(element, selectors) {\n      for (var i = 0, len = selectors.length; i < len; i++) {\n          var ingnoredSelector = selectors[i];\n          if (element.matches(ingnoredSelector)) {\n              return true;\n          }\n      }\n      return false;\n  }\n  function overrideInlineStyle(\n      element,\n      theme,\n      ignoreInlineSelectors,\n      ignoreImageSelectors\n  ) {\n      var cacheKey = getInlineStyleCacheKey(element, theme);\n      if (cacheKey === inlineStyleCache.get(element)) {\n          return;\n      }\n      var unsetProps = new Set(Object.keys(overrides));\n      function setCustomProp(targetCSSProp, modifierCSSProp, cssVal) {\n          var isPropertyVariable = targetCSSProp.startsWith(\"--\");\n          var _a = isPropertyVariable ? {} : overrides[targetCSSProp],\n              customProp = _a.customProp,\n              dataAttr = _a.dataAttr;\n          var mod = getModifiableCSSDeclaration(\n              modifierCSSProp,\n              cssVal,\n              {style: element.style},\n              variablesStore,\n              ignoreImageSelectors,\n              null\n          );\n          if (!mod) {\n              return;\n          }\n          var value = mod.value;\n          if (typeof value === \"function\") {\n              value = value(theme);\n          }\n          if (isPropertyVariable && typeof value === \"object\") {\n              var typedValue = value;\n              typedValue.declarations.forEach(function (_a) {\n                  var property = _a.property,\n                      value = _a.value;\n                  !(value instanceof Promise) &&\n                      element.style.setProperty(property, value);\n              });\n          } else {\n              element.style.setProperty(customProp, value);\n              if (!element.hasAttribute(dataAttr)) {\n                  element.setAttribute(dataAttr, \"\");\n              }\n              unsetProps.delete(targetCSSProp);\n          }\n      }\n      if (ignoreInlineSelectors.length > 0) {\n          if (shouldIgnoreInlineStyle(element, ignoreInlineSelectors)) {\n              unsetProps.forEach(function (cssProp) {\n                  element.removeAttribute(overrides[cssProp].dataAttr);\n              });\n              return;\n          }\n      }\n      if (element.hasAttribute(\"bgcolor\")) {\n          var value = element.getAttribute(\"bgcolor\");\n          if (\n              value.match(/^[0-9a-f]{3}$/i) ||\n              value.match(/^[0-9a-f]{6}$/i)\n          ) {\n              value = \"#\".concat(value);\n          }\n          setCustomProp(\"background-color\", \"background-color\", value);\n      }\n      if (element.hasAttribute(\"color\") && element.rel !== \"mask-icon\") {\n          var value = element.getAttribute(\"color\");\n          if (\n              value.match(/^[0-9a-f]{3}$/i) ||\n              value.match(/^[0-9a-f]{6}$/i)\n          ) {\n              value = \"#\".concat(value);\n          }\n          setCustomProp(\"color\", \"color\", value);\n      }\n      if (element instanceof SVGElement) {\n          if (element.hasAttribute(\"fill\")) {\n              var SMALL_SVG_LIMIT_1 = 32;\n              var value_1 = element.getAttribute(\"fill\");\n              if (value_1 !== \"none\") {\n                  if (!(element instanceof SVGTextElement)) {\n                      var handleSVGElement = function () {\n                          var _a = element.getBoundingClientRect(),\n                              width = _a.width,\n                              height = _a.height;\n                          var isBg =\n                              width > SMALL_SVG_LIMIT_1 ||\n                              height > SMALL_SVG_LIMIT_1;\n                          setCustomProp(\n                              \"fill\",\n                              isBg ? \"background-color\" : \"color\",\n                              value_1\n                          );\n                      };\n                      if (isReadyStateComplete()) {\n                          handleSVGElement();\n                      } else {\n                          addReadyStateCompleteListener(handleSVGElement);\n                      }\n                  } else {\n                      setCustomProp(\"fill\", \"color\", value_1);\n                  }\n              }\n          }\n          if (element.hasAttribute(\"stop-color\")) {\n              setCustomProp(\n                  \"stop-color\",\n                  \"background-color\",\n                  element.getAttribute(\"stop-color\")\n              );\n          }\n      }\n      if (element.hasAttribute(\"stroke\")) {\n          var value = element.getAttribute(\"stroke\");\n          setCustomProp(\n              \"stroke\",\n              element instanceof SVGLineElement ||\n                  element instanceof SVGTextElement\n                  ? \"border-color\"\n                  : \"color\",\n              value\n          );\n      }\n      element.style &&\n          iterateCSSDeclarations(element.style, function (property, value) {\n              if (property === \"background-image\" && value.includes(\"url\")) {\n                  return;\n              }\n              if (\n                  overrides.hasOwnProperty(property) ||\n                  (property.startsWith(\"--\") && !normalizedPropList[property])\n              ) {\n                  setCustomProp(property, property, value);\n              } else {\n                  var overridenProp = normalizedPropList[property];\n                  if (\n                      overridenProp &&\n                      !element.style.getPropertyValue(overridenProp) &&\n                      !element.hasAttribute(overridenProp)\n                  ) {\n                      if (\n                          overridenProp === \"background-color\" &&\n                          element.hasAttribute(\"bgcolor\")\n                      ) {\n                          return;\n                      }\n                      element.style.setProperty(property, \"\");\n                  }\n              }\n          });\n      if (\n          element.style &&\n          element instanceof SVGTextElement &&\n          element.style.fill\n      ) {\n          setCustomProp(\n              \"fill\",\n              \"color\",\n              element.style.getPropertyValue(\"fill\")\n          );\n      }\n      forEach(unsetProps, function (cssProp) {\n          element.removeAttribute(overrides[cssProp].dataAttr);\n      });\n      inlineStyleCache.set(element, getInlineStyleCacheKey(element, theme));\n  }\n\n  var metaThemeColorName = \"theme-color\";\n  var metaThemeColorSelector = 'meta[name=\"'.concat(metaThemeColorName, '\"]');\n  var srcMetaThemeColor = null;\n  var observer = null;\n  function changeMetaThemeColor(meta, theme) {\n      srcMetaThemeColor = srcMetaThemeColor || meta.content;\n      var color = parseColorWithCache(srcMetaThemeColor);\n      if (!color) {\n          return;\n      }\n      meta.content = modifyBackgroundColor(color, theme);\n  }\n  function changeMetaThemeColorWhenAvailable(theme) {\n      var meta = document.querySelector(metaThemeColorSelector);\n      if (meta) {\n          changeMetaThemeColor(meta, theme);\n      } else {\n          if (observer) {\n              observer.disconnect();\n          }\n          observer = new MutationObserver(function (mutations) {\n              loop: for (var i = 0; i < mutations.length; i++) {\n                  var addedNodes = mutations[i].addedNodes;\n                  for (var j = 0; j < addedNodes.length; j++) {\n                      var node = addedNodes[j];\n                      if (\n                          node instanceof HTMLMetaElement &&\n                          node.name === metaThemeColorName\n                      ) {\n                          observer.disconnect();\n                          observer = null;\n                          changeMetaThemeColor(node, theme);\n                          break loop;\n                      }\n                  }\n              }\n          });\n          observer.observe(document.head, {childList: true});\n      }\n  }\n  function restoreMetaThemeColor() {\n      if (observer) {\n          observer.disconnect();\n          observer = null;\n      }\n      var meta = document.querySelector(metaThemeColorSelector);\n      if (meta && srcMetaThemeColor) {\n          meta.content = srcMetaThemeColor;\n      }\n  }\n\n  var themeCacheKeys = [\n      \"mode\",\n      \"brightness\",\n      \"contrast\",\n      \"grayscale\",\n      \"sepia\",\n      \"darkSchemeBackgroundColor\",\n      \"darkSchemeTextColor\",\n      \"lightSchemeBackgroundColor\",\n      \"lightSchemeTextColor\"\n  ];\n  function getThemeKey(theme) {\n      var resultKey = \"\";\n      themeCacheKeys.forEach(function (key) {\n          resultKey += \"\".concat(key, \":\").concat(theme[key], \";\");\n      });\n      return resultKey;\n  }\n  var asyncQueue = createAsyncTasksQueue();\n  function createStyleSheetModifier() {\n      var renderId = 0;\n      var rulesTextCache = new Set();\n      var rulesModCache = new Map();\n      var varTypeChangeCleaners = new Set();\n      var prevFilterKey = null;\n      var hasNonLoadedLink = false;\n      var wasRebuilt = false;\n      function shouldRebuildStyle() {\n          return hasNonLoadedLink && !wasRebuilt;\n      }\n      function modifySheet(options) {\n          var rules = options.sourceCSSRules;\n          var theme = options.theme,\n              ignoreImageAnalysis = options.ignoreImageAnalysis,\n              force = options.force,\n              prepareSheet = options.prepareSheet,\n              isAsyncCancelled = options.isAsyncCancelled;\n          var rulesChanged = rulesModCache.size === 0;\n          var notFoundCacheKeys = new Set(rulesModCache.keys());\n          var themeKey = getThemeKey(theme);\n          var themeChanged = themeKey !== prevFilterKey;\n          if (hasNonLoadedLink) {\n              wasRebuilt = true;\n          }\n          var modRules = [];\n          iterateCSSRules(\n              rules,\n              function (rule) {\n                  var cssText = rule.cssText;\n                  var textDiffersFromPrev = false;\n                  notFoundCacheKeys.delete(cssText);\n                  if (rule.parentRule instanceof CSSMediaRule) {\n                      cssText += \";\".concat(rule.parentRule.media.mediaText);\n                  }\n                  if (!rulesTextCache.has(cssText)) {\n                      rulesTextCache.add(cssText);\n                      textDiffersFromPrev = true;\n                  }\n                  if (textDiffersFromPrev) {\n                      rulesChanged = true;\n                  } else {\n                      modRules.push(rulesModCache.get(cssText));\n                      return;\n                  }\n                  if (rule.style.all === \"revert\") {\n                      return;\n                  }\n                  var modDecs = [];\n                  rule.style &&\n                      iterateCSSDeclarations(\n                          rule.style,\n                          function (property, value) {\n                              var mod = getModifiableCSSDeclaration(\n                                  property,\n                                  value,\n                                  rule,\n                                  variablesStore,\n                                  ignoreImageAnalysis,\n                                  isAsyncCancelled\n                              );\n                              if (mod) {\n                                  modDecs.push(mod);\n                              }\n                          }\n                      );\n                  var modRule = null;\n                  if (modDecs.length > 0) {\n                      var parentRule = rule.parentRule;\n                      modRule = {\n                          selector: rule.selectorText,\n                          declarations: modDecs,\n                          parentRule: parentRule\n                      };\n                      modRules.push(modRule);\n                  }\n                  rulesModCache.set(cssText, modRule);\n              },\n              function () {\n                  hasNonLoadedLink = true;\n              }\n          );\n          notFoundCacheKeys.forEach(function (key) {\n              rulesTextCache.delete(key);\n              rulesModCache.delete(key);\n          });\n          prevFilterKey = themeKey;\n          if (!force && !rulesChanged && !themeChanged) {\n              return;\n          }\n          renderId++;\n          function setRule(target, index, rule) {\n\n              var selector = rule.selector,\n                  declarations = rule.declarations;\n              var getDeclarationText = function (dec) {\n                  var property = dec.property,\n                      value = dec.value,\n                      important = dec.important,\n                      sourceValue = dec.sourceValue;\n                  return \"\"\n                      .concat(property, \": \")\n                      .concat(value == null ? sourceValue : value)\n                      .concat(important ? \" !important\" : \"\", \";\");\n              };\n              var cssRulesText = \"\";\n\n              const element = document.querySelector(selector);\n\n\n            // Return if element is excluded\n            if (selector.includes(\".wp-dark-mode-ignore\")) {\n            return;\n            }\n\n            // Return if element is excluded\n            if (element?.classList.contains(\"wp-dark-mode-ignore\")) {\n            return;\n            }\n\n              declarations.forEach(function (declarations) {\n                  cssRulesText += \"\".concat(\n                      getDeclarationText(declarations),\n                      \" \"\n                  );\n\n                  // Check if includes section is activated\n                  // if (typeof wp_dark_mode_admin_json !== \"undefined\" && \"\" !== wp_dark_mode_admin_json.includes) {\n                  //   // Return if not included element\n                  //   if (!element.classList.contains(\"wp-dark-mode-include\")) {\n                  //     return;\n                  //   }\n                  // }\n\n              });\n              var selectorText = selector;\n              if (\n                  isChromium &&\n                  selector.startsWith(\":is(\") &&\n                  (selector.includes(\":is()\") ||\n                      selector.includes(\":where()\") ||\n                      (selector.includes(\":where(\") &&\n                          selector.includes(\":-moz\")))\n              ) {\n                  selectorText = \".darkmode-unsupported-selector\";\n              }\n              var ruleText = \"\"\n                  .concat(selectorText, \" { \")\n                  .concat(cssRulesText, \" }\");\n              target.insertRule(ruleText, index);\n          }\n          var asyncDeclarations = new Map();\n          var varDeclarations = new Map();\n          var asyncDeclarationCounter = 0;\n          var varDeclarationCounter = 0;\n          var rootReadyGroup = {rule: null, rules: [], isGroup: true};\n          var groupRefs = new WeakMap();\n          function getGroup(rule) {\n              if (rule == null) {\n                  return rootReadyGroup;\n              }\n              if (groupRefs.has(rule)) {\n                  return groupRefs.get(rule);\n              }\n              var group = {rule: rule, rules: [], isGroup: true};\n              groupRefs.set(rule, group);\n              var parentGroup = getGroup(rule.parentRule);\n              parentGroup.rules.push(group);\n              return group;\n          }\n          varTypeChangeCleaners.forEach(function (clear) {\n              return clear();\n          });\n          varTypeChangeCleaners.clear();\n          modRules\n              .filter(function (r) {\n                  return r;\n              })\n              .forEach(function (_a) {\n                  var selector = _a.selector,\n                      declarations = _a.declarations,\n                      parentRule = _a.parentRule;\n                  var group = getGroup(parentRule);\n                  var readyStyleRule = {\n                      selector: selector,\n                      declarations: [],\n                      isGroup: false\n                  };\n                  var readyDeclarations = readyStyleRule.declarations;\n                  group.rules.push(readyStyleRule);\n                  function handleAsyncDeclaration(\n                      property,\n                      modified,\n                      important,\n                      sourceValue\n                  ) {\n                      var asyncKey = ++asyncDeclarationCounter;\n                      var asyncDeclaration = {\n                          property: property,\n                          value: null,\n                          important: important,\n                          asyncKey: asyncKey,\n                          sourceValue: sourceValue\n                      };\n                      readyDeclarations.push(asyncDeclaration);\n                      var currentRenderId = renderId;\n                      modified.then(function (asyncValue) {\n                          if (\n                              !asyncValue ||\n                              isAsyncCancelled() ||\n                              currentRenderId !== renderId\n                          ) {\n                              return;\n                          }\n                          asyncDeclaration.value = asyncValue;\n                          asyncQueue.add(function () {\n                              if (\n                                  isAsyncCancelled() ||\n                                  currentRenderId !== renderId\n                              ) {\n                                  return;\n                              }\n                              rebuildAsyncRule(asyncKey);\n                          });\n                      });\n                  }\n                  function handleVarDeclarations(\n                      property,\n                      modified,\n                      important,\n                      sourceValue\n                  ) {\n                      var varDecs = modified.declarations,\n                          onTypeChange = modified.onTypeChange;\n                      var varKey = ++varDeclarationCounter;\n                      var currentRenderId = renderId;\n                      var initialIndex = readyDeclarations.length;\n                      var oldDecs = [];\n                      if (varDecs.length === 0) {\n                          var tempDec = {\n                              property: property,\n                              value: sourceValue,\n                              important: important,\n                              sourceValue: sourceValue,\n                              varKey: varKey\n                          };\n                          readyDeclarations.push(tempDec);\n                          oldDecs = [tempDec];\n                      }\n                      varDecs.forEach(function (mod) {\n                          if (mod.value instanceof Promise) {\n                              handleAsyncDeclaration(\n                                  mod.property,\n                                  mod.value,\n                                  important,\n                                  sourceValue\n                              );\n                          } else {\n                              var readyDec = {\n                                  property: mod.property,\n                                  value: mod.value,\n                                  important: important,\n                                  sourceValue: sourceValue,\n                                  varKey: varKey\n                              };\n                              readyDeclarations.push(readyDec);\n                              oldDecs.push(readyDec);\n                          }\n                      });\n                      onTypeChange.addListener(function (newDecs) {\n                          if (\n                              isAsyncCancelled() ||\n                              currentRenderId !== renderId\n                          ) {\n                              return;\n                          }\n                          var readyVarDecs = newDecs.map(function (mod) {\n                              return {\n                                  property: mod.property,\n                                  value: mod.value,\n                                  important: important,\n                                  sourceValue: sourceValue,\n                                  varKey: varKey\n                              };\n                          });\n                          var index = readyDeclarations.indexOf(\n                              oldDecs[0],\n                              initialIndex\n                          );\n                          readyDeclarations.splice.apply(\n                              readyDeclarations,\n                              __spreadArray(\n                                  [index, oldDecs.length],\n                                  __read(readyVarDecs),\n                                  false\n                              )\n                          );\n                          oldDecs = readyVarDecs;\n                          rebuildVarRule(varKey);\n                      });\n                      varTypeChangeCleaners.add(function () {\n                          return onTypeChange.removeListeners();\n                      });\n                  }\n                  declarations.forEach(function (_a) {\n                      var property = _a.property,\n                          value = _a.value,\n                          important = _a.important,\n                          sourceValue = _a.sourceValue;\n                      if (typeof value === \"function\") {\n                          var modified = value(theme);\n                          if (modified instanceof Promise) {\n                              handleAsyncDeclaration(\n                                  property,\n                                  modified,\n                                  important,\n                                  sourceValue\n                              );\n                          } else if (property.startsWith(\"--\")) {\n                              handleVarDeclarations(\n                                  property,\n                                  modified,\n                                  important,\n                                  sourceValue\n                              );\n                          } else {\n                              readyDeclarations.push({\n                                  property: property,\n                                  value: modified,\n                                  important: important,\n                                  sourceValue: sourceValue\n                              });\n                          }\n                      } else {\n                          readyDeclarations.push({\n                              property: property,\n                              value: value,\n                              important: important,\n                              sourceValue: sourceValue\n                          });\n                      }\n                  });\n              });\n          var sheet = prepareSheet();\n          function buildStyleSheet() {\n              function createTarget(group, parent) {\n                  var rule = group.rule;\n                  if (rule instanceof CSSMediaRule) {\n                      var media = rule.media;\n                      var index = parent.cssRules.length;\n                      parent.insertRule(\n                          \"@media \".concat(media.mediaText, \" {}\"),\n                          index\n                      );\n                      return parent.cssRules[index];\n                  }\n                  return parent;\n              }\n              function iterateReadyRules(group, target, styleIterator) {\n                  group.rules.forEach(function (r) {\n                      if (r.isGroup) {\n                          var t = createTarget(r, target);\n                          iterateReadyRules(r, t, styleIterator);\n                      } else {\n                          styleIterator(r, target);\n                      }\n                  });\n              }\n              iterateReadyRules(\n                  rootReadyGroup,\n                  sheet,\n                  function (rule, target) {\n                      var index = target.cssRules.length;\n                      rule.declarations.forEach(function (_a) {\n                          var asyncKey = _a.asyncKey,\n                              varKey = _a.varKey;\n                          if (asyncKey != null) {\n                              asyncDeclarations.set(asyncKey, {\n                                  rule: rule,\n                                  target: target,\n                                  index: index\n                              });\n                          }\n                          if (varKey != null) {\n                              varDeclarations.set(varKey, {\n                                  rule: rule,\n                                  target: target,\n                                  index: index\n                              });\n                          }\n                      });\n                      setRule(target, index, rule);\n                  }\n              );\n          }\n          function rebuildAsyncRule(key) {\n              var _a = asyncDeclarations.get(key),\n                  rule = _a.rule,\n                  target = _a.target,\n                  index = _a.index;\n              target.deleteRule(index);\n              setRule(target, index, rule);\n              asyncDeclarations.delete(key);\n          }\n          function rebuildVarRule(key) {\n              var _a = varDeclarations.get(key),\n                  rule = _a.rule,\n                  target = _a.target,\n                  index = _a.index;\n              target.deleteRule(index);\n              setRule(target, index, rule);\n          }\n          buildStyleSheet();\n      }\n      return {\n          modifySheet: modifySheet,\n          shouldRebuildStyle: shouldRebuildStyle\n      };\n  }\n\n  var STYLE_SELECTOR = 'style, link[rel*=\"stylesheet\" i]:not([disabled])';\n  function isFontsGoogleApiStyle(element) {\n      if (!element.href) {\n          return false;\n      }\n      try {\n          var elementURL = new URL(element.href);\n          return elementURL.hostname === \"fonts.googleapis.com\";\n      } catch (err) {\n          logInfo(\"Couldn't construct \".concat(element.href, \" as URL\"));\n          return false;\n      }\n  }\n  function shouldManageStyle(element) {\n      return (\n          (element instanceof HTMLStyleElement ||\n              element instanceof SVGStyleElement ||\n              (element instanceof HTMLLinkElement &&\n                  Boolean(element.rel) &&\n                  element.rel.toLowerCase().includes(\"stylesheet\") &&\n                  Boolean(element.href) &&\n                  !element.disabled &&\n                  (isFirefox\n                      ? !element.href.startsWith(\"moz-extension://\")\n                      : true) &&\n                  !isFontsGoogleApiStyle(element))) &&\n                  !element.classList.contains(\"darkmode\") &&\n                  !element.classList.contains(\"wp-dark-mode-ignore\") &&\n          element.media.toLowerCase() !== \"print\" &&\n          !element.classList.contains(\"stylus\")\n      );\n  }\n  function getManageableStyles(node, results, deep) {\n      if (results === void 0) {\n          results = [];\n      }\n      if (deep === void 0) {\n          deep = true;\n      }\n      if (shouldManageStyle(node)) {\n          results.push(node);\n      } else if (\n          node instanceof Element ||\n          (isShadowDomSupported && node instanceof ShadowRoot) ||\n          node === document\n      ) {\n          forEach(node.querySelectorAll(STYLE_SELECTOR), function (style) {\n              return getManageableStyles(style, results, false);\n          });\n          if (deep) {\n              iterateShadowHosts(node, function (host) {\n                  return getManageableStyles(host.shadowRoot, results, false);\n              });\n          }\n      }\n      return results;\n  }\n  var syncStyleSet = new WeakSet();\n  var corsStyleSet = new WeakSet();\n  var canOptimizeUsingProxy$1 = false;\n  document.addEventListener(\n      \"__darkreader__inlineScriptsAllowed\",\n      function () {\n          canOptimizeUsingProxy$1 = true;\n      },\n      {once: true, passive: true}\n  );\n  var loadingLinkCounter = 0;\n  var rejectorsForLoadingLinks = new Map();\n  function cleanLoadingLinks() {\n      rejectorsForLoadingLinks.clear();\n  }\n  function manageStyle(element, _a) {\n      var update = _a.update,\n          loadingStart = _a.loadingStart,\n          loadingEnd = _a.loadingEnd;\n      var prevStyles = [];\n      var next = element;\n      while (\n          (next = next.nextElementSibling) &&\n          next.matches(\".darkmode\")\n      ) {\n          prevStyles.push(next);\n      }\n      var corsCopy =\n          prevStyles.find(function (el) {\n              return el.matches(\".darkmode--cors\") && !corsStyleSet.has(el);\n          }) || null;\n      var syncStyle =\n          prevStyles.find(function (el) {\n              return el.matches(\".darkmode--sync\") && !syncStyleSet.has(el);\n          }) || null;\n      var corsCopyPositionWatcher = null;\n      var syncStylePositionWatcher = null;\n      var cancelAsyncOperations = false;\n      var isOverrideEmpty = true;\n      var sheetModifier = createStyleSheetModifier();\n      var observer = new MutationObserver(function () {\n          update();\n      });\n      var observerOptions = {\n          attributes: true,\n          childList: true,\n          subtree: true,\n          characterData: true\n      };\n      function containsCSSImport() {\n          var _a;\n          if (!(element instanceof HTMLStyleElement)) {\n              return false;\n          }\n          var cssText = removeCSSComments(\n              (_a = element.textContent) !== null && _a !== void 0 ? _a : \"\"\n          ).trim();\n          return cssText.match(cssImportRegex);\n      }\n      function hasImports(cssRules, checkCrossOrigin) {\n          var result = false;\n          if (cssRules) {\n              var rule = void 0;\n              cssRulesLoop: for (\n                  var i = 0, len = cssRules.length;\n                  i < len;\n                  i++\n              ) {\n                  rule = cssRules[i];\n                  if (rule.href) {\n                      if (checkCrossOrigin) {\n                          if (\n                              !rule.href.startsWith(\n                                  \"https://fonts.googleapis.com/\"\n                              ) &&\n                              rule.href.startsWith(\"http\") &&\n                              !rule.href.startsWith(location.origin)\n                          ) {\n                              result = true;\n                              break cssRulesLoop;\n                          }\n                      } else {\n                          result = true;\n                          break cssRulesLoop;\n                      }\n                  }\n              }\n          }\n          return result;\n      }\n      function getRulesSync() {\n          if (corsCopy) {\n              return corsCopy.sheet.cssRules;\n          }\n          if (containsCSSImport()) {\n              return null;\n          }\n          var cssRules = safeGetSheetRules();\n          if (\n              element instanceof HTMLLinkElement &&\n              !isRelativeHrefOnAbsolutePath(element.href) &&\n              hasImports(cssRules, false)\n          ) {\n              return null;\n          }\n          if (hasImports(cssRules, true)) {\n              return null;\n          }\n          return cssRules;\n      }\n      function insertStyle() {\n          if (corsCopy) {\n              if (element.nextSibling !== corsCopy) {\n                  element.parentNode.insertBefore(\n                      corsCopy,\n                      element.nextSibling\n                  );\n              }\n              if (corsCopy.nextSibling !== syncStyle) {\n                  element.parentNode.insertBefore(\n                      syncStyle,\n                      corsCopy.nextSibling\n                  );\n              }\n          } else if (element.nextSibling !== syncStyle) {\n              element.parentNode.insertBefore(syncStyle, element.nextSibling);\n          }\n      }\n      function createSyncStyle() {\n\n        // Bail if element is excluded.\n        if (element?.classList.contains(\"wp-dark-mode-ignore\")) {\n        return;\n        }\n\n          syncStyle =\n              element instanceof SVGStyleElement\n                  ? document.createElementNS(\n                        \"http://www.w3.org/2000/svg\",\n                        \"style\"\n                    )\n                  : document.createElement(\"style\");\n          syncStyle.classList.add(\"darkmode\");\n          syncStyle.classList.add(\"darkmode--sync\");\n          syncStyle.media = \"screen\";\n          if (element.title) {\n              syncStyle.title = element.title;\n          }\n          syncStyleSet.add(syncStyle);\n      }\n      var isLoadingRules = false;\n      var wasLoadingError = false;\n      var loadingLinkId = ++loadingLinkCounter;\n      function getRulesAsync() {\n          return __awaiter(this, void 0, void 0, function () {\n              var cssText,\n                  cssBasePath,\n                  _a,\n                  cssRules,\n                  accessError,\n                  fullCSSText;\n              var _b;\n              return __generator(this, function (_c) {\n                  switch (_c.label) {\n                      case 0:\n                          if (!(element instanceof HTMLLinkElement))\n                              return [3, 7];\n                          (_a = __read(getRulesOrError(), 2)),\n                              (cssRules = _a[0]),\n                              (accessError = _a[1]);\n                          if (\n                              !(\n                                  (isSafari && !element.sheet) ||\n                                  (!isSafari && !cssRules && !accessError) ||\n                                  isStillLoadingError(accessError)\n                              )\n                          )\n                              return [3, 5];\n                          _c.label = 1;\n                      case 1:\n                          _c.trys.push([1, 3, , 4]);\n                          return [4, linkLoading(element, loadingLinkId)];\n                      case 2:\n                          _c.sent();\n                          return [3, 4];\n                      case 3:\n                          _c.sent();\n                          wasLoadingError = true;\n                          return [3, 4];\n                      case 4:\n                          if (cancelAsyncOperations) {\n                              return [2, null];\n                          }\n                          (_b = __read(getRulesOrError(), 2)),\n                              (cssRules = _b[0]),\n                              (accessError = _b[1]);\n                          _c.label = 5;\n                      case 5:\n                          if (cssRules) {\n                              if (!hasImports(cssRules, false)) {\n                                  return [2, cssRules];\n                              }\n                          }\n                          return [4, loadText(element.href)];\n                      case 6:\n                          cssText = _c.sent();\n                          cssBasePath = getCSSBaseBath(element.href);\n                          if (cancelAsyncOperations) {\n                              return [2, null];\n                          }\n                          return [3, 8];\n                      case 7:\n                          if (containsCSSImport()) {\n                              cssText = element.textContent.trim();\n                              cssBasePath = getCSSBaseBath(location.href);\n                          } else {\n                              return [2, null];\n                          }\n                          _c.label = 8;\n                      case 8:\n                          if (!cssText) return [3, 13];\n                          _c.label = 9;\n                      case 9:\n                          _c.trys.push([9, 11, , 12]);\n                          return [4, replaceCSSImports(cssText, cssBasePath)];\n                      case 10:\n                          fullCSSText = _c.sent();\n                          corsCopy = createCORSCopy(element, fullCSSText);\n                          return [3, 12];\n                      case 11:\n                          _c.sent();\n                          return [3, 12];\n                      case 12:\n                          if (corsCopy) {\n                              corsCopyPositionWatcher = watchForNodePosition(\n                                  corsCopy,\n                                  \"prev-sibling\"\n                              );\n                              return [2, corsCopy.sheet.cssRules];\n                          }\n                          _c.label = 13;\n                      case 13:\n                          return [2, null];\n                  }\n              });\n          });\n      }\n      function details(options) {\n          var rules = getRulesSync();\n          if (!rules) {\n              if (options.secondRound) {\n                  return null;\n              }\n              if (isLoadingRules || wasLoadingError) {\n                  return null;\n              }\n              isLoadingRules = true;\n              loadingStart();\n              getRulesAsync()\n                  .then(function (results) {\n                      isLoadingRules = false;\n                      loadingEnd();\n                      if (results) {\n                          update();\n                      }\n                  })\n                  .catch(function (err) {\n                      isLoadingRules = false;\n                      loadingEnd();\n                  });\n              return null;\n          }\n          return {rules: rules};\n      }\n      var forceRenderStyle = false;\n      function render(theme, ignoreImageAnalysis) {\n          var rules = getRulesSync();\n          if (!rules) {\n              return;\n          }\n          cancelAsyncOperations = false;\n          function removeCSSRulesFromSheet(sheet) {\n              if (!sheet) {\n                  return;\n              }\n              for (var i = sheet.cssRules.length - 1; i >= 0; i--) {\n                  sheet.deleteRule(i);\n              }\n          }\n          function prepareOverridesSheet() {\n              if (!syncStyle) {\n                  createSyncStyle();\n              }\n              syncStylePositionWatcher && syncStylePositionWatcher.stop();\n              insertStyle();\n              if (syncStyle.sheet == null) {\n                  syncStyle.textContent = \"\";\n              }\n              var sheet = syncStyle.sheet;\n              removeCSSRulesFromSheet(sheet);\n              if (syncStylePositionWatcher) {\n                  syncStylePositionWatcher.run();\n              } else {\n                  syncStylePositionWatcher = watchForNodePosition(\n                      syncStyle,\n                      \"prev-sibling\",\n                      function () {\n                          forceRenderStyle = true;\n                          buildOverrides();\n                      }\n                  );\n              }\n              return syncStyle.sheet;\n          }\n          function buildOverrides() {\n              var force = forceRenderStyle;\n              forceRenderStyle = false;\n              sheetModifier.modifySheet({\n                  prepareSheet: prepareOverridesSheet,\n                  sourceCSSRules: rules,\n                  theme: theme,\n                  ignoreImageAnalysis: ignoreImageAnalysis,\n                  force: force,\n                  isAsyncCancelled: function () {\n                      return cancelAsyncOperations;\n                  }\n              });\n              isOverrideEmpty = syncStyle.sheet.cssRules.length === 0;\n              if (sheetModifier.shouldRebuildStyle()) {\n                  addReadyStateCompleteListener(function () {\n                      return update();\n                  });\n              }\n          }\n          buildOverrides();\n      }\n      function getRulesOrError() {\n          try {\n              if (element.sheet == null) {\n                  return [null, null];\n              }\n              return [element.sheet.cssRules, null];\n          } catch (err) {\n              return [null, err];\n          }\n      }\n      function isStillLoadingError(error) {\n          return error && error.message && error.message.includes(\"loading\");\n      }\n      function safeGetSheetRules() {\n          var _a = __read(getRulesOrError(), 2),\n              cssRules = _a[0],\n              err = _a[1];\n          if (err) {\n              return null;\n          }\n          return cssRules;\n      }\n      function watchForSheetChanges() {\n          watchForSheetChangesUsingProxy();\n          if (!(canOptimizeUsingProxy$1 && element.sheet)) {\n              watchForSheetChangesUsingRAF();\n          }\n      }\n      var rulesChangeKey = null;\n      var rulesCheckFrameId = null;\n      function getRulesChangeKey() {\n          var rules = safeGetSheetRules();\n          return rules ? rules.length : null;\n      }\n      function didRulesKeyChange() {\n          return getRulesChangeKey() !== rulesChangeKey;\n      }\n      function watchForSheetChangesUsingRAF() {\n          rulesChangeKey = getRulesChangeKey();\n          stopWatchingForSheetChangesUsingRAF();\n          var checkForUpdate = function () {\n              if (didRulesKeyChange()) {\n                  rulesChangeKey = getRulesChangeKey();\n                  update();\n              }\n              if (canOptimizeUsingProxy$1 && element.sheet) {\n                  stopWatchingForSheetChangesUsingRAF();\n                  return;\n              }\n              rulesCheckFrameId = requestAnimationFrame(checkForUpdate);\n          };\n          checkForUpdate();\n      }\n      function stopWatchingForSheetChangesUsingRAF() {\n          cancelAnimationFrame(rulesCheckFrameId);\n      }\n      var areSheetChangesPending = false;\n      function onSheetChange() {\n          canOptimizeUsingProxy$1 = true;\n          stopWatchingForSheetChangesUsingRAF();\n          if (areSheetChangesPending) {\n              return;\n          }\n          function handleSheetChanges() {\n              areSheetChangesPending = false;\n              if (cancelAsyncOperations) {\n                  return;\n              }\n              update();\n          }\n          areSheetChangesPending = true;\n          if (typeof queueMicrotask === \"function\") {\n              queueMicrotask(handleSheetChanges);\n          } else {\n              requestAnimationFrame(handleSheetChanges);\n          }\n      }\n      function watchForSheetChangesUsingProxy() {\n          element.addEventListener(\n              \"__darkreader__updateSheet\",\n              onSheetChange,\n              {passive: true}\n          );\n      }\n      function stopWatchingForSheetChangesUsingProxy() {\n          element.removeEventListener(\n              \"__darkreader__updateSheet\",\n              onSheetChange\n          );\n      }\n      function stopWatchingForSheetChanges() {\n          stopWatchingForSheetChangesUsingProxy();\n          stopWatchingForSheetChangesUsingRAF();\n      }\n      function pause() {\n          observer.disconnect();\n          cancelAsyncOperations = true;\n          corsCopyPositionWatcher && corsCopyPositionWatcher.stop();\n          syncStylePositionWatcher && syncStylePositionWatcher.stop();\n          stopWatchingForSheetChanges();\n      }\n      function destroy() {\n          pause();\n          removeNode(corsCopy);\n          removeNode(syncStyle);\n          loadingEnd();\n          if (rejectorsForLoadingLinks.has(loadingLinkId)) {\n              var reject = rejectorsForLoadingLinks.get(loadingLinkId);\n              rejectorsForLoadingLinks.delete(loadingLinkId);\n              reject && reject();\n          }\n      }\n      function watch() {\n          observer.observe(element, observerOptions);\n          if (element instanceof HTMLStyleElement) {\n              watchForSheetChanges();\n          }\n      }\n      var maxMoveCount = 10;\n      var moveCount = 0;\n      function restore() {\n          if (!syncStyle) {\n              return;\n          }\n          moveCount++;\n          if (moveCount > maxMoveCount) {\n              return;\n          }\n          insertStyle();\n          corsCopyPositionWatcher && corsCopyPositionWatcher.skip();\n          syncStylePositionWatcher && syncStylePositionWatcher.skip();\n          if (!isOverrideEmpty) {\n              forceRenderStyle = true;\n              update();\n          }\n      }\n      return {\n          details: details,\n          render: render,\n          pause: pause,\n          destroy: destroy,\n          watch: watch,\n          restore: restore\n      };\n  }\n  function linkLoading(link, loadingId) {\n      return __awaiter(this, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n              return [\n                  2,\n                  new Promise(function (resolve, reject) {\n                      var cleanUp = function () {\n                          link.removeEventListener(\"load\", onLoad);\n                          link.removeEventListener(\"error\", onError);\n                          rejectorsForLoadingLinks.delete(loadingId);\n                      };\n                      var onLoad = function () {\n                          cleanUp();\n                          resolve();\n                      };\n                      var onError = function () {\n                          cleanUp();\n                          reject(\n                              \"Linkelement \"\n                                  .concat(loadingId, \" couldn't be loaded. \")\n                                  .concat(link.href)\n                          );\n                      };\n                      rejectorsForLoadingLinks.set(loadingId, function () {\n                          cleanUp();\n                          reject();\n                      });\n                      link.addEventListener(\"load\", onLoad, {passive: true});\n                      link.addEventListener(\"error\", onError, {\n                          passive: true\n                      });\n                      if (!link.href) {\n                          onError();\n                      }\n                  })\n              ];\n          });\n      });\n  }\n  function getCSSImportURL(importDeclaration) {\n      return getCSSURLValue(\n          importDeclaration\n              .substring(7)\n              .trim()\n              .replace(/;$/, \"\")\n              .replace(/screen$/, \"\")\n      );\n  }\n  function loadText(url) {\n      return __awaiter(this, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n              switch (_a.label) {\n                  case 0:\n                      if (!url.startsWith(\"data:\")) return [3, 3];\n                      return [4, fetch(url)];\n                  case 1:\n                      return [4, _a.sent().text()];\n                  case 2:\n                      return [2, _a.sent()];\n                  case 3:\n                      return [\n                          4,\n                          bgFetch({\n                              url: url,\n                              responseType: \"text\",\n                              mimeType: \"text/css\",\n                              origin: window.location.origin\n                          })\n                      ];\n                  case 4:\n                      return [2, _a.sent()];\n              }\n          });\n      });\n  }\n  function replaceCSSImports(cssText, basePath, cache) {\n      if (cache === void 0) {\n          cache = new Map();\n      }\n      return __awaiter(this, void 0, void 0, function () {\n          var importMatches,\n              importMatches_1,\n              importMatches_1_1,\n              match,\n              importURL,\n              absoluteURL,\n              importedCSS,\n              e_1_1;\n          var e_1, _a;\n          return __generator(this, function (_b) {\n              switch (_b.label) {\n                  case 0:\n                      cssText = removeCSSComments(cssText);\n                      cssText = replaceCSSFontFace(cssText);\n                      cssText = replaceCSSRelativeURLsWithAbsolute(\n                          cssText,\n                          basePath\n                      );\n                      importMatches = getMatches(cssImportRegex, cssText);\n                      _b.label = 1;\n                  case 1:\n                      _b.trys.push([1, 10, 11, 12]);\n                      (importMatches_1 = __values(importMatches)),\n                          (importMatches_1_1 = importMatches_1.next());\n                      _b.label = 2;\n                  case 2:\n                      if (!!importMatches_1_1.done) return [3, 9];\n                      match = importMatches_1_1.value;\n                      importURL = getCSSImportURL(match);\n                      absoluteURL = getAbsoluteURL(basePath, importURL);\n                      importedCSS = void 0;\n                      if (!cache.has(absoluteURL)) return [3, 3];\n                      importedCSS = cache.get(absoluteURL);\n                      return [3, 7];\n                  case 3:\n                      _b.trys.push([3, 6, , 7]);\n                      return [4, loadText(absoluteURL)];\n                  case 4:\n                      importedCSS = _b.sent();\n                      cache.set(absoluteURL, importedCSS);\n                      return [\n                          4,\n                          replaceCSSImports(\n                              importedCSS,\n                              getCSSBaseBath(absoluteURL),\n                              cache\n                          )\n                      ];\n                  case 5:\n                      importedCSS = _b.sent();\n                      return [3, 7];\n                  case 6:\n                      _b.sent();\n                      importedCSS = \"\";\n                      return [3, 7];\n                  case 7:\n                      cssText = cssText.split(match).join(importedCSS);\n                      _b.label = 8;\n                  case 8:\n                      importMatches_1_1 = importMatches_1.next();\n                      return [3, 2];\n                  case 9:\n                      return [3, 12];\n                  case 10:\n                      e_1_1 = _b.sent();\n                      e_1 = {error: e_1_1};\n                      return [3, 12];\n                  case 11:\n                      try {\n                          if (\n                              importMatches_1_1 &&\n                              !importMatches_1_1.done &&\n                              (_a = importMatches_1.return)\n                          )\n                              _a.call(importMatches_1);\n                      } finally {\n                          if (e_1) throw e_1.error;\n                      }\n                      return [7];\n                  case 12:\n                      cssText = cssText.trim();\n                      return [2, cssText];\n              }\n          });\n      });\n  }\n  function createCORSCopy(srcElement, cssText) {\n      if (!cssText) {\n          return null;\n      }\n      var cors = document.createElement(\"style\");\n      cors.classList.add(\"darkmode\");\n      cors.classList.add(\"darkmode--cors\");\n      cors.media = \"screen\";\n      cors.textContent = cssText;\n      srcElement.parentNode.insertBefore(cors, srcElement.nextSibling);\n      cors.sheet.disabled = true;\n      corsStyleSet.add(cors);\n      return cors;\n  }\n\n  var observers = [];\n  var observedRoots;\n  var definedCustomElements = new Set();\n  var undefinedGroups = new Map();\n  var elementsDefinitionCallback;\n  function isCustomElement(element) {\n      if (element.tagName.includes(\"-\") || element.getAttribute(\"is\")) {\n          return true;\n      }\n      return false;\n  }\n  function recordUndefinedElement(element) {\n      var tag = element.tagName.toLowerCase();\n      if (!tag.includes(\"-\")) {\n          var extendedTag = element.getAttribute(\"is\");\n          if (extendedTag) {\n              tag = extendedTag;\n          } else {\n              return;\n          }\n      }\n      if (!undefinedGroups.has(tag)) {\n          undefinedGroups.set(tag, new Set());\n          customElementsWhenDefined(tag).then(function () {\n              if (elementsDefinitionCallback) {\n                  var elements = undefinedGroups.get(tag);\n                  undefinedGroups.delete(tag);\n                  elementsDefinitionCallback(Array.from(elements));\n              }\n          });\n      }\n      undefinedGroups.get(tag).add(element);\n  }\n  function collectUndefinedElements(root) {\n      if (!isDefinedSelectorSupported) {\n          return;\n      }\n      forEach(\n          root.querySelectorAll(\":not(:defined)\"),\n          recordUndefinedElement\n      );\n  }\n  var canOptimizeUsingProxy = false;\n  document.addEventListener(\n      \"__darkreader__inlineScriptsAllowed\",\n      function () {\n          canOptimizeUsingProxy = true;\n      },\n      {once: true, passive: true}\n  );\n  var resolvers = new Map();\n  function handleIsDefined(e) {\n      canOptimizeUsingProxy = true;\n      var tag = e.detail.tag;\n      definedCustomElements.add(tag);\n      if (resolvers.has(tag)) {\n          var r = resolvers.get(tag);\n          resolvers.delete(tag);\n          r.forEach(function (r) {\n              return r();\n          });\n      }\n  }\n  function customElementsWhenDefined(tag) {\n      return __awaiter(this, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n              if (definedCustomElements.has(tag)) {\n                  return [2];\n              }\n              return [\n                  2,\n                  new Promise(function (resolve) {\n                      if (\n                          window.customElements &&\n                          typeof customElements.whenDefined === \"function\"\n                      ) {\n                          customElements.whenDefined(tag).then(function () {\n                              return resolve();\n                          });\n                      } else if (canOptimizeUsingProxy) {\n                          if (resolvers.has(tag)) {\n                              resolvers.get(tag).push(resolve);\n                          } else {\n                              resolvers.set(tag, [resolve]);\n                          }\n                          document.dispatchEvent(\n                              new CustomEvent(\n                                  \"__darkreader__addUndefinedResolver\",\n                                  {detail: {tag: tag}}\n                              )\n                          );\n                      } else {\n                          var checkIfDefined_1 = function () {\n                              var elements = undefinedGroups.get(tag);\n                              if (elements && elements.size > 0) {\n                                  if (\n                                      elements\n                                          .values()\n                                          .next()\n                                          .value.matches(\":defined\")\n                                  ) {\n                                      resolve();\n                                  } else {\n                                      requestAnimationFrame(checkIfDefined_1);\n                                  }\n                              }\n                          };\n                          requestAnimationFrame(checkIfDefined_1);\n                      }\n                  })\n              ];\n          });\n      });\n  }\n  function watchWhenCustomElementsDefined(callback) {\n      elementsDefinitionCallback = callback;\n  }\n  function unsubscribeFromDefineCustomElements() {\n      elementsDefinitionCallback = null;\n      undefinedGroups.clear();\n      document.removeEventListener(\n          \"__darkreader__isDefined\",\n          handleIsDefined\n      );\n  }\n  function watchForStyleChanges(currentStyles, update, shadowRootDiscovered) {\n      stopWatchingForStyleChanges();\n      var prevStyles = new Set(currentStyles);\n      var prevStyleSiblings = new WeakMap();\n      var nextStyleSiblings = new WeakMap();\n      function saveStylePosition(style) {\n          prevStyleSiblings.set(style, style.previousElementSibling);\n          nextStyleSiblings.set(style, style.nextElementSibling);\n      }\n      function forgetStylePosition(style) {\n          prevStyleSiblings.delete(style);\n          nextStyleSiblings.delete(style);\n      }\n      function didStylePositionChange(style) {\n          return (\n              style.previousElementSibling !== prevStyleSiblings.get(style) ||\n              style.nextElementSibling !== nextStyleSiblings.get(style)\n          );\n      }\n      currentStyles.forEach(saveStylePosition);\n      function handleStyleOperations(operations) {\n          var createdStyles = operations.createdStyles,\n              removedStyles = operations.removedStyles,\n              movedStyles = operations.movedStyles;\n          createdStyles.forEach(function (s) {\n              return saveStylePosition(s);\n          });\n          movedStyles.forEach(function (s) {\n              return saveStylePosition(s);\n          });\n          removedStyles.forEach(function (s) {\n              return forgetStylePosition(s);\n          });\n          createdStyles.forEach(function (s) {\n              return prevStyles.add(s);\n          });\n          removedStyles.forEach(function (s) {\n              return prevStyles.delete(s);\n          });\n          if (\n              createdStyles.size + removedStyles.size + movedStyles.size >\n              0\n          ) {\n              update({\n                  created: Array.from(createdStyles),\n                  removed: Array.from(removedStyles),\n                  moved: Array.from(movedStyles),\n                  updated: []\n              });\n          }\n      }\n      function handleMinorTreeMutations(_a) {\n          var additions = _a.additions,\n              moves = _a.moves,\n              deletions = _a.deletions;\n          var createdStyles = new Set();\n          var removedStyles = new Set();\n          var movedStyles = new Set();\n          additions.forEach(function (node) {\n              return getManageableStyles(node).forEach(function (style) {\n                  return createdStyles.add(style);\n              });\n          });\n          deletions.forEach(function (node) {\n              return getManageableStyles(node).forEach(function (style) {\n                  return removedStyles.add(style);\n              });\n          });\n          moves.forEach(function (node) {\n              return getManageableStyles(node).forEach(function (style) {\n                  return movedStyles.add(style);\n              });\n          });\n          handleStyleOperations({\n              createdStyles: createdStyles,\n              removedStyles: removedStyles,\n              movedStyles: movedStyles\n          });\n          additions.forEach(function (n) {\n              extendedIterateShadowHosts(n);\n              collectUndefinedElements(n);\n          });\n          additions.forEach(function (node) {\n              return isCustomElement(node) && recordUndefinedElement(node);\n          });\n      }\n      function handleHugeTreeMutations(root) {\n          var styles = new Set(getManageableStyles(root));\n          var createdStyles = new Set();\n          var removedStyles = new Set();\n          var movedStyles = new Set();\n          styles.forEach(function (s) {\n              if (!prevStyles.has(s)) {\n                  createdStyles.add(s);\n              }\n          });\n          prevStyles.forEach(function (s) {\n              if (!styles.has(s)) {\n                  removedStyles.add(s);\n              }\n          });\n          styles.forEach(function (s) {\n              if (\n                  !createdStyles.has(s) &&\n                  !removedStyles.has(s) &&\n                  didStylePositionChange(s)\n              ) {\n                  movedStyles.add(s);\n              }\n          });\n          handleStyleOperations({\n              createdStyles: createdStyles,\n              removedStyles: removedStyles,\n              movedStyles: movedStyles\n          });\n          extendedIterateShadowHosts(root);\n          collectUndefinedElements(root);\n      }\n      function handleAttributeMutations(mutations) {\n          var updatedStyles = new Set();\n          var removedStyles = new Set();\n          mutations.forEach(function (m) {\n              var target = m.target;\n              if (target.isConnected) {\n                  if (shouldManageStyle(target)) {\n                      updatedStyles.add(target);\n                  } else if (\n                      target instanceof HTMLLinkElement &&\n                      target.disabled\n                  ) {\n                      removedStyles.add(target);\n                  }\n              }\n          });\n          if (updatedStyles.size + removedStyles.size > 0) {\n              update({\n                  updated: Array.from(updatedStyles),\n                  created: [],\n                  removed: Array.from(removedStyles),\n                  moved: []\n              });\n          }\n      }\n      function observe(root) {\n          if (observedRoots.has(root)) {\n              return;\n          }\n          var treeObserver = createOptimizedTreeObserver(root, {\n              onMinorMutations: handleMinorTreeMutations,\n              onHugeMutations: handleHugeTreeMutations\n          });\n          var attrObserver = new MutationObserver(handleAttributeMutations);\n          attrObserver.observe(root, {\n              attributeFilter: [\"rel\", \"disabled\", \"media\", \"href\"],\n              subtree: true\n          });\n          observers.push(treeObserver, attrObserver);\n          observedRoots.add(root);\n      }\n      function subscribeForShadowRootChanges(node) {\n          var shadowRoot = node.shadowRoot;\n          if (shadowRoot == null || observedRoots.has(shadowRoot)) {\n              return;\n          }\n          observe(shadowRoot);\n          shadowRootDiscovered(shadowRoot);\n      }\n      function extendedIterateShadowHosts(node) {\n          iterateShadowHosts(node, subscribeForShadowRootChanges);\n      }\n      observe(document);\n      extendedIterateShadowHosts(document.documentElement);\n      watchWhenCustomElementsDefined(function (hosts) {\n          var newStyles = [];\n          hosts.forEach(function (host) {\n              return push(newStyles, getManageableStyles(host.shadowRoot));\n          });\n          update({created: newStyles, updated: [], removed: [], moved: []});\n          hosts.forEach(function (host) {\n              var shadowRoot = host.shadowRoot;\n              if (shadowRoot == null) {\n                  return;\n              }\n              subscribeForShadowRootChanges(host);\n              extendedIterateShadowHosts(shadowRoot);\n              collectUndefinedElements(shadowRoot);\n          });\n      });\n      document.addEventListener(\"__darkreader__isDefined\", handleIsDefined, {\n          passive: true\n      });\n      collectUndefinedElements(document);\n  }\n  function resetObservers() {\n      observers.forEach(function (o) {\n          return o.disconnect();\n      });\n      observers.splice(0, observers.length);\n      observedRoots = new WeakSet();\n  }\n  function stopWatchingForStyleChanges() {\n      resetObservers();\n      unsubscribeFromDefineCustomElements();\n  }\n\n  var adoptedStyleOverrides = new WeakMap();\n  var overrideList = new WeakSet();\n  function createAdoptedStyleSheetOverride(node) {\n      var cancelAsyncOperations = false;\n      function injectSheet(sheet, override) {\n          var newSheets = __spreadArray(\n              [],\n              __read(node.adoptedStyleSheets),\n              false\n          );\n          var sheetIndex = newSheets.indexOf(sheet);\n          var existingIndex = newSheets.indexOf(override);\n          if (sheetIndex === existingIndex - 1) {\n              return;\n          }\n          if (existingIndex >= 0) {\n              newSheets.splice(existingIndex, 1);\n          }\n          newSheets.splice(sheetIndex + 1, 0, override);\n          node.adoptedStyleSheets = newSheets;\n      }\n      function destroy() {\n          cancelAsyncOperations = true;\n          var newSheets = __spreadArray(\n              [],\n              __read(node.adoptedStyleSheets),\n              false\n          );\n          node.adoptedStyleSheets.forEach(function (adoptedStyleSheet) {\n              if (overrideList.has(adoptedStyleSheet)) {\n                  var existingIndex = newSheets.indexOf(adoptedStyleSheet);\n                  if (existingIndex >= 0) {\n                      newSheets.splice(existingIndex, 1);\n                  }\n                  adoptedStyleOverrides.delete(adoptedStyleSheet);\n                  overrideList.delete(adoptedStyleSheet);\n              }\n          });\n          node.adoptedStyleSheets = newSheets;\n      }\n      function render(theme, ignoreImageAnalysis) {\n          node.adoptedStyleSheets.forEach(function (sheet) {\n              if (overrideList.has(sheet)) {\n                  return;\n              }\n              var rules = sheet.rules;\n              var override = new CSSStyleSheet();\n              function prepareOverridesSheet() {\n                  for (var i = override.cssRules.length - 1; i >= 0; i--) {\n                      override.deleteRule(i);\n                  }\n                  injectSheet(sheet, override);\n                  adoptedStyleOverrides.set(sheet, override);\n                  overrideList.add(override);\n                  return override;\n              }\n              var sheetModifier = createStyleSheetModifier();\n              sheetModifier.modifySheet({\n                  prepareSheet: prepareOverridesSheet,\n                  sourceCSSRules: rules,\n                  theme: theme,\n                  ignoreImageAnalysis: ignoreImageAnalysis,\n                  force: false,\n                  isAsyncCancelled: function () {\n                      return cancelAsyncOperations;\n                  }\n              });\n          });\n      }\n      return {\n          render: render,\n          destroy: destroy\n      };\n  }\n\n  function injectProxy(\n      enableStyleSheetsProxy,\n      enableCustomElementRegistryProxy\n  ) {\n      document.dispatchEvent(\n          new CustomEvent(\"__darkreader__inlineScriptsAllowed\")\n      );\n      var addRuleDescriptor = Object.getOwnPropertyDescriptor(\n          CSSStyleSheet.prototype,\n          \"addRule\"\n      );\n      var insertRuleDescriptor = Object.getOwnPropertyDescriptor(\n          CSSStyleSheet.prototype,\n          \"insertRule\"\n      );\n      var deleteRuleDescriptor = Object.getOwnPropertyDescriptor(\n          CSSStyleSheet.prototype,\n          \"deleteRule\"\n      );\n      var removeRuleDescriptor = Object.getOwnPropertyDescriptor(\n          CSSStyleSheet.prototype,\n          \"removeRule\"\n      );\n      var documentStyleSheetsDescriptor = enableStyleSheetsProxy\n          ? Object.getOwnPropertyDescriptor(Document.prototype, \"styleSheets\")\n          : null;\n      var customElementRegistryDefineDescriptor =\n          enableCustomElementRegistryProxy\n              ? Object.getOwnPropertyDescriptor(\n                    CustomElementRegistry.prototype,\n                    \"define\"\n                )\n              : null;\n      var shouldWrapHTMLElement = [\n          \"baidu.com\",\n          \"baike.baidu.com\",\n          \"ditu.baidu.com\",\n          \"map.baidu.com\",\n          \"maps.baidu.com\",\n          \"haokan.baidu.com\",\n          \"pan.baidu.com\",\n          \"passport.baidu.com\",\n          \"tieba.baidu.com\",\n          \"www.baidu.com\"\n      ].includes(location.hostname);\n      var getElementsByTagNameDescriptor = shouldWrapHTMLElement\n          ? Object.getOwnPropertyDescriptor(\n                Element.prototype,\n                \"getElementsByTagName\"\n            )\n          : null;\n      var shouldProxyChildNodes = location.hostname === \"www.vy.no\";\n      var childNodesDescriptor = shouldProxyChildNodes\n          ? Object.getOwnPropertyDescriptor(Node.prototype, \"childNodes\")\n          : null;\n      var cleanUp = function () {\n          Object.defineProperty(\n              CSSStyleSheet.prototype,\n              \"addRule\",\n              addRuleDescriptor\n          );\n          Object.defineProperty(\n              CSSStyleSheet.prototype,\n              \"insertRule\",\n              insertRuleDescriptor\n          );\n          Object.defineProperty(\n              CSSStyleSheet.prototype,\n              \"deleteRule\",\n              deleteRuleDescriptor\n          );\n          Object.defineProperty(\n              CSSStyleSheet.prototype,\n              \"removeRule\",\n              removeRuleDescriptor\n          );\n          document.removeEventListener(\"__darkreader__cleanUp\", cleanUp);\n          document.removeEventListener(\n              \"__darkreader__addUndefinedResolver\",\n              addUndefinedResolver\n          );\n          if (enableStyleSheetsProxy) {\n              Object.defineProperty(\n                  Document.prototype,\n                  \"styleSheets\",\n                  documentStyleSheetsDescriptor\n              );\n          }\n          if (enableCustomElementRegistryProxy) {\n              Object.defineProperty(\n                  CustomElementRegistry.prototype,\n                  \"define\",\n                  customElementRegistryDefineDescriptor\n              );\n          }\n          if (shouldWrapHTMLElement) {\n              Object.defineProperty(\n                  Element.prototype,\n                  \"getElementsByTagName\",\n                  getElementsByTagNameDescriptor\n              );\n          }\n          if (shouldProxyChildNodes) {\n              Object.defineProperty(\n                  Node.prototype,\n                  \"childNodes\",\n                  childNodesDescriptor\n              );\n          }\n      };\n      var addUndefinedResolverInner = function (tag) {\n          customElements.whenDefined(tag).then(function () {\n              document.dispatchEvent(\n                  new CustomEvent(\"__darkreader__isDefined\", {\n                      detail: {tag: tag}\n                  })\n              );\n          });\n      };\n      var addUndefinedResolver = function (e) {\n          return addUndefinedResolverInner(e.detail.tag);\n      };\n      document.addEventListener(\"__darkreader__cleanUp\", cleanUp, {\n          passive: true\n      });\n      document.addEventListener(\n          \"__darkreader__addUndefinedResolver\",\n          addUndefinedResolver,\n          {passive: true}\n      );\n      var updateSheetEvent = new Event(\"__darkreader__updateSheet\");\n      function proxyAddRule(selector, style, index) {\n          addRuleDescriptor.value.call(this, selector, style, index);\n          if (\n              this.ownerNode &&\n              !(\n                  this.ownerNode.classList &&\n                  this.ownerNode.classList.contains(\"darkmode\")\n              )\n          ) {\n              this.ownerNode.dispatchEvent(updateSheetEvent);\n          }\n          return -1;\n      }\n      function proxyInsertRule(rule, index) {\n          var returnValue = insertRuleDescriptor.value.call(\n              this,\n              rule,\n              index\n          );\n          if (\n              this.ownerNode &&\n              !(\n                  this.ownerNode.classList &&\n                  this.ownerNode.classList.contains(\"darkmode\")\n              )\n          ) {\n              this.ownerNode.dispatchEvent(updateSheetEvent);\n          }\n          return returnValue;\n      }\n      function proxyDeleteRule(index) {\n          deleteRuleDescriptor.value.call(this, index);\n          if (\n              this.ownerNode &&\n              !(\n                  this.ownerNode.classList &&\n                  this.ownerNode.classList.contains(\"darkmode\")\n              )\n          ) {\n              this.ownerNode.dispatchEvent(updateSheetEvent);\n          }\n      }\n      function proxyRemoveRule(index) {\n          removeRuleDescriptor.value.call(this, index);\n          if (\n              this.ownerNode &&\n              !(\n                  this.ownerNode.classList &&\n                  this.ownerNode.classList.contains(\"darkmode\")\n              )\n          ) {\n              this.ownerNode.dispatchEvent(updateSheetEvent);\n          }\n      }\n      function proxyDocumentStyleSheets() {\n          var _this = this;\n          var getCurrentValue = function () {\n              var docSheets = documentStyleSheetsDescriptor.get.call(_this);\n              var filteredSheets = __spreadArray(\n                  [],\n                  __read(docSheets),\n                  false\n              ).filter(function (styleSheet) {\n                  return (\n                      styleSheet.ownerNode &&\n                      !(\n                          styleSheet.ownerNode.classList &&\n                          styleSheet.ownerNode.classList.contains(\n                              \"darkmode\"\n                          )\n                      )\n                  );\n              });\n              filteredSheets.item = function (item) {\n                  return filteredSheets[item];\n              };\n              return Object.setPrototypeOf(\n                  filteredSheets,\n                  StyleSheetList.prototype\n              );\n          };\n          var elements = getCurrentValue();\n          var styleSheetListBehavior = {\n              get: function (_, property) {\n                  return getCurrentValue()[property];\n              }\n          };\n          elements = new Proxy(elements, styleSheetListBehavior);\n          return elements;\n      }\n      function proxyCustomElementRegistryDefine(name, constructor, options) {\n          addUndefinedResolverInner(name);\n          customElementRegistryDefineDescriptor.value.call(\n              this,\n              name,\n              constructor,\n              options\n          );\n      }\n      function proxyGetElementsByTagName(tagName) {\n          var _this = this;\n          if (tagName !== \"style\") {\n              return getElementsByTagNameDescriptor.value.call(this, tagName);\n          }\n          var getCurrentElementValue = function () {\n              var elements = getElementsByTagNameDescriptor.value.call(\n                  _this,\n                  tagName\n              );\n              return Object.setPrototypeOf(\n                  __spreadArray([], __read(elements), false).filter(\n                      function (element) {\n                          return (\n                              element &&\n                              !(\n                                  element.classList &&\n                                  element.classList.contains(\"darkmode\")\n                              )\n                          );\n                      }\n                  ),\n                  NodeList.prototype\n              );\n          };\n          var elements = getCurrentElementValue();\n          var nodeListBehavior = {\n              get: function (_, property) {\n                  return getCurrentElementValue()[\n                      Number(property) || property\n                  ];\n              }\n          };\n          elements = new Proxy(elements, nodeListBehavior);\n          return elements;\n      }\n      function proxyChildNodes() {\n          var childNodes = childNodesDescriptor.get.call(this);\n          return Object.setPrototypeOf(\n              __spreadArray([], __read(childNodes), false).filter(\n                  function (element) {\n                      return (\n                          !element.classList ||\n                          !element.classList.contains(\"darkmode\")\n                      );\n                  }\n              ),\n              NodeList.prototype\n          );\n      }\n      Object.defineProperty(\n          CSSStyleSheet.prototype,\n          \"addRule\",\n          Object.assign({}, addRuleDescriptor, {value: proxyAddRule})\n      );\n      Object.defineProperty(\n          CSSStyleSheet.prototype,\n          \"insertRule\",\n          Object.assign({}, insertRuleDescriptor, {value: proxyInsertRule})\n      );\n      Object.defineProperty(\n          CSSStyleSheet.prototype,\n          \"deleteRule\",\n          Object.assign({}, deleteRuleDescriptor, {value: proxyDeleteRule})\n      );\n      Object.defineProperty(\n          CSSStyleSheet.prototype,\n          \"removeRule\",\n          Object.assign({}, removeRuleDescriptor, {value: proxyRemoveRule})\n      );\n      if (enableStyleSheetsProxy) {\n          Object.defineProperty(\n              Document.prototype,\n              \"styleSheets\",\n              Object.assign({}, documentStyleSheetsDescriptor, {\n                  get: proxyDocumentStyleSheets\n              })\n          );\n      }\n      if (enableCustomElementRegistryProxy) {\n          Object.defineProperty(\n              CustomElementRegistry.prototype,\n              \"define\",\n              Object.assign({}, customElementRegistryDefineDescriptor, {\n                  value: proxyCustomElementRegistryDefine\n              })\n          );\n      }\n      if (shouldWrapHTMLElement) {\n          Object.defineProperty(\n              Element.prototype,\n              \"getElementsByTagName\",\n              Object.assign({}, getElementsByTagNameDescriptor, {\n                  value: proxyGetElementsByTagName\n              })\n          );\n      }\n      if (shouldProxyChildNodes) {\n          Object.defineProperty(\n              Node.prototype,\n              \"childNodes\",\n              Object.assign({}, childNodesDescriptor, {get: proxyChildNodes})\n          );\n      }\n  }\n\n  var documentVisibilityListener = null;\n  var documentIsVisible_ = !document.hidden;\n  var listenerOptions = {\n      capture: true,\n      passive: true\n  };\n  function watchForDocumentVisibility() {\n      document.addEventListener(\n          \"visibilitychange\",\n          documentVisibilityListener,\n          listenerOptions\n      );\n      window.addEventListener(\n          \"pageshow\",\n          documentVisibilityListener,\n          listenerOptions\n      );\n      window.addEventListener(\n          \"focus\",\n          documentVisibilityListener,\n          listenerOptions\n      );\n  }\n  function stopWatchingForDocumentVisibility() {\n      document.removeEventListener(\n          \"visibilitychange\",\n          documentVisibilityListener,\n          listenerOptions\n      );\n      window.removeEventListener(\n          \"pageshow\",\n          documentVisibilityListener,\n          listenerOptions\n      );\n      window.removeEventListener(\n          \"focus\",\n          documentVisibilityListener,\n          listenerOptions\n      );\n  }\n  function setDocumentVisibilityListener(callback) {\n      var alreadyWatching = Boolean(documentVisibilityListener);\n      documentVisibilityListener = function () {\n          if (!document.hidden) {\n              removeDocumentVisibilityListener();\n              callback();\n              documentIsVisible_ = true;\n          }\n      };\n      if (!alreadyWatching) {\n          watchForDocumentVisibility();\n      }\n  }\n  function removeDocumentVisibilityListener() {\n      stopWatchingForDocumentVisibility();\n      documentVisibilityListener = null;\n  }\n  function documentIsVisible() {\n      return documentIsVisible_;\n  }\n\n  var INSTANCE_ID = generateUID();\n  var styleManagers = new Map();\n  var adoptedStyleManagers = [];\n  var filter = null;\n  var fixes = null;\n  var isIFrame$1 = null;\n  var ignoredImageAnalysisSelectors = [];\n  var ignoredInlineSelectors = [];\n  function createOrUpdateStyle(className, root) {\n      if (root === void 0) {\n          root = document.head || document;\n      }\n      var element = root.querySelector(\".\".concat(className));\n      if (!element) {\n          element = document.createElement(\"style\");\n          element.classList.add(\"darkmode\");\n          element.classList.add(className);\n          element.media = \"screen\";\n          element.textContent = \"\";\n      }\n      return element;\n  }\n  function createOrUpdateScript(className, root) {\n      if (root === void 0) {\n          root = document.head || document;\n      }\n      var element = root.querySelector(\".\".concat(className));\n      if (!element) {\n          element = document.createElement(\"script\");\n          element.classList.add(\"darkmode\");\n          element.classList.add(className);\n      }\n      return element;\n  }\n  var nodePositionWatchers = new Map();\n  function setupNodePositionWatcher(node, alias) {\n      nodePositionWatchers.has(alias) &&\n          nodePositionWatchers.get(alias).stop();\n      nodePositionWatchers.set(alias, watchForNodePosition(node, \"head\"));\n  }\n  function stopStylePositionWatchers() {\n      forEach(nodePositionWatchers.values(), function (watcher) {\n          return watcher.stop();\n      });\n      nodePositionWatchers.clear();\n  }\n  function createStaticStyleOverrides() {\n      var fallbackStyle = createOrUpdateStyle(\n          \"darkmode--fallback\",\n          document\n      );\n      fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n          strict: true\n      });\n      document.head.insertBefore(fallbackStyle, document.head.firstChild);\n      setupNodePositionWatcher(fallbackStyle, \"fallback\");\n      var userAgentStyle = createOrUpdateStyle(\"darkmode--user-agent\");\n      userAgentStyle.textContent = getModifiedUserAgentStyle(\n          filter,\n          isIFrame$1,\n          filter.styleSystemControls\n      );\n      document.head.insertBefore(userAgentStyle, fallbackStyle.nextSibling);\n      setupNodePositionWatcher(userAgentStyle, \"user-agent\");\n      var textStyle = createOrUpdateStyle(\"darkmode--text\");\n      if (filter.useFont || filter.textStroke > 0) {\n          textStyle.textContent = createTextStyle(filter);\n      } else {\n          textStyle.textContent = \"\";\n      }\n      document.head.insertBefore(textStyle, fallbackStyle.nextSibling);\n      setupNodePositionWatcher(textStyle, \"text\");\n      var invertStyle = createOrUpdateStyle(\"darkmode--invert\");\n      if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {\n          invertStyle.textContent = [\n              \"\".concat(fixes.invert.join(\", \"), \" {\"),\n              \"    filter: \".concat(\n                  getCSSFilterValue(\n                      __assign(__assign({}, filter), {\n                          contrast:\n                              filter.mode === 0\n                                  ? filter.contrast\n                                  : clamp(filter.contrast - 10, 0, 100)\n                      })\n                  ),\n                  \" !important;\"\n              ),\n              \"}\"\n          ].join(\"\\n\");\n      } else {\n          invertStyle.textContent = \"\";\n      }\n      document.head.insertBefore(invertStyle, textStyle.nextSibling);\n      setupNodePositionWatcher(invertStyle, \"invert\");\n      var inlineStyle = createOrUpdateStyle(\"darkmode--inline\");\n      inlineStyle.textContent = getInlineOverrideStyle();\n      document.head.insertBefore(inlineStyle, invertStyle.nextSibling);\n      setupNodePositionWatcher(inlineStyle, \"inline\");\n      var overrideStyle = createOrUpdateStyle(\"darkmode--override\");\n      overrideStyle.textContent =\n          fixes && fixes.css ? replaceCSSTemplates(fixes.css) : \"\";\n      document.head.appendChild(overrideStyle);\n      setupNodePositionWatcher(overrideStyle, \"override\");\n      var variableStyle = createOrUpdateStyle(\"darkmode--variables\");\n      var selectionColors = getSelectionColor(filter);\n      var _a = filter,\n          darkSchemeBackgroundColor = _a.darkSchemeBackgroundColor,\n          darkSchemeTextColor = _a.darkSchemeTextColor,\n          lightSchemeBackgroundColor = _a.lightSchemeBackgroundColor,\n          lightSchemeTextColor = _a.lightSchemeTextColor,\n          mode = _a.mode;\n      var schemeBackgroundColor =\n          mode === 0 ? lightSchemeBackgroundColor : darkSchemeBackgroundColor;\n      var schemeTextColor =\n          mode === 0 ? lightSchemeTextColor : darkSchemeTextColor;\n      schemeBackgroundColor = modifyBackgroundColor(\n          parseColorWithCache(schemeBackgroundColor),\n          filter\n      );\n      schemeTextColor = modifyForegroundColor(\n          parseColorWithCache(schemeTextColor),\n          filter\n      );\n      variableStyle.textContent = [\n          \":root {\",\n          \"   --darkmode-neutral-background: \".concat(\n              schemeBackgroundColor,\n              \";\"\n          ),\n          \"   --darkmode-neutral-text: \".concat(schemeTextColor, \";\"),\n          \"   --darkmode-selection-background: \".concat(\n              selectionColors.backgroundColorSelection,\n              \";\"\n          ),\n          \"   --darkmode-selection-text: \".concat(\n              selectionColors.foregroundColorSelection,\n              \";\"\n          ),\n          \"}\"\n      ].join(\"\\n\");\n      document.head.insertBefore(variableStyle, inlineStyle.nextSibling);\n      setupNodePositionWatcher(variableStyle, \"variables\");\n      var rootVarsStyle = createOrUpdateStyle(\"darkmode--root-vars\");\n      document.head.insertBefore(rootVarsStyle, variableStyle.nextSibling);\n      var enableStyleSheetsProxy = !(fixes && fixes.disableStyleSheetsProxy);\n      var enableCustomElementRegistryProxy = !(\n          fixes && fixes.disableCustomElementRegistryProxy\n      );\n      {\n          var proxyScript = createOrUpdateScript(\"darkmode--proxy\");\n          proxyScript.append(\n              \"(\"\n                  .concat(injectProxy, \")(\")\n                  .concat(enableStyleSheetsProxy, \", \")\n                  .concat(enableCustomElementRegistryProxy, \")\")\n          );\n          document.head.insertBefore(proxyScript, rootVarsStyle.nextSibling);\n          proxyScript.remove();\n      }\n  }\n  var shadowRootsWithOverrides = new Set();\n  function createShadowStaticStyleOverridesInner(root) {\n      var inlineStyle = createOrUpdateStyle(\"darkmode--inline\", root);\n      inlineStyle.textContent = getInlineOverrideStyle();\n      root.insertBefore(inlineStyle, root.firstChild);\n      var overrideStyle = createOrUpdateStyle(\"darkmode--override\", root);\n      overrideStyle.textContent =\n          fixes && fixes.css ? replaceCSSTemplates(fixes.css) : \"\";\n      root.insertBefore(overrideStyle, inlineStyle.nextSibling);\n      var invertStyle = createOrUpdateStyle(\"darkmode--invert\", root);\n      if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {\n          invertStyle.textContent = [\n              \"\".concat(fixes.invert.join(\", \"), \" {\"),\n              \"    filter: \".concat(\n                  getCSSFilterValue(\n                      __assign(__assign({}, filter), {\n                          contrast:\n                              filter.mode === 0\n                                  ? filter.contrast\n                                  : clamp(filter.contrast - 10, 0, 100)\n                      })\n                  ),\n                  \" !important;\"\n              ),\n              \"}\"\n          ].join(\"\\n\");\n      } else {\n          invertStyle.textContent = \"\";\n      }\n      root.insertBefore(invertStyle, overrideStyle.nextSibling);\n      shadowRootsWithOverrides.add(root);\n  }\n  function delayedCreateShadowStaticStyleOverrides(root) {\n      var observer = new MutationObserver(function (mutations, observer) {\n          var e_1, _a, e_2, _b;\n          observer.disconnect();\n          try {\n              for (\n                  var mutations_1 = __values(mutations),\n                      mutations_1_1 = mutations_1.next();\n                  !mutations_1_1.done;\n                  mutations_1_1 = mutations_1.next()\n              ) {\n                  var _c = mutations_1_1.value,\n                      type = _c.type,\n                      removedNodes = _c.removedNodes;\n                  if (type === \"childList\") {\n                      try {\n                          for (\n                              var _d =\n                                      ((e_2 = void 0),\n                                      __values(removedNodes)),\n                                  _e = _d.next();\n                              !_e.done;\n                              _e = _d.next()\n                          ) {\n                              var _f = _e.value,\n                                  nodeName = _f.nodeName,\n                                  className = _f.className;\n                              if (\n                                  nodeName === \"STYLE\" &&\n                                  [\n                                      \"darkmode darkmode--inline\",\n                                      \"darkmode darkmode--override\",\n                                      \"darkmode darkmode--invert\"\n                                  ].includes(className)\n                              ) {\n                                  createShadowStaticStyleOverridesInner(root);\n                                  return;\n                              }\n                          }\n                      } catch (e_2_1) {\n                          e_2 = {error: e_2_1};\n                      } finally {\n                          try {\n                              if (_e && !_e.done && (_b = _d.return))\n                                  _b.call(_d);\n                          } finally {\n                              if (e_2) throw e_2.error;\n                          }\n                      }\n                  }\n              }\n          } catch (e_1_1) {\n              e_1 = {error: e_1_1};\n          } finally {\n              try {\n                  if (\n                      mutations_1_1 &&\n                      !mutations_1_1.done &&\n                      (_a = mutations_1.return)\n                  )\n                      _a.call(mutations_1);\n              } finally {\n                  if (e_1) throw e_1.error;\n              }\n          }\n      });\n      observer.observe(root, {childList: true});\n  }\n  function createShadowStaticStyleOverrides(root) {\n      var uninit = root.firstChild === null;\n      createShadowStaticStyleOverridesInner(root);\n      if (uninit) {\n          delayedCreateShadowStaticStyleOverrides(root);\n      }\n  }\n  function replaceCSSTemplates($cssText) {\n      return $cssText.replace(/\\${(.+?)}/g, function (_, $color) {\n          var color = parseColorWithCache($color);\n          if (color) {\n              return modifyColor(color, filter);\n          }\n          return $color;\n      });\n  }\n  function cleanFallbackStyle() {\n      var fallback = document.querySelector(\".darkmode--fallback\");\n      if (fallback) {\n          fallback.textContent = \"\";\n      }\n  }\n  function createDynamicStyleOverrides() {\n      cancelRendering();\n      var allStyles = getManageableStyles(document);\n      var newManagers = allStyles\n          .filter(function (style) {\n              return !styleManagers.has(style);\n          })\n          .map(function (style) {\n              return createManager(style);\n          });\n      newManagers\n          .map(function (manager) {\n              return manager.details({secondRound: false});\n          })\n          .filter(function (detail) {\n              return detail && detail.rules.length > 0;\n          })\n          .forEach(function (detail) {\n              variablesStore.addRulesForMatching(detail.rules);\n          });\n      variablesStore.matchVariablesAndDependents();\n      variablesStore.setOnRootVariableChange(function () {\n          var rootVarsStyle = createOrUpdateStyle(\"darkmode--root-vars\");\n          variablesStore.putRootVars(rootVarsStyle, filter);\n      });\n      var rootVarsStyle = createOrUpdateStyle(\"darkmode--root-vars\");\n      variablesStore.putRootVars(rootVarsStyle, filter);\n      styleManagers.forEach(function (manager) {\n          return manager.render(filter, ignoredImageAnalysisSelectors);\n      });\n      if (loadingStyles.size === 0) {\n          cleanFallbackStyle();\n      }\n      newManagers.forEach(function (manager) {\n          return manager.watch();\n      });\n      var inlineStyleElements = toArray(\n          document.querySelectorAll(INLINE_STYLE_SELECTOR)\n      );\n      iterateShadowHosts(document.documentElement, function (host) {\n          createShadowStaticStyleOverrides(host.shadowRoot);\n          var elements = host.shadowRoot.querySelectorAll(\n              INLINE_STYLE_SELECTOR\n          );\n          if (elements.length > 0) {\n              push(inlineStyleElements, elements);\n          }\n      });\n      inlineStyleElements.forEach(function (el) {\n          return overrideInlineStyle(\n              el,\n              filter,\n              ignoredInlineSelectors,\n              ignoredImageAnalysisSelectors\n          );\n      });\n      handleAdoptedStyleSheets(document);\n  }\n  var loadingStylesCounter = 0;\n  var loadingStyles = new Set();\n  function createManager(element) {\n      var loadingStyleId = ++loadingStylesCounter;\n      function loadingStart() {\n          if (!isDOMReady() || !documentIsVisible()) {\n              loadingStyles.add(loadingStyleId);\n              logInfo(\n                  \"Current amount of styles loading: \".concat(\n                      loadingStyles.size\n                  )\n              );\n              var fallbackStyle = document.querySelector(\n                  \".darkmode--fallback\"\n              );\n              if (!fallbackStyle.textContent) {\n                  fallbackStyle.textContent = getModifiedFallbackStyle(\n                      filter,\n                      {strict: false}\n                  );\n              }\n          }\n      }\n      function loadingEnd() {\n          loadingStyles.delete(loadingStyleId);\n          logInfo(\n              \"Removed loadingStyle \"\n                  .concat(loadingStyleId, \", now awaiting: \")\n                  .concat(loadingStyles.size)\n          );\n          if (loadingStyles.size === 0 && isDOMReady()) {\n              cleanFallbackStyle();\n          }\n      }\n      function update() {\n          var details = manager.details({secondRound: true});\n          if (!details) {\n              return;\n          }\n          variablesStore.addRulesForMatching(details.rules);\n          variablesStore.matchVariablesAndDependents();\n          manager.render(filter, ignoredImageAnalysisSelectors);\n      }\n      var manager = manageStyle(element, {\n          update: update,\n          loadingStart: loadingStart,\n          loadingEnd: loadingEnd\n      });\n      styleManagers.set(element, manager);\n      return manager;\n  }\n  function removeManager(element) {\n      var manager = styleManagers.get(element);\n      if (manager) {\n          manager.destroy();\n          styleManagers.delete(element);\n      }\n  }\n  var throttledRenderAllStyles = throttle(function (callback) {\n      styleManagers.forEach(function (manager) {\n          return manager.render(filter, ignoredImageAnalysisSelectors);\n      });\n      adoptedStyleManagers.forEach(function (manager) {\n          return manager.render(filter, ignoredImageAnalysisSelectors);\n      });\n      callback && callback();\n  });\n  var cancelRendering = function () {\n      throttledRenderAllStyles.cancel();\n  };\n  function onDOMReady() {\n      if (loadingStyles.size === 0) {\n          cleanFallbackStyle();\n          return;\n      }\n  }\n  function runDynamicStyle() {\n      createDynamicStyleOverrides();\n      watchForUpdates();\n  }\n  function createThemeAndWatchForUpdates() {\n      createStaticStyleOverrides();\n      if (!documentIsVisible() && !filter.immediateModify) {\n          setDocumentVisibilityListener(runDynamicStyle);\n      } else {\n          runDynamicStyle();\n      }\n      changeMetaThemeColorWhenAvailable(filter);\n  }\n  function handleAdoptedStyleSheets(node) {\n      try {\n          if (Array.isArray(node.adoptedStyleSheets)) {\n              if (node.adoptedStyleSheets.length > 0) {\n                  var newManger = createAdoptedStyleSheetOverride(node);\n                  adoptedStyleManagers.push(newManger);\n                  newManger.render(filter, ignoredImageAnalysisSelectors);\n              }\n          }\n      } catch (err) {}\n  }\n  function watchForUpdates() {\n      var managedStyles = Array.from(styleManagers.keys());\n      watchForStyleChanges(\n          managedStyles,\n          function (_a) {\n              var created = _a.created,\n                  updated = _a.updated,\n                  removed = _a.removed,\n                  moved = _a.moved;\n              var stylesToRemove = removed;\n              var stylesToManage = created\n                  .concat(updated)\n                  .concat(moved)\n                  .filter(function (style) {\n                      return !styleManagers.has(style);\n                  });\n              var stylesToRestore = moved.filter(function (style) {\n                  return styleManagers.has(style);\n              });\n              stylesToRemove.forEach(function (style) {\n                  return removeManager(style);\n              });\n              var newManagers = stylesToManage.map(function (style) {\n                  return createManager(style);\n              });\n              newManagers\n                  .map(function (manager) {\n                      return manager.details({secondRound: false});\n                  })\n                  .filter(function (detail) {\n                      return detail && detail.rules.length > 0;\n                  })\n                  .forEach(function (detail) {\n                      variablesStore.addRulesForMatching(detail.rules);\n                  });\n              variablesStore.matchVariablesAndDependents();\n              newManagers.forEach(function (manager) {\n                  return manager.render(\n                      filter,\n                      ignoredImageAnalysisSelectors\n                  );\n              });\n              newManagers.forEach(function (manager) {\n                  return manager.watch();\n              });\n              stylesToRestore.forEach(function (style) {\n                  return styleManagers.get(style).restore();\n              });\n          },\n          function (shadowRoot) {\n              createShadowStaticStyleOverrides(shadowRoot);\n              handleAdoptedStyleSheets(shadowRoot);\n          }\n      );\n      watchForInlineStyles(\n          function (element) {\n              overrideInlineStyle(\n                  element,\n                  filter,\n                  ignoredInlineSelectors,\n                  ignoredImageAnalysisSelectors\n              );\n              if (element === document.documentElement) {\n                  var styleAttr = element.getAttribute(\"style\") || \"\";\n                  if (styleAttr.includes(\"--\")) {\n                      variablesStore.matchVariablesAndDependents();\n                      var rootVarsStyle = createOrUpdateStyle(\n                          \"darkmode--root-vars\"\n                      );\n                      variablesStore.putRootVars(rootVarsStyle, filter);\n                  }\n              }\n          },\n          function (root) {\n              createShadowStaticStyleOverrides(root);\n              var inlineStyleElements = root.querySelectorAll(\n                  INLINE_STYLE_SELECTOR\n              );\n              if (inlineStyleElements.length > 0) {\n                  forEach(inlineStyleElements, function (el) {\n                      return overrideInlineStyle(\n                          el,\n                          filter,\n                          ignoredInlineSelectors,\n                          ignoredImageAnalysisSelectors\n                      );\n                  });\n              }\n          }\n      );\n      addDOMReadyListener(onDOMReady);\n  }\n  function stopWatchingForUpdates() {\n      styleManagers.forEach(function (manager) {\n          return manager.pause();\n      });\n      stopStylePositionWatchers();\n      stopWatchingForStyleChanges();\n      stopWatchingForInlineStyles();\n      removeDOMReadyListener(onDOMReady);\n      cleanReadyStateCompleteListeners();\n  }\n  var metaObserver;\n  function addMetaListener() {\n      metaObserver = new MutationObserver(function () {\n          if (document.querySelector('meta[name=\"darkmode-lock\"]')) {\n              metaObserver.disconnect();\n              removeDynamicTheme();\n          }\n      });\n      metaObserver.observe(document.head, {childList: true, subtree: true});\n  }\n  function createDarkReaderInstanceMarker() {\n      var metaElement = document.createElement(\"meta\");\n      metaElement.name = \"darkmode\";\n      metaElement.content = INSTANCE_ID;\n      document.head.appendChild(metaElement);\n  }\n  function isAnotherDarkReaderInstanceActive() {\n      if (document.querySelector('meta[name=\"darkmode-lock\"]')) {\n          return true;\n      }\n      var meta = document.querySelector('meta[name=\"darkmode\"]');\n      if (meta) {\n          if (meta.content !== INSTANCE_ID) {\n              return true;\n          }\n          return false;\n      }\n      createDarkReaderInstanceMarker();\n      addMetaListener();\n      return false;\n  }\n  function createOrUpdateDynamicThemeInternal(\n      filterConfig,\n      dynamicThemeFixes,\n      iframe\n  ) {\n      filter = filterConfig;\n      fixes = dynamicThemeFixes;\n      if (fixes) {\n          ignoredImageAnalysisSelectors = Array.isArray(\n              fixes.ignoreImageAnalysis\n          )\n              ? fixes.ignoreImageAnalysis\n              : [];\n          ignoredInlineSelectors = Array.isArray(fixes.ignoreInlineStyle)\n              ? fixes.ignoreInlineStyle\n              : [];\n      } else {\n          ignoredImageAnalysisSelectors = [];\n          ignoredInlineSelectors = [];\n      }\n      if (filter.immediateModify) {\n          setIsDOMReady(function () {\n              return true;\n          });\n      }\n      isIFrame$1 = iframe;\n      if (document.head) {\n          if (isAnotherDarkReaderInstanceActive()) {\n              removeDynamicTheme();\n              return;\n          }\n          document.documentElement.setAttribute(\n              \"data-darkmode-mode\",\n              \"dynamic\"\n          );\n          document.documentElement.setAttribute(\n              \"data-darkmode-scheme\",\n              filter.mode ? \"dark\" : \"dimmed\"\n          );\n          createThemeAndWatchForUpdates();\n      } else {\n          if (!isFirefox) {\n              var fallbackStyle = createOrUpdateStyle(\"darkmode--fallback\");\n              document.documentElement.appendChild(fallbackStyle);\n              fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n                  strict: true\n              });\n          }\n          var headObserver_1 = new MutationObserver(function () {\n              if (document.head) {\n                  headObserver_1.disconnect();\n                  if (isAnotherDarkReaderInstanceActive()) {\n                      removeDynamicTheme();\n                      return;\n                  }\n                  createThemeAndWatchForUpdates();\n              }\n          });\n          headObserver_1.observe(document, {childList: true, subtree: true});\n      }\n  }\n  function removeProxy() {\n      document.dispatchEvent(new CustomEvent(\"__darkreader__cleanUp\"));\n      removeNode(document.head.querySelector(\".darkmode--proxy\"));\n  }\n  function removeDynamicTheme() {\n      document.documentElement.removeAttribute(\"data-darkmode-mode\");\n      document.documentElement.removeAttribute(\"data-darkmode-scheme\");\n      cleanDynamicThemeCache();\n      removeNode(document.querySelector(\".darkmode--fallback\"));\n      if (document.head) {\n          restoreMetaThemeColor();\n          removeNode(document.head.querySelector(\".darkmode--user-agent\"));\n          removeNode(document.head.querySelector(\".darkmode--text\"));\n          removeNode(document.head.querySelector(\".darkmode--invert\"));\n          removeNode(document.head.querySelector(\".darkmode--inline\"));\n          removeNode(document.head.querySelector(\".darkmode--override\"));\n          removeNode(document.head.querySelector(\".darkmode--variables\"));\n          removeNode(document.head.querySelector(\".darkmode--root-vars\"));\n          removeNode(document.head.querySelector('meta[name=\"darkmode\"]'));\n          removeProxy();\n      }\n      shadowRootsWithOverrides.forEach(function (root) {\n          removeNode(root.querySelector(\".darkmode--inline\"));\n          removeNode(root.querySelector(\".darkmode--override\"));\n      });\n      shadowRootsWithOverrides.clear();\n      forEach(styleManagers.keys(), function (el) {\n          return removeManager(el);\n      });\n      loadingStyles.clear();\n      cleanLoadingLinks();\n      forEach(document.querySelectorAll(\".darkmode\"), removeNode);\n      adoptedStyleManagers.forEach(function (manager) {\n          manager.destroy();\n      });\n      adoptedStyleManagers.splice(0);\n      metaObserver && metaObserver.disconnect();\n  }\n  function cleanDynamicThemeCache() {\n      variablesStore.clear();\n      parsedURLCache.clear();\n      removeDocumentVisibilityListener();\n      cancelRendering();\n      stopWatchingForUpdates();\n      cleanModificationCache();\n      clearColorCache();\n  }\n\n  var blobRegex = /url\\(\\\"(blob\\:.*?)\\\"\\)/g;\n  function replaceBlobs(text) {\n      return __awaiter(this, void 0, void 0, function () {\n          var promises, data;\n          return __generator(this, function (_a) {\n              switch (_a.label) {\n                  case 0:\n                      promises = [];\n                      getMatches(blobRegex, text, 1).forEach(function (url) {\n                          var promise = loadAsDataURL(url);\n                          promises.push(promise);\n                      });\n                      return [4, Promise.all(promises)];\n                  case 1:\n                      data = _a.sent();\n                      return [\n                          2,\n                          text.replace(blobRegex, function () {\n                              return 'url(\"'.concat(data.shift(), '\")');\n                          })\n                      ];\n              }\n          });\n      });\n  }\n  var banner =\n      '/*\\n                        _______\\n                       /       \\\\\\n                      .==.    .==.\\n                     ((  ))==((  ))\\n                    / \"==\"    \"==\"\\\\\\n                   /____|| || ||___\\\\\\n       ________     ____    ________  ___    ___\\n       |  ___  \\\\   /    \\\\   |  ___  \\\\ |  |  /  /\\n       |  |  \\\\  \\\\ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |_/  /\\n       |  |   )  /  /__\\\\  \\\\ |  |__/  /|  ___  \\\\\\n       |  |__/  /  ______  \\\\|  ____  \\\\|  |  \\\\  \\\\\\n_______|_______/__/ ____ \\\\__\\\\__|___\\\\__\\\\__|___\\\\__\\\\____\\n|  ___  \\\\ |  ____/ /    \\\\   |  ___  \\\\ |  ____|  ___  \\\\\\n|  |  \\\\  \\\\|  |___ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |___|  |  \\\\  \\\\\\n|  |__/  /|  ____/  /__\\\\  \\\\ |  |   )  |  ____|  |__/  /\\n|  ____  \\\\|  |__/  ______  \\\\|  |__/  /|  |___|  ____  \\\\\\n|__|   \\\\__\\\\____/__/      \\\\__\\\\_______/ |______|__|   \\\\__\\\\\\n                https://darkmode.org\\n*/\\n\\n/*! Dark reader generated CSS | Licensed under MIT https://github.com/darkmode/darkmode/blob/main/LICENSE */\\n';\n  function collectCSS() {\n      return __awaiter(this, void 0, void 0, function () {\n          function addStaticCSS(selector, comment) {\n              var staticStyle = document.querySelector(selector);\n              if (staticStyle && staticStyle.textContent) {\n                  css.push(\"/* \".concat(comment, \" */\"));\n                  css.push(staticStyle.textContent);\n                  css.push(\"\");\n              }\n          }\n          var css, modifiedCSS, formattedCSS, _a, _b;\n          return __generator(this, function (_c) {\n              switch (_c.label) {\n                  case 0:\n                      css = [banner];\n                      addStaticCSS(\".darkmode--fallback\", \"Fallback Style\");\n                      addStaticCSS(\n                          \".darkmode--user-agent\",\n                          \"User-Agent Style\"\n                      );\n                      addStaticCSS(\".darkmode--text\", \"Text Style\");\n                      addStaticCSS(\".darkmode--invert\", \"Invert Style\");\n                      addStaticCSS(\n                          \".darkmode--variables\",\n                          \"Variables Style\"\n                      );\n                      modifiedCSS = [];\n                      document\n                          .querySelectorAll(\".darkmode--sync\")\n                          .forEach(function (element) {\n                              forEach(\n                                  element.sheet.cssRules,\n                                  function (rule) {\n                                      rule &&\n                                          rule.cssText &&\n                                          modifiedCSS.push(rule.cssText);\n                                  }\n                              );\n                          });\n                      if (!modifiedCSS.length) return [3, 2];\n                      formattedCSS = formatCSS(modifiedCSS.join(\"\\n\"));\n                      css.push(\"/* Modified CSS */\");\n                      _b = (_a = css).push;\n                      return [4, replaceBlobs(formattedCSS)];\n                  case 1:\n                      _b.apply(_a, [_c.sent()]);\n                      css.push(\"\");\n                      _c.label = 2;\n                  case 2:\n                      addStaticCSS(\".darkmode--override\", \"Override Style\");\n                      return [2, css.join(\"\\n\")];\n              }\n          });\n      });\n  }\n\n  var isDarkReaderEnabled = false;\n  var isIFrame = (function () {\n      try {\n          return window.self !== window.top;\n      } catch (err) {\n          console.warn(err);\n          return true;\n      }\n  })();\n  function enable(themeOptions, fixes) {\n      if (themeOptions === void 0) {\n          themeOptions = {};\n      }\n      if (fixes === void 0) {\n          fixes = null;\n      }\n      var theme = __assign(__assign({}, DEFAULT_THEME), themeOptions);\n      if (theme.engine !== ThemeEngine.dynamicTheme) {\n          throw new Error(\"Theme engine is not supported.\");\n      }\n      createOrUpdateDynamicThemeInternal(theme, fixes, isIFrame);\n      isDarkReaderEnabled = true;\n  }\n  function isEnabled() {\n      return isDarkReaderEnabled;\n  }\n  function disable() {\n      removeDynamicTheme();\n      isDarkReaderEnabled = false;\n  }\n  var darkScheme = matchMedia(\"(prefers-color-scheme: dark)\");\n  var store = {\n      themeOptions: null,\n      fixes: null\n  };\n  function handleColorScheme() {\n      if (darkScheme.matches) {\n          enable(store.themeOptions, store.fixes);\n      } else {\n          disable();\n      }\n  }\n  function auto(themeOptions, fixes) {\n      if (themeOptions === void 0) {\n          themeOptions = {};\n      }\n      if (fixes === void 0) {\n          fixes = null;\n      }\n      if (themeOptions) {\n          store = {themeOptions: themeOptions, fixes: fixes};\n          handleColorScheme();\n          if (isMatchMediaChangeEventListenerSupported) {\n              darkScheme.addEventListener(\"change\", handleColorScheme);\n          } else {\n              darkScheme.addListener(handleColorScheme);\n          }\n      } else {\n          if (isMatchMediaChangeEventListenerSupported) {\n              darkScheme.removeEventListener(\"change\", handleColorScheme);\n          } else {\n              darkScheme.removeListener(handleColorScheme);\n          }\n          disable();\n      }\n  }\n  function exportGeneratedCSS() {\n      return __awaiter(this, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n              switch (_a.label) {\n                  case 0:\n                      return [4, collectCSS()];\n                  case 1:\n                      return [2, _a.sent()];\n              }\n          });\n      });\n  }\n  var setFetchMethod = setFetchMethod$1;\n\n  exports.auto = auto;\n  exports.disable = disable;\n  exports.enable = enable;\n  exports.exportGeneratedCSS = exportGeneratedCSS;\n  exports.isEnabled = isEnabled;\n  exports.setFetchMethod = setFetchMethod;\n\n  Object.defineProperty(exports, \"__esModule\", {value: true});\n});\n","import Store from './../common/Store.js';\nimport WPDarkMode from './../common/WPDarkMode';\nimport './../common/DarkModeAdmin.js';\n\nclass DarkMode {\n    constructor(){\n        this.initDarkMode();\n        document.addEventListener('DOMContentLoaded', this.loaded.bind(this));\n    }\n\n    /**\n     * Init dark mode\n     */\n    initDarkMode(){\n        // Remove loading attribute.\n        this.html?.removeAttribute('data-wp-dark-mode-loading');\n    \n        // On change of dark mode.\n        WPDarkMode.onChange(() => {\n            this.applyMode( WPDarkMode.isActive );\n\n            // Update switch.\n            const switchElement = document.querySelector('.wp-dark-mode-admin-bar-switch .switch');\n\n            if ( switchElement ) {\n                switchElement.classList.toggle('active', WPDarkMode.isActive);\n            }\n\n            // Set store.\n            Store.set('admin', WPDarkMode.isActive);\n        });\n       \n        // Apply dark mode if saved.\n        const is_saved = Store.get('admin') === true || Store.get('admin') === 'true';\n        // console.log('is_saved', is_saved);\n        \n        if ( is_saved ) {\n            this.applyMode( true );\n        }\n    }\n\n    /**\n     * Apply dark mode\n     */\n    applyMode = ( dark = true ) => {\n        if ( dark ) {\n            DarkModeAuto.enable({\n                brightness: 100,\n                contrast: 90,\n                sepia: 10,\n            }, {\n                ignoreInlineStyle: '.wp-dark-mode-ignore, .wp-dark-mode-switch, #adminmenumain, #adminmenuwrap, #adminmenuback, #adminmenu',\n            });\n        } else {\n            DarkModeAuto.disable();\n        }\n    }\n\n    throttle = null;\n\n    // Loaded.\n    loaded(){\n        this.handleExcludes()\n        this.listenSwitch();\n        const is_saved = Store.get('admin') === true || Store.get('admin') === 'true';\n        if ( is_saved ) {\n            WPDarkMode.deactivate();\n            WPDarkMode.activate();\n        }\n\n        // On mutation.\n        // const observer = new MutationObserver((mutations) => {\n        //     mutations.forEach((mutation) => {\n        //         if ( mutation.type === 'childList' ) {\n\n        //             if ( this.throttle ) {\n        //                 return;\n        //             }\n        //            if ( true ) {\n        //                 this.handleExcludes();\n        //                 WPDarkMode.activate();\n        //            }\n\n        //             this.throttle = setTimeout(() => {\n        //                 clearTimeout(this.throttle);\n        //             }, 500);\n        //         }\n        //     });\n        // });\n\n        // observer.observe(document.body, {\n        //     childList: true,\n        //     subtree: true,\n        // });\n    }\n\n    // Handle excludes\n    handleExcludes(){\n        // Exclude the following elements\n        const elements = document?.querySelectorAll(\n            `.wp-dark-mode-ignore, .wp-dark-mode-switch, #adminmenumain, #adminmenuwrap, #adminmenuback, #adminmenu, .components-form-toggle,\n            .jp-masthead__logo-link`);\n        if (elements) {\n            // Log('Ignore elements', elements)\n            elements.forEach(element => {\n                const ignoreRecursively = el => {\n    \n                    // Bail, if element is not valid.\n                    if ( ! el ) return;\n    \n                    // If el not intance of html.\n                    if ( ! (el instanceof HTMLElement) ) {\n                        return;\n                    }\n    \n                    // Bail, if element has .wp-dark-mode-include class.\n                    // if ( el.classList.includes('wp-dark-mode-include') ) return;\n    \n    \n                    // Log('current el', el);\n\n                    \n                    // Add class.\n                    el.classList.add('wp-dark-mode-ignore');\n    \n                    // // if has background color, make it important.\n                    // const { backgroundColor, color, borderColor } = window.getComputedStyle(el) || {};\n    \n                    // // Log('backgroundColor', backgroundColor, color, borderColor);\n                    \n                    // if ( backgroundColor !== 'rgba(0, 0, 0, 0)' ) {\n                    // \tel.style.backgroundColor = `${backgroundColor} !important`;\n                    // }\n    \n                    // // If has color, border color, make it important.\n                    // if ( color !== 'rgba(0, 0, 0, 0)' ) {\n                    // \tel.style.color = `${color} !important`;\n                    // }\n    \n                    // // If has border color, make it important.\n                    // if ( borderColor !== 'rgba(0, 0, 0, 0)' ) {\n                    // \tel.style.borderColor = `${borderColor} !important`;\n                    // }\n    \n                    // if has children, apply recursively.\n                    if ( el.childNodes && el.childNodes.length ) {\n                    \tel.childNodes.forEach(child => {\n                    \t\tignoreRecursively(child);\n                    \t});\n                    }\n                }\n    \n                ignoreRecursively(element);\n            });\n        }\n    \n    }\n\n    // HTML.\n    get isActive(){\n        return this.html?.classList.contains('wp-dark-mode-active');\n    }\n\n    // Listen switch\n    listenSwitch(){\n        document.addEventListener('click', (e) => {\n            if ( ! e.target.closest('.wp-dark-mode-admin-bar-switch') ) return;\n\n            if ( ! WPDarkMode.isActive ) {\n                WPDarkMode.activate();\n            } else {\n                WPDarkMode.deactivate();\n            }\n        });\n    }\n}\n\nnew DarkMode()"],"names":["_Store","key","value","daysToExpire","expires","cookies","cookie","cookieKey","cookieValue","item","__publicField","Store","WPDarkMode","_a","__privateAdd","_callbacks","_config","__privateGet","_instance","__privateSet","callback","active","config","global","factory","this","exports","__assign","s","i","n","p","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","reject","fulfilled","step","e","rejected","result","__generator","body","_","t","f","y","g","verb","v","op","__values","o","m","__read","r","ar","error","__spreadArray","to","from","pack","l","MessageTypeUItoBG","MessageTypeBGtoUI","DebugMessageTypeBGtoUI","MessageTypeBGtoCS","DebugMessageTypeBGtoCS","MessageTypeCStoBG","DebugMessageTypeCStoBG","MessageTypeCStoUI","MessageTypeUItoCS","isNavigatorDefined","userAgent","brand","platform","isChromium","isFirefox","isSafari","isWindows","isMacOS","isShadowDomSupported","isMatchMediaChangeEventListenerSupported","isDefinedSelectorSupported","isCSSColorSchemePropSupported","el","getOKResponse","url","mimeType","origin","response","loadAsDataURL","readResponseAsDataURL","blob","dataURL","reader","throwCORSError","fetcher","setFetchMethod$1","fetch","callFetchMethod","messageListeners","sendMessage","args","_i","id_1","responseType","text_1","error_1","_b","cb","addMessageListener","nativeSendMessage_1","nativeAddListener_1","ThemeEngine","AutomationMode","DEFAULT_COLORS","DEFAULT_THEME","isArrayLike","items","forEach","iterator","e_1","len","items_1","items_1_1","e_1_1","push","array","addition","a","toArray","results","logInfo","logWarn","throttle","pending","frameId","lastArgs","throttled","cancel","createAsyncTasksQueue","tasks","runTasks","task","add","getDuration","time","duration","removeNode","node","watchForNodePosition","mode","onRestore","MAX_ATTEMPTS_COUNT","RETRY_TIMEOUT","ATTEMPTS_INTERVAL","prevSibling","parent","attempts","start","timeoutId","restore","now","stop","updateParent","observer","run","skip","parentNode","iterateShadowHosts","root","walker","isDOMReady","setIsDOMReady","newFunc","readyStateListeners","addDOMReadyListener","listener","removeDOMReadyListener","isReadyStateComplete","readyStateCompleteListeners","addReadyStateCompleteListener","cleanReadyStateCompleteListeners","onReadyStateChange_1","HUGE_MUTATIONS_COUNT","isHugeMutation","mutations","addedNodesCount","getElementsTreeOperations","additions","deletions","moves","duplicateAdditions","duplicateDeletions","optimizedTreeObservers","optimizedTreeCallbacks","createOptimizedTreeObserver","callbacks","observerCallbacks","domReadyListener","hadHugeMutationsBefore_1","subscribedForReadyState_1","onHugeMutations","elementsOperations_1","onMinorMutations","anchor","parsedURLCache","fixBaseURL","$url","parseURL","$base","parsedURL_1","parsedURL","getAbsoluteURL","$relative","b","isRelativeHrefOnAbsolutePath","href","iterateCSSRules","rules","iterate","onMediaRuleError","rule","media","isScreenOrAllOrQuery","isPrintOrSpeech","shorthandVarDependantProperties","shorthandVarDepPropRegexps","prop","regexp","iterateCSSDeclarations","style","property","cssText","match","val","cssURLRegex","cssImportRegex","getCSSURLValue","cssURL","getCSSBaseBath","replaceCSSRelativeURLsWithAbsolute","$css","cssBasePath","pathValue","cssCommentsRegex","removeCSSComments","fontFaceRegex","replaceCSSFontFace","evalMath","expression","rpnStack","workingStack","lastToken","token","operators","currentOp","stack","Operator","precedence","method","left","right","getMatches","regex","input","group","matches","formatCSS","text","trimLeft","getIndent","depth","emptyRuleRegexp","css","formatted","x","line","getParenthesesRange","searchStartIndex","length","firstOpenIndex","openIndex","closingIndex","hslaParseCache","rgbaParseCache","parseColorWithCache","$color","lowerCalcExpression","color","parse","parseToHSLWithCache","rgb","hsl","rgbToHSL","clearColorCache","hslToRGB","h","_c","r_1","b_1","g_1","c","_d","r255","g255","b255","max","min","toFixed","digits","fixed","dot","zerosMatch","rgbToString","rgbToHexString","hslToString","rgbMatch","hslMatch","hexMatch","parseRGB","parseHSL","parseHex","knownColors","getColorByName","systemColors","getSystemColor","getNumbers","numbers","prevPos","isMining","startIndex","getNumbersFromString","str","range","units","raw","unitsList","unit","u","rgbRange","rgbUnits","$rgb","hslRange","hslUnits","$hsl","$hex","searchIndex","replaceBetweenIndices","end","replacement","slice","includesPercentage","output","getSRGBLightness","scale","inLow","inHigh","outLow","outHigh","clamp","multiplyMatrices","m1","m2","j","len2","sum","k","len3","createFilterMatrix","Matrix","applyColorMatrix","matrix","getBgPole","theme","isDarkScheme","getFgPole","colorModificationCache","clearColorModificationCache","rgbCacheKeys","themeCacheKeys$1","getCacheId","resultId","modifyColorWithCache","modifyHSL","poleColor","anotherPoleColor","fnCache","id","pole","anotherPole","modified","rf","gf","bf","noopHSL","modifyColor","modifyLightSchemeColor","poleBg","poleFg","modifyLightModeHSL","isDark","isNeutral","isBlue","hx","sx","lx","MAX_BG_LIGHTNESS","modifyBgHSL","lx_1","hx_1","hx_2","isYellow","isCloserToGreen","modifyBackgroundColor","MIN_FG_LIGHTNESS","modifyBlueFgHue","hue","modifyFgHSL","isLight","lx_2","hx_3","hx_4","hx_5","lx_3","modifyForegroundColor","modifyBorderHSL","modifyBorderColor","modifyShadowColor","filter","modifyGradientColor","createTextStyle","lines","FilterMode","getCSSFilterValue","filters","toSVGMatrix","getSVGFilterMatrixValue","hexify","number","generateUID","uuid","resolvers$1","rejectors","bgFetch","request","type","data","AsyncQueue","entry","_this","imageManager","getImageDetails","image_1","error_2","getImageDataURL","urlToImage","analysis","analyzeImage","image","MAX_ANALYSIS_PIXELS_COUNT","canvas","context","createCanvas","maxWidth","maxHeight","removeCanvas","LARGE_IMAGE_PIXELS_COUNT","naturalWidth","naturalHeight","naturalPixelsCount","width","height","imageData","d","TRANSPARENT_ALPHA_THRESHOLD","DARK_LIGHTNESS_THRESHOLD","LIGHT_LIGHTNESS_THRESHOLD","transparentPixelsCount","darkPixelsCount","lightPixelsCount","totalPixelsCount","opaquePixelsCount","DARK_IMAGE_THRESHOLD","LIGHT_IMAGE_THRESHOLD","TRANSPARENT_IMAGE_THRESHOLD","getFilteredImageDataURL","svg","cleanImageProcessingCache","gradientLength","conicGradient","conicGradientLength","radialGradient","linearGradient","parseGradient","index","_loop_1","typeGradient","possibleType","possibleGradient","state_1","getPriority","ruleStyle","getModifiableCSSDeclaration","variablesStore","ignoreImageSelectors","isCancelled","modifier","getVariableModifier","getVariableDependantModifier","getColorModifier","getBgImageModifier","getShadowModifier","joinSelectors","selectors","getModifiedUserAgentStyle","isIFrame","styleSystemControls","bgSelectors","getModifiedScrollbarStyle","getModifiedSelectionStyle","getSelectionColor","backgroundColorSelection","foregroundColorSelection","modifiedSelectionColor","selection","colorTrack","colorIcons","colorThumb","colorThumbHover","colorThumbActive","colorCorner","hsl_1","lighten","lighter","darken","darker","getModifiedFallbackStyle","strict","defaultFallbackFactory","isMicrosoft","unparsableColors","imageDetailsCache","awaitingForImageLoading","shouldIgnoreImage","selectorText","ruleSelectors","ignoredSelector","gradients","urls","getIndices","valueIndex","matches_1","getGradientModifier_1","gradient","hasComma","partsRegex","colorStopRegex","parts","part","space","colorStopMatch","modify","getURLModifier_1","urlValue","isURLEmpty","parentStyleSheet","baseURL","absoluteValue","imageDetails","awaiters_1","err_1","bgImageValue","getBgImageValue_1","isTransparent","isLarge","inverted","dimmed","filtered","modifiers_1","matchIndex_1","prevHasComma_1","offset","matchStart","prefixStart","matchEnd","betweenValue","asyncResults","combinedResult","getShadowModifierWithInfo","index_1","colorMatches_1","notParsed_1","modifiers_2","prefixIndex","matchIndex","shadowModifier","ignoredImgSelectors","cleanModificationCache","VAR_TYPE_BGCOLOR","VAR_TYPE_TEXTCOLOR","VAR_TYPE_BORDERCOLOR","VAR_TYPE_BGIMG","VariablesStore","varName","typeNum","refs","hasColor","ref","options","sourceValue","getDeclarations","declarations","addModifiedValue","varNameWrapper","colorModifier","modifiedValue","isVarDependant","isConstructedColorVar","insertVarValues","replaceCSSVariablesNames","fallback","wrapBgColorVariableName","tryModifyBgColor","wrapTextColorVariableName","tryModifyTextColor","wrapBorderColorVariableName","tryModifyBorderColor","wrapBgImgVariableName","bgModifier","addListener","onTypeChange","decs","removeListeners","isBg_1","isText_1","isTextColorProperty","unknownVars","variableReplaced","modifiedShadow","firstUnknownVar","newValue","rootStore","ruleList","isVariable","isColor","rawValueRegex","initialType","currentType","newType","isBgColor","varDeps","iterateVarDependencies","refs_1","refs_1_1","found","styleElement","e_2","sheet","cssLines","declarations_1","declarations_1_1","e_2_1","getVariableRange","searchStart","getVariablesMatches","ranges","replaceVariablesMatches","replacer","matchesCount","inputLength","replacements","getVariableNameAndFallback","commaIndex","name","nameReplacer","fallbackReplacer","matchReplacer","newName","newFallback","parseRawValue","splitted","resultInRGB_1","handleRawValue","modifyFunction","isRaw","newColor","outputColor","outputInRGB","source","varValues","containsUnresolvedVar","varValue","inserted","replaced","overrides","overridesList","normalizedPropList","cssProp","customProp","INLINE_STYLE_ATTRS","INLINE_STYLE_SELECTOR","attr","getInlineOverrideStyle","dataAttr","getInlineStyleElements","treeObservers","attrObservers","watchForInlineStyles","elementStyleDidChange","shadowRootDiscovered","deepWatchForInlineStyles","host","discoveredNodes","discoverNodes","treeObserver","added","attemptCount","cache","handleAttributeMutations","handledTargets","target","attrObserver","attributeCache","stopWatchingForInlineStyles","inlineStyleCache","filterProps","getInlineStyleCacheKey","shouldIgnoreInlineStyle","element","ingnoredSelector","overrideInlineStyle","ignoreInlineSelectors","cacheKey","unsetProps","setCustomProp","targetCSSProp","modifierCSSProp","cssVal","isPropertyVariable","mod","typedValue","SMALL_SVG_LIMIT_1","value_1","handleSVGElement","isBg","overridenProp","metaThemeColorName","metaThemeColorSelector","srcMetaThemeColor","changeMetaThemeColor","meta","changeMetaThemeColorWhenAvailable","loop","addedNodes","restoreMetaThemeColor","themeCacheKeys","getThemeKey","resultKey","asyncQueue","createStyleSheetModifier","renderId","rulesTextCache","rulesModCache","varTypeChangeCleaners","prevFilterKey","hasNonLoadedLink","wasRebuilt","shouldRebuildStyle","modifySheet","ignoreImageAnalysis","force","prepareSheet","isAsyncCancelled","rulesChanged","notFoundCacheKeys","themeKey","themeChanged","modRules","textDiffersFromPrev","modDecs","modRule","parentRule","setRule","selector","getDeclarationText","dec","important","cssRulesText","ruleText","asyncDeclarations","varDeclarations","asyncDeclarationCounter","varDeclarationCounter","rootReadyGroup","groupRefs","getGroup","parentGroup","clear","readyStyleRule","readyDeclarations","handleAsyncDeclaration","asyncKey","asyncDeclaration","currentRenderId","asyncValue","rebuildAsyncRule","handleVarDeclarations","varDecs","varKey","initialIndex","oldDecs","tempDec","readyDec","newDecs","readyVarDecs","rebuildVarRule","buildStyleSheet","createTarget","iterateReadyRules","styleIterator","STYLE_SELECTOR","isFontsGoogleApiStyle","elementURL","shouldManageStyle","getManageableStyles","deep","syncStyleSet","corsStyleSet","canOptimizeUsingProxy$1","loadingLinkCounter","rejectorsForLoadingLinks","cleanLoadingLinks","manageStyle","update","loadingStart","loadingEnd","prevStyles","next","corsCopy","syncStyle","corsCopyPositionWatcher","syncStylePositionWatcher","cancelAsyncOperations","isOverrideEmpty","sheetModifier","observerOptions","containsCSSImport","hasImports","cssRules","checkCrossOrigin","cssRulesLoop","getRulesSync","safeGetSheetRules","insertStyle","createSyncStyle","isLoadingRules","wasLoadingError","loadingLinkId","getRulesAsync","accessError","fullCSSText","getRulesOrError","isStillLoadingError","linkLoading","loadText","replaceCSSImports","createCORSCopy","details","err","forceRenderStyle","render","removeCSSRulesFromSheet","prepareOverridesSheet","buildOverrides","watchForSheetChanges","watchForSheetChangesUsingProxy","watchForSheetChangesUsingRAF","rulesChangeKey","rulesCheckFrameId","getRulesChangeKey","didRulesKeyChange","stopWatchingForSheetChangesUsingRAF","checkForUpdate","areSheetChangesPending","onSheetChange","handleSheetChanges","stopWatchingForSheetChangesUsingProxy","stopWatchingForSheetChanges","pause","destroy","watch","maxMoveCount","moveCount","link","loadingId","cleanUp","onLoad","onError","getCSSImportURL","importDeclaration","basePath","importMatches","importMatches_1","importMatches_1_1","importURL","absoluteURL","importedCSS","srcElement","cors","observers","observedRoots","definedCustomElements","undefinedGroups","elementsDefinitionCallback","isCustomElement","recordUndefinedElement","tag","extendedTag","customElementsWhenDefined","elements","collectUndefinedElements","canOptimizeUsingProxy","resolvers","handleIsDefined","checkIfDefined_1","watchWhenCustomElementsDefined","unsubscribeFromDefineCustomElements","watchForStyleChanges","currentStyles","stopWatchingForStyleChanges","prevStyleSiblings","nextStyleSiblings","saveStylePosition","forgetStylePosition","didStylePositionChange","handleStyleOperations","operations","createdStyles","removedStyles","movedStyles","handleMinorTreeMutations","extendedIterateShadowHosts","handleHugeTreeMutations","styles","updatedStyles","observe","subscribeForShadowRootChanges","shadowRoot","hosts","newStyles","resetObservers","adoptedStyleOverrides","overrideList","createAdoptedStyleSheetOverride","injectSheet","override","newSheets","sheetIndex","existingIndex","adoptedStyleSheet","injectProxy","enableStyleSheetsProxy","enableCustomElementRegistryProxy","addRuleDescriptor","insertRuleDescriptor","deleteRuleDescriptor","removeRuleDescriptor","documentStyleSheetsDescriptor","customElementRegistryDefineDescriptor","shouldWrapHTMLElement","getElementsByTagNameDescriptor","shouldProxyChildNodes","childNodesDescriptor","addUndefinedResolver","addUndefinedResolverInner","updateSheetEvent","proxyAddRule","proxyInsertRule","returnValue","proxyDeleteRule","proxyRemoveRule","proxyDocumentStyleSheets","getCurrentValue","docSheets","filteredSheets","styleSheet","styleSheetListBehavior","proxyCustomElementRegistryDefine","constructor","proxyGetElementsByTagName","tagName","getCurrentElementValue","nodeListBehavior","proxyChildNodes","childNodes","documentVisibilityListener","documentIsVisible_","listenerOptions","watchForDocumentVisibility","stopWatchingForDocumentVisibility","setDocumentVisibilityListener","alreadyWatching","removeDocumentVisibilityListener","documentIsVisible","INSTANCE_ID","styleManagers","adoptedStyleManagers","fixes","isIFrame$1","ignoredImageAnalysisSelectors","ignoredInlineSelectors","createOrUpdateStyle","className","createOrUpdateScript","nodePositionWatchers","setupNodePositionWatcher","alias","stopStylePositionWatchers","watcher","createStaticStyleOverrides","fallbackStyle","userAgentStyle","textStyle","invertStyle","inlineStyle","overrideStyle","replaceCSSTemplates","variableStyle","selectionColors","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor","schemeBackgroundColor","schemeTextColor","rootVarsStyle","proxyScript","shadowRootsWithOverrides","createShadowStaticStyleOverridesInner","delayedCreateShadowStaticStyleOverrides","mutations_1","mutations_1_1","removedNodes","_e","_f","nodeName","createShadowStaticStyleOverrides","uninit","$cssText","cleanFallbackStyle","createDynamicStyleOverrides","cancelRendering","allStyles","newManagers","createManager","manager","detail","loadingStyles","inlineStyleElements","handleAdoptedStyleSheets","loadingStylesCounter","loadingStyleId","removeManager","throttledRenderAllStyles","onDOMReady","runDynamicStyle","watchForUpdates","createThemeAndWatchForUpdates","newManger","managedStyles","created","updated","removed","moved","stylesToRemove","stylesToManage","stylesToRestore","styleAttr","stopWatchingForUpdates","metaObserver","addMetaListener","removeDynamicTheme","createDarkReaderInstanceMarker","metaElement","isAnotherDarkReaderInstanceActive","createOrUpdateDynamicThemeInternal","filterConfig","dynamicThemeFixes","iframe","headObserver_1","removeProxy","cleanDynamicThemeCache","blobRegex","replaceBlobs","promises","promise","banner","collectCSS","addStaticCSS","comment","staticStyle","modifiedCSS","formattedCSS","isDarkReaderEnabled","enable","themeOptions","isEnabled","disable","darkScheme","store","handleColorScheme","auto","exportGeneratedCSS","setFetchMethod","DarkMode","dark","switchElement","ignoreRecursively","child"],"mappings":"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"}