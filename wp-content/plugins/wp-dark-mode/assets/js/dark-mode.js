!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).DarkModeAuto={})}(this,function(e){"use strict";var t,r,n,o,a,i,u,s=function(){return(s=Object.assign||function e(t){for(var r,n=1,o=arguments.length;n<o;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t}).apply(this,arguments)};function c(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(t){a(t)}}function u(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(i,u)}s((n=n.apply(e,t||[])).next())})}function l(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function a(u){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([a,u])}}}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function $(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}var h="undefined"==typeof navigator?"some useragent":navigator.userAgent.toLowerCase(),p="undefined"==typeof navigator?"some platform":navigator.platform.toLowerCase(),v=h.includes("chrome")||h.includes("chromium"),m=h.includes("firefox");h.includes("vivaldi"),h.includes("yabrowser"),h.includes("opr")||h.includes("opera"),h.includes("edg");var g=h.includes("safari")&&!v,b=p.startsWith("win"),x=p.startsWith("mac");h.includes("mobile");var y,_="function"==typeof ShadowRoot;(y=h.match(/chrom[e|ium]\/([^ ]+)/))&&y[1]&&y[1];var w=function(){try{return document.querySelector(":defined"),!0}catch(e){return!1}}(),k=function(){try{return new CSSStyleSheet,!0}catch(e){return!1}}();function S(e,t){return c(this,void 0,void 0,function(){var r;return l(this,function(n){switch(n.label){case 0:return[4,function e(t,r){return c(this,void 0,void 0,function(){var e;return l(this,function(n){switch(n.label){case 0:return[4,fetch(t,{cache:"force-cache",credentials:"omit"}),];case 1:if(e=n.sent(),m&&"text/css"===r&&t.startsWith("moz-extension://")&&t.endsWith(".css"))return[2,e];if(r&&!e.headers.get("Content-Type").startsWith(r))throw Error("Mime type mismatch when loading "+t);if(!e.ok)throw Error("Unable to load "+t+" "+e.status+" "+e.statusText);return[2,e]}})})}(e,t)];case 1:return[4,function e(t){return c(this,void 0,void 0,function(){var e,r;return l(this,function(n){switch(n.label){case 0:return[4,t.blob()];case 1:return e=n.sent(),[4,new Promise(function(t){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.readAsDataURL(e)}),];case 2:return[2,r=n.sent()]}})})}(r=n.sent())];case 2:return[2,n.sent()]}})})}var E=function(e){return c(void 0,void 0,void 0,function(){return l(this,function(t){return[2,Promise.reject(Error(["Embedded DarkMode cannot access a cross-origin resource",e,"Overview your URLs and CORS policies or use","`DarkMode.setFetchMethod(fetch: (url) => Promise<Response>))`.","See if using `DarkMode.setFetchMethod(window.fetch)`","before `DarkMode.enable()` works.",].join(" "))),]})})},C=E;function R(e){return c(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,C(e)];case 1:return[2,t.sent()]}})})}window.chrome||(window.chrome={}),chrome.runtime||(chrome.runtime={});var A=new Set;function L(){}function P(e){A.add(e)}if("function"==typeof chrome.runtime.sendMessage){var T=chrome.runtime.sendMessage;chrome.runtime.sendMessage=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];L.apply(void 0,$(e)),T.apply(chrome.runtime,e)}}else chrome.runtime.sendMessage=L;if(chrome.runtime.onMessage||(chrome.runtime.onMessage={}),"function"==typeof chrome.runtime.onMessage.addListener){var N=chrome.runtime.onMessage.addListener;chrome.runtime.onMessage.addListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];P.apply(void 0,$(e)),N.apply(chrome.runtime.onMessage,e)}}else chrome.runtime.onMessage.addListener=P;var M={cssFilter:"cssFilter",svgFilter:"svgFilter",staticTheme:"staticTheme",dynamicTheme:"dynamicTheme"},q={darkScheme:{background:"#181a1b",text:"#e8e6e3"},lightScheme:{background:"#dcdad7",text:"#181a1b"}},B={mode:1,brightness:100,contrast:100,grayscale:0,sepia:0,useFont:!1,fontFamily:x?"Helvetica Neue":b?"Segoe UI":"Open Sans",textStroke:0,engine:M.dynamicTheme,stylesheet:"",darkSchemeBackgroundColor:q.darkScheme.background,darkSchemeTextColor:q.darkScheme.text,lightSchemeBackgroundColor:q.lightScheme.background,lightSchemeTextColor:q.lightScheme.text,scrollbarColor:x?"":"auto",selectionColor:"auto",styleSystemControls:!0};function j(e,t){var r,n,o;if(null!=(o=e).length)for(var a=0,i=e.length;a<i;a++)t(e[a]);else try{for(var u=d(e),s=u.next();!s.done;s=u.next()){var c=s.value;t(c)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}function O(e,t){j(t,function(t){return e.push(t)})}function F(e){return r||(r=document.createElement("a")),r.href=e,r.href}function z(e,t){return(void 0===t&&(t=null),t)?(t=F(t),new URL(e,t)):(e=F(e),new URL(e))}function D(e,t){if(t.match(/^data\:/))return t;var r=z(e);return z(t,r.href).href}function U(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function I(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function W(e,t){j(e,function(e){if(e instanceof CSSMediaRule){var r=Array.from(e.media);(r.includes("screen")||r.includes("all")||!(r.includes("print")||r.includes("speech")))&&W(e.cssRules,t)}else if(e instanceof CSSStyleRule)t(e);else if(e instanceof CSSImportRule)try{W(e.styleSheet.cssRules,t)}catch(n){I(n)}else e instanceof CSSSupportsRule?CSS.supports(e.conditionText)&&W(e.cssRules,t):I("CSSRule type not supported",e)})}function H(e,t){j(e,function(r){var n=e.getPropertyValue(r).trim();n&&t(r,n)})}function V(e){return e.startsWith("--")&&!e.startsWith("--wp-dark-mode")}function G(e){var t=new Map;return e&&W(e,function(e){e.style&&H(e.style,function(e,r){V(e)&&t.set(e,r)})}),t}function K(e){var t=new Map;return H(e.style,function(e,r){V(e)&&t.set(e,r)}),t}var J=/url\((('.+?')|(".+?")|([^\)]*?))\)/g,Q=/@import\s*(url\()?(('.+?')|(".+?")|([^\)]*?))\)?;?/g;function X(e){return e.replace(/^url\((.*)\)$/,"$1").replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}function Y(e){var t=z(e);return""+t.origin+t.pathname.replace(/\?.*$/,"").replace(/(\/)([^\/]+)$/i,"$1")}var Z=/\/\*[\s\S]*?\*\//g,ee=/@font-face\s*{[^}]*}/g,et=/var\((--[^\s,\(\)]+),?\s*([^\(\)]*(\([^\(\)]*\)[^\(\)]*)*\s*)\)/g;function er(e,t,r){void 0===r&&(r=new Set);var n=!1,o=new Set,a=e.replace(et,function(e,a,i){if(r.has(a))return(I("Circular reference to variable "+a),i)?i:(n=!0,e);if(t.has(a)){var u=t.get(a);return u.match(et)&&o.add(a),u}return i||(I("Variable "+a+" not found"),n=!0,e)});return n?a:a.match(et)?(o.forEach(function(e){return r.add(e)}),er(a,t,r)):a}function en(e){var t,r=!1,n=null;return Object.assign(function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t=o,n?r=!0:(e.apply(void 0,$(t)),n=requestAnimationFrame(function(){n=null,r&&(e.apply(void 0,$(t)),r=!1)}))},{cancel:function(){cancelAnimationFrame(n),r=!1,n=null}})}function eo(e){var t=0;return e.seconds&&(t+=1e3*e.seconds),e.minutes&&(t+=6e4*e.minutes),e.hours&&(t+=36e5*e.hours),e.days&&(t+=864e5*e.days),t}function ea(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ei(e,t,r){void 0===r&&(r=Function.prototype);var n=eo({seconds:2}),o=eo({seconds:10}),a=e.previousSibling,i=e.parentNode;if(!i)throw Error("Unable to watch for node position: parent element not found");if("prev-sibling"===t&&!a)throw Error("Unable to watch for node position: there is no previous sibling");var u=0,s=null,c=null,l=en(function(){if(!c){u++;var f=Date.now();if(null==s)s=f;else if(u>=10){if(f-s<o){I("Node position watcher paused: retry in "+n+"ms",e,a),c=setTimeout(function(){s=null,u=0,c=null,l()},n);return}s=f,u=1}if("parent"===t&&a&&a.parentNode!==i){I("Unable to restore node position: sibling parent changed",e,a,i),$();return}if("prev-sibling"===t){if(null==a.parentNode){I("Unable to restore node position: sibling was removed",e,a,i),$();return}a.parentNode!==i&&(I("Style was moved to another parent",e,a,i),p(a.parentNode))}I("Restoring node position",e,a,i),i.insertBefore(e,a?a.nextSibling:i.firstChild),d.takeRecords(),r&&r()}}),d=new MutationObserver(function(){("parent"===t&&e.parentNode!==i||"prev-sibling"===t&&e.previousSibling!==a)&&l()}),f=function(){d.observe(i,{childList:!0})},$=function(){clearTimeout(c),d.disconnect(),l.cancel()},h=function(){d.takeRecords()},p=function(e){i=e,$(),f()};return f(),{run:f,stop:$,skip:h}}function eu(e,t){if(null!=e)for(var r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return null==e.shadowRoot?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),n=e.shadowRoot?r.currentNode:r.nextNode();null!=n;n=r.nextNode())t(n),eu(n.shadowRoot,t)}function es(){return"complete"===document.readyState||"interactive"===document.readyState}var ec=new Set;function el(e){ec.add(e)}function ed(e){ec.delete(e)}if(!es()){var ef=function(){es()&&(document.removeEventListener("readystatechange",ef),ec.forEach(function(e){return e()}),ec.clear())};document.addEventListener("readystatechange",ef)}var e$=new Map,eh=new WeakMap;function ep(e,t){if(e$.has(e))r=e$.get(e),n=eh.get(r);else{var r,n,o,a=!1,i=!1;(r=new MutationObserver(function(t){if(function e(t){if(t.length>1e3)return!0;for(var r=0,n=0;n<t.length;n++)if((r+=t[n].addedNodes.length)>1e3)return!0;return!1}(t))!a||es()?n.forEach(function(t){return(0,t.onHugeMutations)(e)}):i||(el(o=function(){return n.forEach(function(t){return(0,t.onHugeMutations)(e)})}),i=!0),a=!0;else{var r,u,s,c,l,d,f=(r=t,u=new Set,s=new Set,c=new Set,r.forEach(function(e){j(e.addedNodes,function(e){e instanceof Element&&e.isConnected&&u.add(e)}),j(e.removedNodes,function(e){e instanceof Element&&(e.isConnected?c.add(e):s.add(e))})}),c.forEach(function(e){return u.delete(e)}),l=[],d=[],u.forEach(function(e){u.has(e.parentElement)&&l.push(e)}),s.forEach(function(e){s.has(e.parentElement)&&d.push(e)}),l.forEach(function(e){return u.delete(e)}),d.forEach(function(e){return s.delete(e)}),{additions:u,moves:c,deletions:s});n.forEach(function(e){return(0,e.onMinorMutations)(f)})}})).observe(e,{childList:!0,subtree:!0}),e$.set(e,r),n=new Set,eh.set(r,n)}return n.add(t),{disconnect:function(){n.delete(t),o&&ed(o),0===n.size&&(r.disconnect(),eh.delete(r),e$.delete(e))}}}var ev=null;function em(e){var t=e.h,r=e.s,n=e.l,o=e.a,a=void 0===o?1:o;if(0===r){var i=f([n,n,n].map(function(e){return Math.round(255*e)}),3),u=i[0],s=i[1];return{r:u,g:i[2],b:s,a:a}}var c,l=(1-Math.abs(2*n-1))*r,d=l*(1-Math.abs(t/60%2-1)),$=n-l/2,h=f((t<60?[l,d,0]:t<120?[d,l,0]:t<180?[0,l,d]:t<240?[0,d,l]:t<300?[d,0,l]:[l,0,d]).map(function(e){return Math.round((e+$)*255)}),3),p=h[0];return{r:p,g:h[1],b:h[2],a:a}}function eg(e){var t=e.r,r=e.g,n=e.b,o=e.a,a=void 0===o?1:o,i=t/255,u=r/255,s=n/255,c=Math.max(i,u,s),l=Math.min(i,u,s),d=c-l,f=(c+l)/2;if(0===d)return{h:0,s:0,l:f,a:a};var $=(c===i?(u-s)/d%6:c===u?(s-i)/d+2:(i-u)/d+4)*60;return $<0&&($+=360),{h:$,s:d/(1-Math.abs(2*f-1)),l:f,a:a}}function eb(e,t){void 0===t&&(t=0);var r=e.toFixed(t);if(0===t)return r;var n=r.indexOf(".");if(n>=0){var o=r.match(/0+$/);if(o)return o.index===n+1?r.substring(0,n):r.substring(0,o.index)}return r}function ex(e){var t=e.h,r=e.s,n=e.l,o=e.a;return null!=o&&o<1?"hsla("+eb(t)+", "+eb(100*r)+"%, "+eb(100*n)+"%, "+eb(o,2)+")":"hsl("+eb(t)+", "+eb(100*r)+"%, "+eb(100*n)+"%)"}var ey=/^rgba?\([^\(\)]+\)$/,e_=/^hsla?\([^\(\)]+\)$/,ew=/^#[0-9a-f]+$/i;function e8(e){var t,r,n,o,a,i,u,s,c,l,d,$,h,p,v,m,g=e.trim().toLowerCase();if(g.match(ey)){return t=g,r=f(ek(t,e0,eS,e3),4),n=r[0],o=r[1],a=r[2],i=r[3],{r:n,g:o,b:a,a:void 0===i?1:i}}if(g.match(e_)){return u=g,s=f(ek(u,eE,e4,e1),4),c=s[0],l=s[1],d=s[2],$=s[3],em({h:c,s:l,l:d,a:void 0===$?1:$})}if(g.match(ew))return function e(t){var r=t.substring(1);switch(r.length){case 3:case 4:var n=f([0,1,2].map(function(e){return parseInt(""+r[e]+r[e],16)}),3),o=n[0],a=n[1],i=n[2],u=3===r.length?1:parseInt(""+r[3]+r[3],16)/255;return{r:o,g:a,b:i,a:u};case 6:case 8:var s=f([0,2,4].map(function(e){return parseInt(r.substring(e,e+2),16)}),3),o=s[0],a=s[1],i=s[2],u=6===r.length?1:parseInt(r.substring(6,8),16)/255;return{r:o,g:a,b:i,a:u}}throw Error("Unable to parse "+t)}(g);if(e6.has(g)){return h=g,p=e6.get(h),{r:p>>16&255,g:p>>8&255,b:p>>0&255,a:1}}if(eC.has(g)){return v=g,m=eC.get(v),{r:m>>16&255,g:m>>8&255,b:m>>0&255,a:1}}if("transparent"===e)return{r:0,g:0,b:0,a:0};throw Error("Unable to parse "+e)}function ek(e,t,r,n){var o=e.split(t).filter(function(e){return e}),a=Object.entries(n);return o.map(function(e){return e.trim()}).map(function(e,t){var n,o=a.find(function(t){var r=f(t,1)[0];return e.endsWith(r)});return(n=o?parseFloat(e.substring(0,e.length-o[0].length))/o[1]*r[t]:parseFloat(e),r[t]>1)?Math.round(n):n})}var e0=/rgba?|\(|\)|\/|,|\s/gi,eS=[255,255,255,1],e3={"%":100},eE=/hsla?|\(|\)|\/|,|\s/gi,e4=[360,1,1,1],e1={"%":100,deg:360,rad:2*Math.PI,turn:1},e6=new Map(Object.entries({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074})),eC=new Map(Object.entries({ActiveBorder:3906044,ActiveCaption:0,AppWorkspace:11184810,Background:6513614,ButtonFace:16777215,ButtonHighlight:15329769,ButtonShadow:10461343,ButtonText:0,CaptionText:0,GrayText:8355711,Highlight:11720703,HighlightText:0,InactiveBorder:16777215,InactiveCaption:16777215,InactiveCaptionText:0,InfoBackground:16514245,InfoText:0,Menu:16185078,MenuText:16777215,Scrollbar:11184810,ThreeDDarkShadow:0,ThreeDFace:12632256,ThreeDHighlight:16777215,ThreeDLightShadow:16777215,ThreeDShadow:0,Window:15527148,WindowFrame:11184810,WindowText:0,"-webkit-focus-ring-color":15046400}).map(function(e){var t=f(e,2),r=t[0],n=t[1];return[r.toLowerCase(),n]}));function e2(e,t,r,n,o){return(e-t)*(o-n)/(r-t)+n}function e7(e,t,r){return Math.min(r,Math.max(t,e))}function eR(e,t){for(var r=[],n=0,o=e.length;n<o;n++){r[n]=[];for(var a=0,i=t[0].length;a<i;a++){for(var u=0,s=0,c=e[0].length;s<c;s++)u+=e[n][s]*t[s][a];r[n][a]=u}}return r}function e5(e,t,r){void 0===r&&(r=0);for(var n,o=[];n=e.exec(t);)o.push(n[r]);return o}function eA(e){var t=eL.identity();return 0!==e.sepia&&(t=eR(t,eL.sepia(e.sepia/100))),0!==e.grayscale&&(t=eR(t,eL.grayscale(e.grayscale/100))),100!==e.contrast&&(t=eR(t,eL.contrast(e.contrast/100))),100!==e.brightness&&(t=eR(t,eL.brightness(e.brightness/100))),1===e.mode&&(t=eR(t,eL.invertNHue())),t}var eL={identity:function(){return[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],]},invertNHue:function(){return[[.333,-.667,-.667,0,1],[-.667,.333,-.667,0,1],[-.667,-.667,.333,0,1],[0,0,0,1,0],[0,0,0,0,1],]},brightness:function(e){return[[e,0,0,0,0],[0,e,0,0,0],[0,0,e,0,0],[0,0,0,1,0],[0,0,0,0,1],]},contrast:function(e){var t=(1-e)/2;return[[e,0,0,0,t],[0,e,0,0,t],[0,0,e,0,t],[0,0,0,1,0],[0,0,0,0,1],]},sepia:function(e){return[[.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),0,0,],[.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),0,0,],[.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e),0,0,],[0,0,0,1,0],[0,0,0,0,1],]},grayscale:function(e){return[[.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),0,0,],[.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),0,0,],[.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e),0,0,],[0,0,0,1,0],[0,0,0,0,1],]}};function eP(e){var t;return e[1===e.mode?"darkSchemeBackgroundColor":"lightSchemeBackgroundColor"]}function eT(e){var t;return e[1===e.mode?"darkSchemeTextColor":"lightSchemeTextColor"]}var eN=new Map,eM=new Map;function eq(e){if(eM.has(e))return eM.get(e);var t=e8(e),r=eg(t);return eM.set(e,r),r}var eB=["r","g","b","a"],ej=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor",];function eO(e,t,r,n,o){eN.has(r)?u=eN.get(r):(u=new Map,eN.set(r,u));var a,i,u,s=(a=e,i=t,eB.map(function(e){return a[e]}).concat(ej.map(function(e){return i[e]})).join(";"));if(u.has(s))return u.get(s);var c,l,d,$,h,p,v,m,g,b,x,y,_,w,k,S,E,C=eg(e),R=null==n?null:eq(n),A=null==o?null:eq(o),L=r(C,R,A),P=em(L),T=P.r,N=P.g,M=P.b,q=P.a,B=eA(t),j=f((c=[T,N,M],l=B,$=(d=f(c,3))[0],h=d[1],v=eR(l,[[$/255],[h/255],[(p=d[2])/255],[1],[1]]),[0,1,2].map(function(e){return e7(Math.round(255*v[e][0]),0,255)})),3),O=j[0],F=j[1],z=j[2],D=1===q?(g=(m={r:O,g:F,b:z}).r,b=m.g,x=m.b,"#"+(null!=(y=m.a)&&y<1?[g,b,x,Math.round(255*y)]:[g,b,x]).map(function(e){return(e<16?"0":"")+e.toString(16)}).join("")):(w=(_={r:O,g:F,b:z,a:q}).r,k=_.g,S=_.b,null!=(E=_.a)&&E<1?"rgba("+eb(w)+", "+eb(k)+", "+eb(S)+", "+eb(E,2)+")":"rgb("+eb(w)+", "+eb(k)+", "+eb(S)+")");return u.set(s,D),D}function eF(e){return e}function ez(e,t){var r=eP(t),n=eT(t);return eO(e,t,eD,n,r)}function eD(e,t,r){var n,o=e.h,a=e.s,i=e.l,u=e.a,s=i<.5;n=s?i<.2||a<.12:a<.24||i>.8&&o>200&&o<280;var c=o,l=i;n&&(s?(c=t.h,l=t.s):(c=r.h,l=r.s));var d=e2(i,0,1,t.l,r.l);return{h:c,s:l,l:d,a:u}}function eU(e,t){var r=e.h,n=e.s,o=e.l,a=e.a,i=n<.12||o>.8&&r>200&&r<280;if(o<.5){var u=e2(o,0,.5,0,.4);if(i){var s=t.h,c=t.s;return{h:s,s:c,l:u,a:a}}return{h:r,s:n,l:u,a:a}}var l=e2(o,.5,1,.4,t.l);if(i){var d=t.h,c=t.s;return{h:d,s:c,l:l,a:a}}var f=r;return r>60&&r<180&&(f=r>120?e2(r,120,180,135,180):e2(r,60,120,60,105)),{h:f,s:n,l:l,a:a}}function eI(e,t){if(0===t.mode)return ez(e,t);var r=eP(t);return eO(e,s(s({},t),{mode:0}),eU,r)}function e9(e){return e2(e,205,245,205,220)}function eW(e,t){var r,n=e.h,o=e.s,a=e.l,i=e.a,u=a<.2||o<.24,s=!u&&n>205&&n<245;if(a>.5){var c=e2(a,.5,1,.55,t.l);if(u){var l=t.h,d=t.s;return{h:l,s:d,l:c,a:i}}var f=n;return s&&(f=e9(n)),{h:f,s:o,l:c,a:i}}if(u){var $=t.h,d=t.s;return{h:$,s:d,l:e2(a,0,.5,t.l,.55),a:i}}var h=n;return s?(h=e9(n),r=e2(a,0,.5,t.l,Math.min(1,.55+.05))):r=e2(a,0,.5,t.l,.55),{h:h,s:o,l:r,a:i}}function eH(e,t){if(0===t.mode)return ez(e,t);var r=eT(t);return eO(e,s(s({},t),{mode:0}),eW,r)}function eV(e,t,r){var n=e.h,o=e.s,a=e.l,i=e.a,u=n,s=o;return(a<.2||o<.24)&&(a<.5?(u=t.h,s=t.s):(u=r.h,s=r.s)),{h:u,s:s,l:e2(a,0,1,.5,.2),a:i}}function eG(e,t){if(0===t.mode)return ez(e,t);var r=eT(t),n=eP(t);return eO(e,s(s({},t),{mode:0}),eV,r,n)}function eK(e,t){return eI(e,t)}function eJ(e,t){return eI(e,t)}(t=n||(n={}))[t.light=0]="light",t[t.dark=1]="dark";var eQ=0,eX=new Map,eY=new Map;function eZ(e){return c(this,void 0,void 0,function(){return l(this,function(t){return[2,new Promise(function(t,r){var n=++eQ;eX.set(n,t),eY.set(n,r),chrome.runtime.sendMessage({type:"fetch",data:e,id:n})}),]})})}function te(e){return c(this,void 0,void 0,function(){var t,r,n;return l(this,function(o){switch(o.label){case 0:if(!e.startsWith("data:"))return[3,1];return t=e,[3,3];case 1:return[4,function e(t){return c(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:var r,n;if(r=t,((n=new URL(r)).host?n.host:n.protocol)!==(location.host||location.protocol))return[3,2];return[4,S(t)];case 1:case 3:return[2,e.sent()];case 2:return[4,eZ({url:t,responseType:"data-url"})]}})})}(e)];case 2:t=o.sent(),o.label=3;case 3:return[4,function e(t){return c(this,void 0,void 0,function(){return l(this,function(e){return[2,new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=function(){return r("Unable to load image "+t)},n.src=t}),]})})}(t)];case 4:var a;return n=(a=r=o.sent(),null),[2,s({src:e,dataURL:t,width:r.naturalWidth,height:r.naturalHeight},n),]}})})}function tt(){(o=document.createElement("canvas")).width=1024,o.height=1024,(a=o.getContext("2d")).imageSmoothingEnabled=!1}function tr(e){return null}chrome.runtime.onMessage.addListener(function(e){var t=e.type,r=e.data,n=e.error,o=e.id;if("fetch-response"===t){var a=eX.get(o),i=eY.get(o);eX.delete(o),eY.delete(o),n?i&&i(n):a&&a(r)}});var tn=new Set;function to(e,t){for(var r,n,o=e.dataURL,a=e.width,i=e.height,u=(r=t,(n=eA(r)).slice(0,4).map(function(e){return e.map(function(e){return e.toFixed(3)}).join(" ")}).join(" ")),s=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+a+'" height="'+i+'">',"<defs>",'<filter id="darkmoder-image-filter">','<feColorMatrix type="matrix" values="'+u+'" />',"</filter>","</defs>",'<image width="'+a+'" height="'+i+'" filter="url(#darkmoder-image-filter)" xlink:href="'+o+'" />',"</svg>",].join(""),c=new Uint8Array(s.length),l=0;l<s.length;l++)c[l]=s.charCodeAt(l);var d=new Blob([c],{type:"image/svg+xml"}),f=URL.createObjectURL(d);return tn.add(f),f}function ta(e,t,r,n,o){var a=Boolean(r&&r.style&&r.style.getPropertyPriority(e)),i=t;if(e.startsWith("--"));else if(e.indexOf("color")>=0&&"-webkit-print-color-adjust"!==e||"fill"===e||"stroke"===e||"stop-color"===e){var u=function e(t,r){if(ts.has(r.toLowerCase()))return r;try{var n=tl(r);if(t.indexOf("background")>=0)return function(e){return eI(n,e)};if(t.indexOf("border")>=0||t.indexOf("outline")>=0)return function(e){return eG(n,e)};return function(e){return eH(n,e)}}catch(o){return I("Color parse error",o),null}}(e,t);if(u)return{property:e,value:u,important:a,sourceValue:i}}else if("background-image"===e||"list-style-image"===e){var s,c,l,d,u=(s=t,c=r,l=n,d=o,null);if(u)return{property:e,value:u,important:a,sourceValue:i}}else if(e.indexOf("shadow")>=0){var u=function e(t,r){try{var n=0,o=e5(/(^|\s)([a-z]+\(.+?\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,r,2),a=o.map(function(e,t){var a=n,i=r.indexOf(e,n),u=i+e.length;n=u;var s=function e(t){try{return tl(t)}catch(r){return null}}(e);return s?function(e){var n,c;return""+r.substring(a,i)+(n=s,c=e,eI(n,c))+(t===o.length-1?r.substring(u):"")}:function(){return r.substring(a,u)}});return function(e){return a.map(function(t){return t(e)}).join("")}}catch(i){return I("Unable to parse shadow "+r,i),null}}(e,t);if(u)return{property:e,value:u,important:a,sourceValue:i}}return null}function ti(e){if("auto"===e.selectionColor)t=eI({r:0,g:96,b:212},s(s({},e),{grayscale:0})),r=eH({r:255,g:255,b:255},s(s({},e),{grayscale:0}));else{var t,r,n=e8(e.selectionColor),o=eg(n);t=e.selectionColor,r=o.l<.5?"#FFF":"#000"}return{backgroundColorSelection:t,foregroundColorSelection:r}}function tu(e,t){var r=t.strict,n=[];return n.push("html, body, "+(r?"body :not(iframe)":"body > :not(iframe)")+" {"),n.push("    background-color: "+eI({r:255,g:255,b:255},e)+" !important;"),n.push("    border-color: "+eG({r:64,g:64,b:64},e)+" !important;"),n.push("    color: "+eH({r:0,g:0,b:0},e)+" !important;"),n.push("}"),""}var ts=new Set(["inherit","transparent","initial","currentcolor","none","unset",]),tc=new Map;function tl(e){if(e=e.trim(),tc.has(e))return tc.get(e);var t=e8(e);return tc.set(e,t),t}var td=new Map,tf=new Map;function t$(e,t){return!1}function th(e,t,r,n){return null}var tp={"background-color":{customProp:"--wp-dark-mode-inline-bgcolor",cssProp:"background-color",dataAttr:"data-darkmoder-inline-bgcolor"},"background-image":{customProp:"--wp-dark-mode-inline-bgimage",cssProp:"background-image",dataAttr:"data-darkmoder-inline-bgimage"},"border-color":{customProp:"--wp-dark-mode-inline-border",cssProp:"border-color",dataAttr:"data-darkmoder-inline-border"},"border-bottom-color":{customProp:"--wp-dark-mode-inline-border-bottom",cssProp:"border-bottom-color",dataAttr:"data-darkmoder-inline-border-bottom"},"border-left-color":{customProp:"--wp-dark-mode-inline-border-left",cssProp:"border-left-color",dataAttr:"data-darkmoder-inline-border-left"},"border-right-color":{customProp:"--wp-dark-mode-inline-border-right",cssProp:"border-right-color",dataAttr:"data-darkmoder-inline-border-right"},"border-top-color":{customProp:"--wp-dark-mode-inline-border-top",cssProp:"border-top-color",dataAttr:"data-darkmoder-inline-border-top"},"box-shadow":{customProp:"--wp-dark-mode-inline-boxshadow",cssProp:"box-shadow",dataAttr:"data-darkmoder-inline-boxshadow"},color:{customProp:"--wp-dark-mode-inline-color",cssProp:"color",dataAttr:"data-darkmoder-inline-color"},fill:{customProp:"--wp-dark-mode-inline-fill",cssProp:"fill",dataAttr:"data-darkmoder-inline-fill"},stroke:{customProp:"--wp-dark-mode-inline-stroke",cssProp:"stroke",dataAttr:"data-darkmoder-inline-stroke"},"outline-color":{customProp:"--wp-dark-mode-inline-outline",cssProp:"outline-color",dataAttr:"data-darkmoder-inline-outline"},"stop-color":{customProp:"--wp-dark-mode-inline-stopcolor",cssProp:"stop-color",dataAttr:"data-darkmoder-inline-stopcolor"}},tv=Object.values(tp),tm=["style","stop-color","stroke","bgcolor","color",],tg=tm.map(function(e){return"["+e+"]"}).join(", ");function tb(){return tv.map(function(e){var t=e.dataAttr,r=e.customProp;return["["+t+"] {","  "+e.cssProp+": var("+r+") !important;","}",].join("\n")}).join("\n")}var tx=new Map,ty=new Map;function t_(e,t,r){tx.has(e)&&(tx.get(e).disconnect(),ty.get(e).disconnect());var n=new WeakSet;function o(e){var o,a;(a=[],(o=e)instanceof Element&&o.matches(tg)&&a.push(o),(o instanceof Element||_&&o instanceof ShadowRoot||o instanceof Document)&&O(a,o.querySelectorAll(tg)),a).forEach(function(e){!n.has(e)&&(n.add(e),t(e))}),eu(e,function(o){!n.has(e)&&(n.add(e),r(o.shadowRoot),t_(o.shadowRoot,t,r))})}var a=ep(e,{onMinorMutations:function(e){e.additions.forEach(function(e){return o(e)})},onHugeMutations:function(){o(e)}});tx.set(e,a);var i=0,u=null,s=eo({seconds:10}),c=eo({seconds:2}),l=[],d=null,f=en(function(e){e.forEach(function(e){tm.includes(e.attributeName)&&t(e.target)})}),h=new MutationObserver(function(e){if(d){l.push.apply(l,$(e));return}i++;var t=Date.now();if(null==u)u=t;else if(i>=50){if(t-u<s){d=setTimeout(function(){u=null,i=0,d=null;var e=l;l=[],f(e)},c),l.push.apply(l,$(e));return}u=t,i=1}f(e)});h.observe(e,{attributes:!0,attributeFilter:tm.concat(tv.map(function(e){return e.dataAttr})),subtree:!0}),ty.set(e,h)}var tw=new WeakMap,t8=["brightness","contrast","grayscale","sepia","mode"];function tk(e,t){return tm.map(function(t){return t+'="'+e.getAttribute(t)+'"'}).concat(t8.map(function(e){return e+'="'+t[e]+'"'})).join(" ")}function t0(e,t,r,n){if(tk(e,t)!==tw.get(e)){var o=new Set(Object.keys(tp));if(r.length>0&&function e(t,r){for(var n=0,o=r.length;n<o;n++){var a=r[n];if(t.matches(a))return!0}return!1}(e,r)){o.forEach(function(t){e.removeAttribute(tp[t].dataAttr)});return}if(e.hasAttribute("bgcolor")){var a=e.getAttribute("bgcolor");(a.match(/^[0-9a-f]{3}$/i)||a.match(/^[0-9a-f]{6}$/i))&&(a="#"+a),l("background-color","background-color",a)}if(e.hasAttribute("color")){var a=e.getAttribute("color");(a.match(/^[0-9a-f]{3}$/i)||a.match(/^[0-9a-f]{6}$/i))&&(a="#"+a),l("color","color",a)}if(e instanceof SVGElement){if(e.hasAttribute("fill")){var a=e.getAttribute("fill"),i=!1;if(!(e instanceof SVGTextElement)){var u=e.getBoundingClientRect(),s=u.width,c=u.height;i=s>32||c>32}l("fill",i?"background-color":"color",a)}e.hasAttribute("stop-color")&&l("stop-color","background-color",e.getAttribute("stop-color"))}if(e.hasAttribute("stroke")){var a=e.getAttribute("stroke");l("stroke",e instanceof SVGLineElement||e instanceof SVGTextElement?"border-color":"color",a)}e.style&&H(e.style,function(e,t){!("background-image"===e&&t.indexOf("url")>=0)&&tp.hasOwnProperty(e)&&l(e,e,t)}),e.style&&e instanceof SVGTextElement&&e.style.fill&&l("fill","color",e.style.getPropertyValue("fill")),j(o,function(t){e.removeAttribute(tp[t].dataAttr)}),tw.set(e,tk(e,t))}function l(r,a,i){var u=tp[r],s=u.customProp,c=u.dataAttr,l=ta(a,i,null,n,null);if(l){var d=l.value;"function"==typeof d&&(d=d(t)),e.style.setProperty(s,d),e.hasAttribute(c)||e.setAttribute(c,""),o.delete(r)}}}var tS="theme-color",t3='meta[name="'+tS+'"]',tE=null,t4=null;function t1(e,t){tE=tE||e.content;try{var r=e8(tE);e.content=eI(r,t)}catch(n){I(n)}}var t6=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor",],tC=function e(){var t=[],r=null;function n(){for(var e;e=t.shift();)e();r=null}return{add:function e(o){t.push(o),r||(r=requestAnimationFrame(n))},cancel:function e(){t.splice(0),cancelAnimationFrame(r),r=null}}}();function t2(){var e=0,t=new Map,r=new Map,n=null;return{modifySheet:function o(a){var i,u=a.sourceCSSRules,s=a.theme,c=a.variables,l=a.ignoreImageAnalysis,d=a.force,f=a.prepareSheet,$=a.isAsyncCancelled,h=0===r.size,p=new Set(r.keys()),v=(i=s,t6.map(function(e){return e+":"+i[e]}).join(";")),m=v!==n,g=[];if(W(u,function(e){if(!e.parentStyleSheet.ownerNode||"wp-dark-mode-custom-css"!==e.parentStyleSheet.ownerNode.getAttribute("id")){var n,o=e.cssText,a=!1;p.delete(o),t.has(o)||(t.set(o,o),a=!0);var i=null;if(c.size>0||o.includes("var(")){var u=er(o,c);t.get(o)!==u&&(t.set(o,u),a=!0,(n=function e(){if(ev)return ev;if(k)return ev=new CSSStyleSheet;var t=document.createElement("style");return document.head.append(t),ev=t.sheet,document.head.removeChild(t),ev}()).insertRule(u),i=n.cssRules[0])}if(a)h=!0;else{g.push(r.get(o));return}var s=[],d=i||e;d&&d.style&&H(d.style,function(t,r){var n=ta(t,r,e,l,$);n&&s.push(n)});var f=null;if(s.length>0){var v=e.parentRule;f={selector:e.selectorText,declarations:s,parentRule:v},g.push(f)}r.set(o,f),n&&n.deleteRule(0)}}),p.forEach(function(e){t.delete(e),r.delete(e)}),n=v,d||h||m){e++;var b,x=new Map,y=0,_={rule:null,rules:[],isGroup:!0},w=new WeakMap;g.filter(function(e){return e}).forEach(function(t){var r=t.selector,n=t.declarations,o=function e(t){if(null==t)return _;if(w.has(t))return w.get(t);var r={rule:t,rules:[],isGroup:!0};return w.set(t,r),e(t.parentRule).rules.push(r),r}(t.parentRule),a={selector:r,declarations:[],isGroup:!1},i=a.declarations;o.rules.push(a),n.forEach(function(t){var r=t.property,n=t.value,o=t.important,a=t.sourceValue;if("function"==typeof n){var u=n(s);if(u instanceof Promise){var c=y++,l={property:r,value:null,important:o,asyncKey:c,sourceValue:a};i.push(l);var d=e;u.then(function(t){!(!t||$())&&d===e&&(l.value=t,tC.add(function(){!$()&&d===e&&function e(t){var r=x.get(t);if(void 0!==r){var n=r.rule,o=r.target,a=r.index;o.deleteRule(a),S(o,a,n),x.delete(t)}}(c)}))})}else i.push({property:r,value:u,important:o,sourceValue:a})}else i.push({property:r,value:n,important:o,sourceValue:a})})}),!function e(t,r,n){t.rules.forEach(function(t){if(t.isGroup){var o=function e(t,r){var n=t.rule;if(n instanceof CSSMediaRule){var o=n.media,a=r.cssRules.length;return r.insertRule("@media "+o.mediaText+" {}",a),r.cssRules[a]}return r}(t,r);e(t,o,n)}else n(t,r)})}(_,f(),function(e,t){var r=t.cssRules.length;e.declarations.filter(function(e){return null==e.value}).forEach(function(n){var o=n.asyncKey;return x.set(o,{rule:e,target:t,index:r})}),S(t,r,e)})}function S(e,t,r){var n=r.selector,o=r.declarations;if(!n)return;let a=document.querySelector(n);if(!(void 0===a||!a||"undefined"!=typeof wp_dark_mode_json&&""!==wp_dark_mode_json.options.excludes_elements_includes&&!a.classList.contains("wp-dark-mode-include")||a.classList.contains("wp-dark-mode-ignore"))){e.insertRule(n+" {}",t);var i=e.cssRules[t].style;o.forEach(function(e){var t=e.property,r=e.value,n=e.important,o=e.sourceValue;"background-image"!==t&&i.setProperty(t,null==r?o:r,n?"important":"")})}}}}}function t7(e){return(e instanceof HTMLStyleElement||e instanceof SVGStyleElement||e instanceof HTMLLinkElement&&e.rel&&e.rel.toLowerCase().includes("stylesheet")&&!e.disabled)&&!e.classList.contains("darkmoder")&&"print"!==e.media&&!e.classList.contains("stylus")}function tR(e,t,r){return void 0===t&&(t=[]),void 0===r&&(r=!0),t7(e)?t.push(e):(e instanceof Element||_&&e instanceof ShadowRoot||e===document)&&(j(e.querySelectorAll('style, link[rel*="stylesheet" i]:not([disabled])'),function(e){return tR(e,t,!1)}),r&&eu(e,function(e){return tR(e.shadowRoot,t,!1)})),t}var t5=new WeakSet,tA=new WeakSet,tL=!1;function tP(e){return c(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:if(!e.startsWith("data:"))return[3,3];return[4,fetch(e)];case 1:return[4,t.sent().text()];case 2:case 4:return[2,t.sent()];case 3:return[4,eZ({url:e,responseType:"text",mimeType:"text/css"}),]}})})}document.addEventListener("__darkmoder__inlineScriptsAllowed",function(){tL=!0});var tT=[],tN=new Map;function tM(e){w&&j(e.querySelectorAll(":not(:defined)"),function(e){var t=e.tagName.toLowerCase();tN.has(t)||(tN.set(t,new Set),(function e(t){return c(this,void 0,void 0,function(){return l(this,function(e){return[2,new Promise(function(e){if(window.customElements&&"function"==typeof customElements.whenDefined)customElements.whenDefined(t).then(e);else if(tq)tB.set(t,e),document.dispatchEvent(new CustomEvent("__darkmoder__addUndefinedResolver",{detail:{tag:t}}));else{var r=function(){var n=tN.get(t);n&&n.size>0&&(n.values().next().value.matches(":defined")?e():requestAnimationFrame(r))};requestAnimationFrame(r)}}),]})})})(t).then(function(){if(u){var e=tN.get(t);tN.delete(t),u(Array.from(e))}})),tN.get(t).add(e)})}var tq=!1;document.addEventListener("__darkmoder__inlineScriptsAllowed",function(){tq=!0});var tB=new Map;function tj(e){tq=!0,tB.has(e.detail.tag)&&tB.get(e.detail.tag)()}function tO(e){u=e}function tF(){tT.forEach(function(e){return e.disconnect()}),tT.splice(0,tT.length),i=new WeakSet,u=null,tN.clear(),document.removeEventListener("__darkmoder__isDefined",tj)}var tz=new WeakMap,tD=new WeakSet;function tU(){document.dispatchEvent(new CustomEvent("__darkmoder__inlineScriptsAllowed"));var e=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"addRule"),t=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"insertRule"),r=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"deleteRule"),n=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"removeRule"),o=function(){Object.defineProperty(CSSStyleSheet.prototype,"addRule",e),Object.defineProperty(CSSStyleSheet.prototype,"insertRule",t),Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",r),Object.defineProperty(CSSStyleSheet.prototype,"removeRule",n),document.removeEventListener("__darkmoder__cleanUp",o),document.removeEventListener("__darkmoder__addUndefinedResolver",function(e){return a(e)})},a=function(e){customElements.whenDefined(e.detail.tag).then(function(){document.dispatchEvent(new CustomEvent("__darkmoder__isDefined",{detail:{tag:e.detail.tag}}))})};document.addEventListener("__darkmoder__cleanUp",o),document.addEventListener("__darkmoder__addUndefinedResolver",function(e){return a(e)});var i=new Event("__darkmoder__updateSheet");Object.defineProperty(CSSStyleSheet.prototype,"addRule",Object.assign({},e,{value:function t(r,n,o){return e.value.call(this,r,n,o),this.ownerNode&&!this.ownerNode.classList.contains("darkmoder")&&this.ownerNode.dispatchEvent(i),-1}})),Object.defineProperty(CSSStyleSheet.prototype,"insertRule",Object.assign({},t,{value:function e(r,n){var o=t.value.call(this,r,n);return this.ownerNode&&!this.ownerNode.classList.contains("darkmoder")&&this.ownerNode.dispatchEvent(i),o}})),Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",Object.assign({},r,{value:function e(t){try{r.value.call(this,t)}catch(n){}this.ownerNode&&!this.ownerNode.classList.contains("darkmoder")&&this.ownerNode.dispatchEvent(i)}})),Object.defineProperty(CSSStyleSheet.prototype,"removeRule",Object.assign({},n,{value:function e(t){n.value.call(this,t),this.ownerNode&&!this.ownerNode.classList.contains("darkmoder")&&this.ownerNode.dispatchEvent(i)}}))}var tI=new Map,t9=Array.from(crypto.getRandomValues(new Uint8Array(16))).map(function(e){var t;return((t=e)<16?"0":"")+t.toString(16)}).join(""),tW=new Map,tH=[],tV=null,tG=null,tK=null;function tJ(e,t){void 0===t&&(t=document.head||document);var r=t.querySelector("."+e);return r||((r=document.createElement("style")).classList.add("darkmoder"),r.classList.add(e),r.media="screen"),r}var tQ=new Map;function tX(e,t){tQ.has(t)&&tQ.get(t).stop(),tQ.set(t,ei(e,"parent"))}var tY=new Set;function tZ(e){var t=tJ("darkmoder--inline",e);t.textContent=tb(),e.insertBefore(t,e.firstChild);var r=tJ("darkmoder--override",e);r.textContent=tG&&tG.css?re(tG.css):"",e.insertBefore(r,t.nextSibling),tY.add(e)}function re(e){return e.replace(/\${(.+?)}/g,function(e,t){try{var r,n;return r=tl(t),n=tV,eO(r,n,eF)}catch(o){return I(o),t}})}function rt(){var e=document.querySelector(".darkmoder--fallback");e&&(e.textContent="")}function rr(){return tG&&Array.isArray(tG.ignoreImageAnalysis)?tG.ignoreImageAnalysis:[]}var rn=0,ro=new Set;function ra(e){var t=++rn,r=function e(t,r){for(var n=r.update,o=r.loadingStart,a=r.loadingEnd,i=[],u=t;(u=u.nextElementSibling)&&u.matches(".darkmoder");)i.push(u);var s=i.find(function(e){return e.matches(".darkmoder--cors")&&!tA.has(e)})||null,$=i.find(function(e){return e.matches(".darkmoder--sync")&&!t5.has(e)})||null,h=null,p=null,v=!1,m=t2(),b=new MutationObserver(function(){n()}),x={attributes:!0,childList:!0,characterData:!0};function y(){return t instanceof HTMLStyleElement&&t.textContent.trim().match(Q)}function _(){return s?s.sheet.cssRules:y()?null:R()}function w(){s?(t.nextSibling!==s&&t.parentNode.insertBefore(s,t.nextSibling),s.nextSibling!==$&&t.parentNode.insertBefore($,s.nextSibling)):t.nextSibling!==$&&t.parentNode.insertBefore($,t.nextSibling)}var k=!1,S=!1,E=!1;function C(){try{if(null==t.sheet)return[null,null];return[t.sheet.cssRules,null]}catch(e){return[null,e]}}function R(){var e=f(C(),2),t=e[0],r=e[1];return r?(I(r),null):t}var A=null,L=null;function P(){var e=R();return e?e.length:null}function T(){cancelAnimationFrame(L)}var N=!1;function M(){tL=!0,T(),!N&&(N=!0,"function"==typeof queueMicrotask?queueMicrotask(e):requestAnimationFrame(e));function e(){N=!1,!v&&n()}}function q(){b.disconnect(),v=!0,h&&h.stop(),p&&p.stop(),t.removeEventListener("__darkmoder__updateSheet",M),T()}var B=0;return{details:function e(){var r=_();return r?{variables:G(r)}:(k||S||(k=!0,o(),(function e(){return c(this,void 0,void 0,function(){var e,r,n,o,a,i,u,$,p;return l(this,function(m){switch(m.label){case 0:var b;if(!(t instanceof HTMLLinkElement))return[3,7];if(o=(n=f(C(),2))[0],(a=n[1])&&I(a),!(!o&&!a&&!g||g&&!t.sheet||(b=a,b&&b.message&&b.message.includes("loading"))))return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,function e(t){return c(this,void 0,void 0,function(){return l(this,function(e){return[2,new Promise(function(e,r){var n=function(){t.removeEventListener("load",o),t.removeEventListener("error",a)},o=function(){n(),e()},a=function(){n(),r("Link loading failed "+t.href)};t.addEventListener("load",o),t.addEventListener("error",a)}),]})})}(t)];case 2:return m.sent(),[3,4];case 3:return I(i=m.sent()),S=!0,[3,4];case 4:if(v)return[2,null];o=(p=f(C(),2))[0],(a=p[1])&&I(a),m.label=5;case 5:if(null!=o)return[2,o];return[4,tP(t.href)];case 6:if(e=m.sent(),r=Y(t.href),v)return[2,null];return[3,8];case 7:if(!y())return[2,null];e=t.textContent.trim(),r=Y(location.href),m.label=8;case 8:if(!e)return[3,13];m.label=9;case 9:return m.trys.push([9,11,,12]),[4,function e(t,r,n){return void 0===n&&(n=new Map),c(this,void 0,void 0,function(){var o,a,i,u,s,c,f,$,h,p,v;return l(this,function(l){var m,g,b,x,y;switch(l.label){case 0:o=e5(Q,t=(b=t=(g=t=(m=t).replace(Z,"")).replace(ee,""),x=r,b.replace(J,function(e){return'url("'+D(x,X(e))+'")'}))),l.label=1;case 1:l.trys.push([1,10,11,12]),i=(a=d(o)).next(),l.label=2;case 2:if(i.done)return[3,9];if(c=D(r,s=X((y=u=i.value).substring(8).replace(/;$/,""))),f=void 0,!n.has(c))return[3,3];return f=n.get(c),[3,7];case 3:return l.trys.push([3,6,,7]),[4,tP(c)];case 4:return f=l.sent(),n.set(c,f),[4,e(f,Y(c),n),];case 5:return f=l.sent(),[3,7];case 6:return I($=l.sent()),f="",[3,7];case 7:t=t.split(u).join(f),l.label=8;case 8:return i=a.next(),[3,2];case 9:return[3,12];case 10:return p={error:h=l.sent()},[3,12];case 11:try{i&&!i.done&&(v=a.return)&&v.call(a)}finally{if(p)throw p.error}return[7];case 12:return[2,t=t.trim()]}})})}(e,r)];case 10:return s=function e(t,r){if(!r)return null;var n=document.createElement("style");return n.classList.add("darkmoder"),n.classList.add("darkmoder--cors"),n.media="screen",n.textContent=r,t.parentNode.insertBefore(n,t.nextSibling),n.sheet.disabled=!0,tA.add(n),n}(t,u=m.sent()),[3,12];case 11:return I($=m.sent()),[3,12];case 12:if(s)return h=ei(s,"prev-sibling"),[2,s.sheet.cssRules];m.label=13;case 13:return[2,null]}})})})().then(function(e){k=!1,a(),e&&n()}).catch(function(e){I(e),k=!1,a()})),null)},render:function e(r,n,o){var a=_();function i(){$||(($=t instanceof SVGStyleElement?document.createElementNS("http://www.w3.org/2000/svg","style"):document.createElement("style")).classList.add("darkmoder"),$.classList.add("darkmoder--sync"),$.media="screen",t5.add($)),p&&p.stop(),w(),null==$.sheet&&($.textContent="");for(var e=$.sheet,r=e.cssRules.length-1;r>=0;r--)e.deleteRule(r);return p?p.run():p=ei($,"prev-sibling",function(){E=!0,u()}),$.sheet}function u(){var e=E;E=!1,m.modifySheet({prepareSheet:i,sourceCSSRules:a,theme:r,variables:n,ignoreImageAnalysis:o,force:e,isAsyncCancelled:function(){return v}})}a&&(v=!1,u())},pause:q,destroy:function e(){q(),ea(s),ea($)},watch:function e(){var r;b.observe(t,x),t instanceof HTMLStyleElement&&(t.addEventListener("__darkmoder__updateSheet",M),tL&&t.sheet||(A=P(),T(),r=function(){if(P()!==A&&(A=P(),n()),tL&&t.sheet){T();return}L=requestAnimationFrame(r)},r()))},restore:function e(){if($){if(++B>10){I("Style sheet was moved multiple times",t);return}I("Restore style",$,t);var r=null==$.sheet||$.sheet.cssRules.length>0;w(),h&&h.skip(),p&&p.skip(),r&&(E=!0,n())}}}}(e,{update:function e(){var t=r.details();t&&(0===t.variables.size?r.render(tV,tI,rr()):(ri(t.variables),rs()))},loadingStart:function e(){if(!es()||!rf){ro.add(t);var r=document.querySelector(".darkmoder--fallback");r.textContent||(r.textContent=tu(tV,{strict:!1}))}},loadingEnd:function e(){ro.delete(t),0===ro.size&&es()&&rt()}});return tW.set(e,r),r}function ri(e){0!==e.size&&(e.forEach(function(e,t){tI.set(t,e)}),tI.forEach(function(e,t){tI.set(t,er(e,tI))}))}function ru(e){var t=tW.get(e);t&&(t.destroy(),tW.delete(e))}var rs=en(function(e){tW.forEach(function(e){return e.render(tV,tI,rr())}),tH.forEach(function(e){return e.render(tV,tI,rr())}),e&&e()}),rc=function(){rs.cancel()};function rl(){0===ro.size&&rt()}var rd=null,rf=!document.hidden;function r$(){document.removeEventListener("visibilitychange",rd),rd=null}function rh(){var e,t,r,o,a,c,l,d,f,$,h,p,v,m,g,b,x,y,_,w,k,S,E,C,R,A,L,P,T,N,M,q,B,F,z,D;function U(){var e,t,r,n,o,a,s;rc(),ri(K(document.documentElement)),0===(t=(e=tR(document).filter(function(e){return!tW.has(e)}).map(function(e){return ra(e)})).map(function(e){return e.details()}).filter(function(e){return e&&e.variables.size>0}).map(function(e){return e.variables})).length?(tW.forEach(function(e){return e.render(tV,tI,rr())}),0===ro.size&&rt()):(t.forEach(function(e){return ri(e)}),rs(function(){0===ro.size&&rt()})),e.forEach(function(e){return e.watch()}),r=function e(t){for(var r=[],n=0,o=t.length;n<o;n++)r.push(t[n]);return r}(document.querySelectorAll(tg)),eu(document.documentElement,function(e){tZ(e.shadowRoot);var t=e.shadowRoot.querySelectorAll(tg);t.length>0&&O(r,t)}),n=tG&&Array.isArray(tG.ignoreInlineStyle)?tG.ignoreInlineStyle:[],r.forEach(function(e){return t0(e,tV,rr(),n)}),rp(document),function e(t,r,n){tF();var o,a=new Set(t),s=new WeakMap,c=new WeakMap;function l(e){s.set(e,e.previousElementSibling),c.set(e,e.nextElementSibling)}function d(e){var t=e.createdStyles,n=e.removedStyles,o=e.movedStyles;t.forEach(function(e){return l(e)}),o.forEach(function(e){return l(e)}),n.forEach(function(e){var t;return t=e,void(s.delete(t),c.delete(t))}),t.forEach(function(e){return a.add(e)}),n.forEach(function(e){return a.delete(e)}),t.size+n.size+o.size>0&&r({created:Array.from(t),removed:Array.from(n),moved:Array.from(o),updated:[]})}function f(e){var t=e.additions,r=e.moves,n=e.deletions,o=new Set,a=new Set,i=new Set;t.forEach(function(e){return tR(e).forEach(function(e){return o.add(e)})}),n.forEach(function(e){return tR(e).forEach(function(e){return a.add(e)})}),r.forEach(function(e){return tR(e).forEach(function(e){return i.add(e)})}),d({createdStyles:o,removedStyles:a,movedStyles:i}),t.forEach(function(e){eu(e,v),tM(e)})}function $(e){var t=new Set(tR(e)),r=new Set,n=new Set,o=new Set;t.forEach(function(e){a.has(e)||r.add(e)}),a.forEach(function(e){t.has(e)||n.add(e)}),t.forEach(function(e){var t;!r.has(e)&&!n.has(e)&&((t=e).previousElementSibling!==s.get(t)||t.nextElementSibling!==c.get(t))&&o.add(e)}),d({createdStyles:r,removedStyles:n,movedStyles:o}),eu(e,v),tM(e)}function h(e){var t=new Set,n=new Set;e.forEach(function(e){var r=e.target;r.isConnected&&(t7(r)?t.add(r):r instanceof HTMLLinkElement&&r.disabled&&n.add(r))}),t.size+n.size>0&&r({updated:Array.from(t),created:[],removed:Array.from(n),moved:[]})}function p(e){var t=ep(e,{onMinorMutations:f,onHugeMutations:$}),r=new MutationObserver(h);r.observe(e,{attributes:!0,attributeFilter:["rel","disabled","media"],subtree:!0}),tT.push(t,r),i.add(e)}function v(e){var t=e.shadowRoot;!(null==t||i.has(t))&&(p(t),n(t))}t.forEach(l),p(document),eu(document.documentElement,v),u=o=function(e){var t=[];e.forEach(function(e){return O(t,tR(e.shadowRoot))}),r({created:t,updated:[],removed:[],moved:[]}),e.forEach(function(e){var t=e.shadowRoot;null!=t&&(v(e),eu(t,v),tM(t))})},document.addEventListener("__darkmoder__isDefined",tj),tM(document)}(Array.from(tW.keys()),function(e){var t=e.created,r=e.updated,n=e.removed,o=e.moved,a=t.concat(r).concat(o).filter(function(e){return!tW.has(e)}),i=o.filter(function(e){return tW.has(e)});n.forEach(function(e){return ru(e)});var u=a.map(function(e){return ra(e)}),s=u.map(function(e){return e.details()}).filter(function(e){return e&&e.variables.size>0}).map(function(e){return e.variables});0===s.length?u.forEach(function(e){return e.render(tV,tI,rr())}):(s.forEach(function(e){return ri(e)}),rs()),u.forEach(function(e){return e.watch()}),i.forEach(function(e){return tW.get(e).restore()})},function(e){tZ(e),rp(e)}),s=tG&&Array.isArray(tG.ignoreInlineStyle)?tG.ignoreInlineStyle:[],o=function(e){if(t0(e,tV,s,rr()),e===document.documentElement){var t=K(document.documentElement);t.size>0&&(ri(t),rs())}},t_(document,o,a=function(e){tZ(e);var t=e.querySelectorAll(tg);t.length>0&&j(t,function(e){return t0(e,tV,rr(),s)})}),eu(document.documentElement,function(e){t_(e.shadowRoot,o,a)}),el(rl)}if((a=tJ("darkmoder--fallback",document)).textContent=tu(tV,{strict:!0}),document.head.insertBefore(a,document.head.firstChild),tX(a,"fallback"),($=tJ("darkmoder--user-agent")).textContent=(c=tV,l=tK,d=tV.styleSystemControls,f=[],l||(f.push("html {"),f.push("    background-color: "+eI({r:255,g:255,b:255},c)+" !important;"),f.push("}")),f.push((l?"":"html, body, ")+(d?"input, textarea, select, button":"")+" {"),f.push("    background-color: "+eI({r:255,g:255,b:255},c)+";"),f.push("}"),f.push("html, body, "+(d?"input, textarea, select, button":"")+" {"),f.push("    border-color: "+eG({r:76,g:76,b:76},c)+";"),f.push("    color: "+eH({r:0,g:0,b:0},c)+";"),f.push("}"),f.push("a {"),f.push("    color: "+eH({r:0,g:64,b:255},c)+";"),f.push("}"),f.push("table {"),f.push("    border-color: "+eG({r:128,g:128,b:128},c)+";"),f.push("}"),f.push("::placeholder {"),f.push("    color: "+eH({r:169,g:169,b:169},c)+";"),f.push("}"),f.push("input:-webkit-autofill,"),f.push("textarea:-webkit-autofill,"),f.push("select:-webkit-autofill {"),f.push("    background-color: "+eI({r:250,g:255,b:189},c)+" !important;"),f.push("    color: "+eH({r:0,g:0,b:0},c)+" !important;"),f.push("}"),c.scrollbarColor&&f.push(function e(t){var r,n,o,a,i,u,c=[];if("auto"===t.scrollbarColor)r=eI({r:241,g:241,b:241},t),n=eH({r:96,g:96,b:96},t),o=eI({r:176,g:176,b:176},t),a=eI({r:144,g:144,b:144},t),i=eI({r:96,g:96,b:96},t),u=eI({r:255,g:255,b:255},t);else{var l=e8(t.scrollbarColor),d=eg(l),f=d.l>.5,$=function(e){return s(s({},d),{l:e7(d.l+e,0,1)})},h=function(e){return s(s({},d),{l:e7(d.l-e,0,1)})};r=ex(h(.4)),n=ex(f?h(.4):$(.4)),o=ex(d),a=ex($(.1)),i=ex($(.2))}return c.push("::-webkit-scrollbar {"),c.push("    background-color: "+r+";"),c.push("    color: "+n+";"),c.push("}"),c.push("::-webkit-scrollbar-thumb {"),c.push("    background-color: "+o+";"),c.push("}"),c.push("::-webkit-scrollbar-thumb:hover {"),c.push("    background-color: "+a+";"),c.push("}"),c.push("::-webkit-scrollbar-thumb:active {"),c.push("    background-color: "+i+";"),c.push("}"),c.push("::-webkit-scrollbar-corner {"),c.push("    background-color: "+u+";"),c.push("}"),c.push("* {"),c.push("    scrollbar-color: "+r+" "+o+";"),c.push("}"),c.join("\n")}(c)),c.selectionColor&&f.push((h=c,p=[],v=ti(h),m=v.backgroundColorSelection,g=v.foregroundColorSelection,["::selection","::-moz-selection"].forEach(function(e){p.push(e+" {"),p.push("    background-color: "+m+" !important;"),p.push("    color: "+g+" !important;"),p.push("}")}),p.join("\n"))),f.join("\n")),document.head.insertBefore($,a.nextSibling),tX($,"user-agent"),b=tJ("darkmoder--text"),tV.useFont||tV.textStroke>0?b.textContent=(T=tV,(N=[]).push("*:not(pre) {"),T.useFont&&T.fontFamily&&N.push("  font-family: "+T.fontFamily+" !important;"),T.textStroke>0&&(N.push("  -webkit-text-stroke: "+T.textStroke+"px !important;"),N.push("  text-stroke: "+T.textStroke+"px !important;")),N.push("}"),N.join("\n")):b.textContent="",document.head.insertBefore(b,a.nextSibling),tX(b,"text"),x=tJ("darkmoder--invert"),tG&&Array.isArray(tG.invert)&&tG.invert.length>0?x.textContent=[tG.invert.join(", ")+" {","    filter: "+(M=s(s({},tV),{contrast:0===tV.mode?tV.contrast:e7(tV.contrast-10,0,100)}),q=[],(M.mode===n.dark&&q.push("invert(100%) hue-rotate(180deg)"),100!==M.brightness&&q.push("brightness("+M.brightness+"%)"),100!==M.contrast&&q.push("contrast("+M.contrast+"%)"),0!==M.grayscale&&q.push("grayscale("+M.grayscale+"%)"),0!==M.sepia&&q.push("sepia("+M.sepia+"%)"),0===q.length)?null:q.join(" "))+" !important;","}",].join("\n"):x.textContent="",document.head.insertBefore(x,b.nextSibling),tX(x,"invert"),(y=tJ("darkmoder--inline")).textContent=tb(),document.head.insertBefore(y,x.nextSibling),tX(y,"inline"),(_=tJ("darkmoder--override")).textContent=tG&&tG.css?re(tG.css):"",document.head.appendChild(_),tX(_,"override"),w=tJ("darkmoder--variables"),k=ti(tV),S=tV.darkSchemeBackgroundColor,E=tV.darkSchemeTextColor,C=tV.lightSchemeBackgroundColor,R=tV.lightSchemeTextColor,L=0===(A=tV.mode)?C:S,P=0===A?R:E,L=eI(e8(L),tV),P=eH(e8(P),tV),w.textContent=[":root {","   --wp-dark-mode-neutral-background: "+L+";","   --wp-dark-mode-neutral-text: "+P+";","   --wp-dark-mode-selection-background: "+k.backgroundColorSelection+";","   --wp-dark-mode-selection-text: "+k.foregroundColorSelection+";","}",].join("\n"),document.head.insertBefore(w,y.nextSibling),tX(w,"variables"),z="darkmoder--proxy",(D=(void 0===B&&(B=document.head||document),(F=B.querySelector("."+z))||((F=document.createElement("script")).classList.add("darkmoder"),F.classList.add(z)),F)).textContent="("+tU+")()",document.head.insertBefore(D,w.nextSibling),document.hidden)e=U,t=Boolean(rd),rd=function(){document.hidden||(r$(),e(),rf=!0)},t||document.addEventListener("visibilitychange",rd);else U();r=tV,(o=document.querySelector(t3))?t1(o,r):(t4&&t4.disconnect(),(t4=new MutationObserver(function(e){loop:for(var t=0;t<e.length;t++)for(var n=e[t].addedNodes,o=0;o<n.length;o++){var a=n[o];if(a instanceof HTMLMetaElement&&a.name===tS){t4.disconnect(),t4=null,t1(a,r);break loop}}})).observe(document.head,{childList:!0}))}function rp(e){if(Array.isArray(e.adoptedStyleSheets)&&e.adoptedStyleSheets.length>0){var t,r,n=(t=e,r=!1,{render:function e(n,o,a){t.adoptedStyleSheets.forEach(function(e){if(!tD.has(e)){var i=e.rules,u=new CSSStyleSheet,s=o;G(e.cssRules).forEach(function(e,t){return s.set(t,e)}),t2().modifySheet({prepareSheet:function r(){for(var n,o,a,i,s,c=u.cssRules.length-1;c>=0;c--)u.deleteRule(c);return n=e,o=u,i=(a=$(t.adoptedStyleSheets)).indexOf(n),i!==(s=a.indexOf(o))-1&&(s>=0&&a.splice(s,1),a.splice(i+1,0,o),t.adoptedStyleSheets=a),tz.set(e,u),tD.add(u),u},sourceCSSRules:i,theme:n,variables:s,ignoreImageAnalysis:a,force:!1,isAsyncCancelled:function(){return r}})}})},destroy:function e(){r=!0;var n=$(t.adoptedStyleSheets);t.adoptedStyleSheets.forEach(function(e){if(tD.has(e)){var t=n.indexOf(e);t>=0&&n.splice(t,1),tz.delete(e),tD.delete(e)}}),t.adoptedStyleSheets=n}});tH.push(n),n.render(tV,tI,rr())}}function rv(){var e,t=document.querySelector('meta[name="darkmoder"]');return t?t.content!==t9:((e=document.createElement("meta")).name="darkmoder",e.content=t9,document.head.appendChild(e),!1)}function rm(){if((r$(),rc(),tW.forEach(function(e){return e.pause()}),j(tQ.values(),function(e){return e.stop()}),tQ.clear(),tF(),tx.forEach(function(e){return e.disconnect()}),ty.forEach(function(e){return e.disconnect()}),tx.clear(),ty.clear(),ed(rl),tc.clear(),eN.clear(),eM.clear(),td.clear(),o=null,a=null,tn.forEach(function(e){return URL.revokeObjectURL(e)}),tn.clear(),tf.clear()),ea(document.querySelector(".darkmoder--fallback")),document.head){var e;t4&&(t4.disconnect(),t4=null),(e=document.querySelector(t3))&&tE&&(e.content=tE),ea(document.head.querySelector(".darkmoder--user-agent")),ea(document.head.querySelector(".darkmoder--text")),ea(document.head.querySelector(".darkmoder--invert")),ea(document.head.querySelector(".darkmoder--inline")),ea(document.head.querySelector(".darkmoder--override")),ea(document.head.querySelector('meta[name="darkmoder"]')),document.dispatchEvent(new CustomEvent("__darkmoder__cleanUp")),ea(document.head.querySelector(".darkmoder--proxy"))}tY.forEach(function(e){ea(e.querySelector(".darkmoder--inline")),ea(e.querySelector(".darkmoder--override"))}),tY.clear(),j(tW.keys(),function(e){return ru(e)}),j(document.querySelectorAll(".darkmoder"),ea),tH.forEach(function(e){e.destroy()}),tH.splice(0)}var rg=/url\(\"(blob\:.*?)\"\)/g,rb=function(){try{return window.self!==window.top}catch(e){return console.warn(e),!0}}();function rx(t,r){void 0===t&&(t={}),void 0===r&&(r=null);var n=s(s({},B),t);if(n.engine!==M.dynamicTheme)throw Error("Theme engine is not supported.");!function e(t,r,n){if(tV=t,tG=r,tK=n,document.head)!rv()&&rh();else{if(!m){var o=tJ("darkmoder--fallback");document.documentElement.appendChild(o),o.textContent=tu(tV,{strict:!0})}var a=new MutationObserver(function(){if(document.head){if(a.disconnect(),rv()){rm();return}rh()}});a.observe(document,{childList:!0,subtree:!0})}}(n,r,rb),e.enabled=!0}function ry(){rm(),e.enabled=!1}var r_=matchMedia("(prefers-color-scheme: dark)"),rw={themeOptions:null,fixes:null};function r8(){r_.matches?rx(rw.themeOptions,rw.fixes):ry()}var rk=function e(t){C=t||E};e.auto=function e(t,r){void 0===t&&(t={}),void 0===r&&(r=null),t?(rw={themeOptions:t,fixes:r},r8(),r_.addEventListener("change",r8)):(r_.removeEventListener("change",r8),ry())},e.disable=ry,e.enable=rx,e.exportGeneratedCSS=function e(){return c(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,function e(){return c(this,void 0,void 0,function(){var e,t,r,n,o;function a(t,r){var n=document.querySelector(t);n&&n.textContent&&(e.push("/* "+r+" */"),e.push(n.textContent),e.push(""))}return l(this,function(i){switch(i.label){case 0:if(e=[''],a(".darkmoder--fallback","Fallback Style"),a(".darkmoder--user-agent","User-Agent Style"),a(".darkmoder--text","Text Style"),a(".darkmoder--invert","Invert Style"),a(".darkmoder--variables","Variables Style"),t=[],document.querySelectorAll(".darkmoder--sync").forEach(function(e){j(e.sheet.cssRules,function(e){e&&e.cssText&&t.push(e.cssText)})}),!(0!=t.length))return[3,2];return r=function e(t){function r(e){return e.replace(/^\s+/,"")}function n(e){return 0===e?"":" ".repeat(4*e)}for(var o=/[^{}]+{\s*}/g;o.test(t);)t=t.replace(o,"");for(var a=t.replace(/\s{2,}/g," ").replace(/\{/g,"{\n").replace(/\}/g,"\n}\n").replace(/\;(?![^\(|\"]*(\)|\"))/g,";\n").replace(/\,(?![^\(|\"]*(\)|\"))/g,",\n").replace(/\n\s*\n/g,"\n").split("\n"),i=0,u=[],s=0,c=a.length;s<c;s++){var l=a[s]+"\n";l.match(/\{/)?u.push(n(i++)+r(l)):l.match(/\}/)?u.push(n(--i)+r(l)):u.push(n(i)+r(l))}return u.join("").trim()}(t.join("\n")),e.push("/* Modified CSS */"),o=(n=e).push,[4,function e(t){return c(this,void 0,void 0,function(){var e,r;return l(this,function(n){switch(n.label){case 0:return e=[],e5(rg,t,1).forEach(function(t){var r=S(t);e.push(r)}),[4,Promise.all(e)];case 1:return r=n.sent(),[2,t.replace(rg,function(){return'url("'+r.shift()+'")'}),]}})})}(r)];case 1:o.apply(n,[i.sent()]),e.push(""),i.label=2;case 2:return a(".darkmoder--override","Override Style"),[2,e.join("\n")]}})})}()];case 1:return[2,e.sent()]}})})},e.setFetchMethod=rk,Object.defineProperty(e,"__esModule",{value:!0})});